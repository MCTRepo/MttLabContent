<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-900T0xZH-MicrosoftAzureFundamentals
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-900T0xZH-MicrosoftAzureFundamentals
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    </ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="08---实现-azure-functions5-分钟">08 - 实现 Azure Functions（5 分钟）</h1>

<p>在本演练中，我们将创建一个函数应用，用于在出现 HTTP 请求时显示 Hello 消息。</p>

<h1 id="任务-1创建一个函数应用">任务 1：创建一个函数应用</h1>

<p>在此任务中，我们将创建一个函数应用。</p>

<ol>
  <li>
    <p>登录到 <a href="https://portal.azure.com">Azure 门户</a>。</p>
  </li>
  <li>
    <p>在门户顶部的“<strong>搜索</strong>”栏，搜索并选择“<strong>函数应用</strong>”，然后在“<strong>函数应用</strong>”边栏选项卡中，单击“<strong>添加</strong>”、“<strong>+ 创建</strong>”、“<strong>+ 新建</strong>”。</p>
  </li>
  <li>
    <p>在“<strong>函数应用</strong>”边栏选项卡的“<strong>基本信息</strong>”选项卡上，指定以下设置（将函数应用名称中的 <strong>xxxx</strong> 替换为字母和数字，使该名称在全局范围内唯一，并将所有其他设置保留为默认值）：</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>订阅</td>
          <td><strong>保留提供的默认值</strong></td>
        </tr>
        <tr>
          <td>资源组</td>
          <td><strong>创建新的资源组</strong></td>
        </tr>
        <tr>
          <td>函数应用名称</td>
          <td><strong>function-xxxx</strong></td>
        </tr>
        <tr>
          <td>发布</td>
          <td><strong>代码</strong></td>
        </tr>
        <tr>
          <td>运行时堆栈</td>
          <td><strong>NET</strong></td>
        </tr>
        <tr>
          <td>版本</td>
          <td><strong>3.1</strong></td>
        </tr>
        <tr>
          <td>区域</td>
          <td><strong>美国东部</strong></td>
        </tr>
      </tbody>
    </table>

    <p><strong>备注</strong> - 请记住更改 <strong>“xxxx”</strong> 以使其成为唯一的<strong>函数应用名称</strong></p>
  </li>
  <li>
    <p>单击“<strong>查看 + 创建</strong>”，然后在验证成功后，单击“<strong>创建</strong>”以开始预配和部署新的 Azure 函数应用。</p>
  </li>
  <li>
    <p>等待说明已创建资源的通知出现。</p>
  </li>
  <li>
    <p>部署完成后，在部署边栏选项卡单击“<strong>前往资源</strong>”。或者，导航回“<strong>函数应用</strong>”边栏选项卡，单击“<strong>刷新</strong>”并验证新创建的函数应用是否具有“<strong>正在运行</strong>”状态。</p>

    <p><a href="../images/0701.png" target="_blank"><img src="../images/0701.png" alt="带有新函数应用的“函数应用”页面的屏幕截图。"></a></p>
  </li>
</ol>

<h1 id="任务-2创建一个-http-触发的函数并对其进行测试">任务 2：创建一个 HTTP 触发的函数并对其进行测试</h1>

<p>在此任务中，我们将使用 Webhook + API 函数，用于在出现 HTTP 请求时显示消息。</p>

<ol>
  <li>
    <p>在 <strong>“函数应用”</strong> 边栏选项卡上，单击新创建的函数应用。</p>
  </li>
  <li>
    <p>在“函数应用”边栏选项卡的“<strong>函数</strong>”部分，单击“<strong>函数</strong>”，然后单击“<strong>添加</strong>”、“<strong>+ 创建</strong>”、“<strong>+ 新建</strong>”。</p>

    <p><a href="../images/0702.png" target="_blank"><img src="../images/0702.png" alt="此屏幕截图显示了如何在 Azure 门户中为“dot net 入门”窗格在 Azure Functions 中选择开发环境这一步骤。突出显示用于新建门户内函数的显示元素。突出显示元素为：展开函数应用、添加新函数、门户内和继续按钮。"></a></p>
  </li>
  <li>
    <p>“<strong>添加函数</strong>”弹出窗口将出现在右侧。在“<strong>选择模板</strong>”部分中，单击“<strong>HTTP 触发器</strong>”。单击“<strong>添加</strong>”</p>

    <p><a href="../images/0702a.png" target="_blank"><img src="../images/0702a.png" alt="此屏幕截图显示了如何在 Azure 门户中为“dot net 入门”窗格在 Azure Functions 中创建函数这一步骤。突出显示“HTTP 触发器”卡，以说明用于向 Azure 函数添加新 Webhook 的显示元素。"></a></p>
  </li>
  <li>
    <p>在 <strong>HttpTrigger1</strong> 边栏选项卡的“<strong>开发人员</strong>”部分，单击“<strong>编码 + 测试</strong>”。</p>
  </li>
  <li>
    <p>在“<strong>编码 + 测试</strong>”边栏选项卡上，查看自动生成的代码，并注意该代码旨在运行 HTTP 请求和日志信息。另请注意，该函数将返回包含名称的 Hello 消息。</p>

    <p><a href="../images/0704.png" target="_blank"><img src="../images/0704.png" alt="函数代码的屏幕截图。突出显示 Hello 消息。"></a></p>
  </li>
  <li>
    <p>在函数编辑器顶部单击“<strong>获取函数 URL</strong>”。</p>
  </li>
  <li>
    <p>请确保“<strong>密钥</strong>”下拉列表中的值设置为<strong>默认</strong>值，并单击“<strong>复制</strong>”以复制函数 URL。</p>

    <p><a href="../images/0705.png" target="_blank"><img src="../images/0705.png" alt="此屏幕截图显示了 Azure 门户中函数编辑器内的“获取函数 URL”窗格。突出显示显示元素获取函数 URL 按钮、设置键下拉列表和复制 URL 按钮，以指示如何从函数编辑器中获取和复制函数 URL。"></a></p>
  </li>
  <li>
    <p>打开一个新的浏览器选项卡，并将复制的函数 URL 粘贴到 Web 浏览器的地址栏中。当请求该页面时，该函数将运行。请注意，返回的消息会指出函数需要请求正文中的名称。</p>

    <p><a href="../images/0706.png" target="_blank"><img src="../images/0706.png" alt="“请提供一个名称”这一消息的屏幕截图。"></a></p>
  </li>
  <li>
    <p>将 <strong>&amp;name=<em>yourname</em></strong> 附加到 URL 的末尾。</p>

    <p><strong>备注</strong>：例如，如果你的名字是 Cindy，则最终 URL 将如下所示： <code>https://azfuncxxx.azurewebsites.net/api/HttpTrigger1?code=X9xx9999xXXXXX9x9xxxXX==&amp;name=cindy</code></p>

    <p><a href="../images/0707.png" target="_blank"><img src="../images/0707.png" alt="此屏幕截图显示了 Web 浏览器的地址栏中突出显示的函数 URL 和附加的示例用户名。此外，突出显示 hello 消息和用户名，以说明主浏览器窗口中函数的输出。"></a></p>
  </li>
  <li>
    <p>按下 Enter 键时，函数将会运行并跟踪每个调用。若要查看跟踪，请返回门户“<strong>HttpTrigger1| 编码 + 测试</strong>”边栏选项卡，并单击 <strong>“监视”</strong>。可以通过选择时间戳来<strong>配置</strong> Application Insights，然后单击“<strong>在 Application Insights 中运行查询</strong>”。</p>

    <p><a href="../images/0709.png" target="_blank"><img src="../images/0709.png" alt="此屏幕截图显示了在 Azure 门户的函数编辑器中运行函数所产生的跟踪信息日志。"></a></p>
  </li>
</ol>

<p>恭喜！你已创建一个函数应用，当出现 HTTP 请求时，它会显示 Hello 消息。</p>

<p><strong>备注</strong>：为避免产生额外费用，你可以根据需要删除此资源组。搜索资源组，单击你的资源组，然后单击“<strong>删除资源组</strong>”。验证资源组的名称，然后单击“<strong>删除</strong>”。关注“<strong>通知</strong>”，了解删除操作的进度。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>