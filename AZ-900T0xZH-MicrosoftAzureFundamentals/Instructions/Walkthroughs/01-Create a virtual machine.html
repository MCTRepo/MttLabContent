<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-900T0xZH-MicrosoftAzureFundamentals
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-900T0xZH-MicrosoftAzureFundamentals
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    </ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="01---在门户中创建虚拟机10-分钟">01 - 在门户中创建虚拟机（10 分钟）</h1>

<p>在本演练中，我们将在 Azure 门户中创建一个虚拟机，连接到该虚拟机，安装 Web 服务器角色并进行测试。</p>

<p><strong>备注</strong>：请在本演练中花些时间单击并阅读信息图标。</p>

<h1 id="任务-1创建虚拟机">任务 1：创建虚拟机</h1>
<ol>
  <li>
    <p>登录到 Azure 门户：<strong>https://portal.azure.com</strong></p>
  </li>
  <li>
    <p>从门户菜单中的“<strong>所有服务</strong>”边栏选项卡中，搜索并选择“<strong>虚拟机</strong>”，然后单击“<strong>+ 添加</strong>”、“<strong>+ 创建</strong>”、“<strong>+ 新建</strong>”，从下拉列表中选择“<strong>+ 虚拟机</strong>”。</p>
  </li>
  <li>
    <p>在“<strong>基本</strong>”选项卡上，填写以下信息（其他所有设置保留默认值）：</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>订阅</td>
          <td><strong>使用提供的默认值</strong></td>
        </tr>
        <tr>
          <td>资源组</td>
          <td><strong>创建新的资源组</strong></td>
        </tr>
        <tr>
          <td>虚拟机名称</td>
          <td><strong>myVM</strong></td>
        </tr>
        <tr>
          <td>区域</td>
          <td><strong>（美国）美国东部</strong></td>
        </tr>
        <tr>
          <td>可用性选项</td>
          <td>没有所需的基础结构冗余选项</td>
        </tr>
        <tr>
          <td>图片</td>
          <td><strong>Windows Server 2019 Datacenter - Gen2</strong></td>
        </tr>
        <tr>
          <td>大小</td>
          <td><strong>标准 D2s v3</strong></td>
        </tr>
        <tr>
          <td>管理员帐户用户名</td>
          <td><strong>azureuser</strong></td>
        </tr>
        <tr>
          <td>管理员帐号密码（请小心输入！）</td>
          <td><strong>Pa$$w0rd1234</strong></td>
        </tr>
        <tr>
          <td>入站端口规则 -</td>
          <td><strong>允许选择端口</strong></td>
        </tr>
        <tr>
          <td>选择入站端口</td>
          <td><strong>RDP (3389)</strong> 和 HTTP (80)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>切换到网络选项卡以确保在“<strong>选择入站端口</strong>”部分中选择了“<strong>HTTP (80) 和 RDP (3389)</strong>”。</p>
  </li>
  <li>
    <p>切换到“<strong>管理</strong>”选项卡，然后在其“<strong>监视</strong>”部分中选择以下设置：</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>启动诊断</td>
          <td><strong>禁用</strong></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>将其余值保留为默认值，然后单击页面底部的“<strong>查看 + 创建</strong>”按钮。</p>
  </li>
  <li>
    <p>验证通过后，单击“<strong>创建</strong>”按钮。部署虚拟机大约需要五到七分钟。</p>
  </li>
  <li>
    <p>你将在部署页面和通过“<strong>通知</strong>”区域（顶部菜单栏中的钟形图标）收到更新。</p>
  </li>
</ol>

<h1 id="任务-2连接到虚拟机">任务 2：连接到虚拟机</h1>

<p>在此任务中，我们将使用 RDP（远程桌面协议）连接到新虚拟机。</p>

<ol>
  <li>
    <p>单击上方蓝色工具栏中的钟形图标，并在部署成功后选择“转到资源”。</p>

    <p><strong>备注</strong>: 你也可以使用“<strong>部署</strong>”页中的“转到资源”链接。</p>
  </li>
  <li>
    <p>在虚拟机“<strong>概述</strong>”边栏选项卡上，单击“<strong>连接</strong>”按钮并从下拉列表中选择“<strong>RDP</strong>”。</p>

    <p><a href="../images/0101.png" target="_blank"><img src="../images/0101.png" alt="此屏幕截图显示了虚拟机属性，其中突出显示了“连接”按钮。"></a></p>

    <p><strong>备注</strong>：以下说明介绍如何从 Windows 计算机连接到 VM。在 Mac 上，需要 RDP 客户端（例如 Mac App Store 中的此远程桌面客户端），而在 Linux 计算机上，可以使用开放源代码 RDP 客户端。</p>
  </li>
  <li>
    <p>在“<strong>连接到虚拟机</strong>”页面，保留默认选项，以便通过端口 3389 使用公共 IP 地址进行连接，然后单击“<strong>下载 RDP 文件</strong>”。屏幕左下角会下载一个文件。</p>
  </li>
  <li>
    <p><strong>打开</strong>下载的 RDP 文件（位于实验室计算机的左下角）并在出现提示时单击“<strong>连接</strong>”。</p>

    <p><a href="../images/0102.png" target="_blank"><img src="../images/0102.png" alt="此屏幕截图显示了虚拟机属性，其中突出显示了“连接”按钮。"></a></p>
  </li>
  <li>
    <p>在“<strong>Windows 安全</strong>”窗口中，使用创建 VM <strong>azureuser</strong> 时使用的管理员凭据和密码 <strong>Pa$$w0rd1234</strong> 进行登录。</p>
  </li>
  <li>
    <p>在登录过程中，你可能会收到证书警告。单击“<strong>是</strong>”或创建连接并连接到已部署的 VM。你应该成功连接。</p>

    <p><a href="../images/0104.png" target="_blank"><img src="../images/0104.png" alt="此屏幕截图显示了“证书警告”对话框，此对话框通知用户存在不受信任的证书，其中突出显示了“是”按钮。"></a></p>
  </li>
</ol>

<p>新的虚拟机 (myVM) 将在你的实验室内启动。关闭弹出的服务器管理器和仪表板窗口（单击右上角的“x”）。此时会看到在虚拟机的蓝色背景。<strong>恭喜！</strong> 你已部署并连接到运行 Windows Server 的虚拟机。</p>

<h1 id="任务-3安装-web-服务器角色并进行测试">任务 3：安装 Web 服务器角色并进行测试</h1>

<p>在此任务中，我们将在刚创建的虚拟机的服务器上安装 Web 服务器角色，并确保显示默认的 IIS 欢迎页面。</p>

<ol>
  <li>
    <p>在新打开的虚拟机的搜索栏中，搜索 PowerShell 以启动 <strong>PowerShell</strong>，找到后依次右键单击“<strong>Windows PowerShell</strong>”和“<strong>以管理员身份运行</strong>”。</p>

    <p><a href="../images/0105.png" target="_blank"><img src="../images/0105.png" alt="此屏幕截图显示了虚拟机桌面，其中已单击“开始”按钮，并选择了“PowerShell”，且突出显示“以管理员身份运行”。"></a></p>
  </li>
  <li>
    <p>在 PowerShell 中运行以下命令，在虚拟机中安装 <strong>Web 服务器</strong>功能。（粘贴命令并按 ENTER 键开始安装）。</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="language-PowerShell"> Install-WindowsFeature -name Web-Server -IncludeManagementTools
</code></pre>
  </li>
  <li>
    <p>完成后会看到一个值为“<strong>True</strong>”的提示符，指示“<strong>成功</strong>”。你无需重启虚拟机即可完成安装。单击虚拟机顶部中心蓝色栏上的 <strong>x</strong>，关闭与 VM 的 RDP 连接。还可以单击顶部中心蓝色栏上的“<strong>-</strong>”将其最小化。</p>

    <p><a href="../images/0106.png" target="_blank"><img src="../images/0106.png" alt="此屏幕截图显示了 Windows PowerShell 命令提示符，其中命令 Install-WindowsFeature -name Web-Server -IncludeManagementTools 已成功完成，并且输出声明了这一点。"></a></p>
  </li>
  <li>
    <p>返回门户，导航回 myVM 的“<strong>概述</strong>”边栏选项卡，然后使用“<strong>单击复制到剪贴板</strong>”按钮复制 myVM 的公共 IP 地址，打开新的浏览器选项卡，将该公共 IP 地址粘贴到 URL 文本框中，然后按 <strong>Enter</strong> 键以浏览到它。</p>

    <p><a href="../images/0107.png" target="_blank"><img src="../images/0107.png" alt="此屏幕截图显示了 Azure 门户“虚拟机属性”窗格，其中复制了 IP 地址。"></a></p>
  </li>
  <li>
    <p>随即将显示默认的 IIS Web 服务器欢迎页面。</p>

    <p><a href="../images/0108.png" target="_blank"><img src="../images/0108.png" alt="此屏幕截图显示了通过 Web 浏览器中的公共 IP 地址访问的默认 IIS Web 服务器欢迎页面。"></a></p>
  </li>
</ol>

<p><strong>恭喜！</strong> 你已创建运行 Web 服务器的新 VM，该服务器可通过其公共 IP 地址进行访问。如果你有一个要托管的 Web 应用程序，则可以将这些应用程序文件部署到虚拟机并进行托管，以便在已部署的虚拟机上进行公共访问。</p>

<p><strong>备注</strong>：为避免产生额外费用，你可以根据需要删除此资源组。搜索资源组，单击你的资源组，然后单击“<strong>删除资源组</strong>”。验证资源组的名称，然后单击“<strong>删除</strong>”。关注“<strong>通知</strong>”，了解删除操作的进度。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>