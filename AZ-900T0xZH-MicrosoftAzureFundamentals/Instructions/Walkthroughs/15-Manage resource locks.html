<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-900T0xZH-MicrosoftAzureFundamentals
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-900T0xZH-MicrosoftAzureFundamentals
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    </ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="15---管理资源锁5-分钟">15 - 管理资源锁（5 分钟）</h1>

<p>在本演练中，我们将向资源组添加一个锁，然后测试删除该资源组。可以将锁应用于订阅中的资源组或单个资源，以防止意外删除或修改关键资源。</p>

<h1 id="任务-1--向资源组添加锁并测试删除">任务 1：  向资源组添加锁并测试删除</h1>

<p>在此任务中，我们将向资源组添加资源锁，并测试删除该资源组。</p>

<ol>
  <li>
    <p>登录到 <a href="https://portal.azure.com">Azure 门户</a>。</p>
  </li>
  <li>
    <p>在 Azure 门户中，导航到资源组 <strong>myRGLocks</strong>。</p>
  </li>
  <li>
    <p>可以将锁应用于订阅、资源组或单个资源，以防止意外删除或修改关键资源。</p>
  </li>
  <li>
    <p>在“<strong>设置</strong>”部分，单击“<strong>锁</strong>”，然后单击“<strong>+ 添加</strong>”。</p>

    <p><a href="../images/1601.png" target="_blank"><img src="../images/1601.png" alt="myRGLocks 资源组的屏幕截图，其中显示了“锁”窗格。"></a></p>
  </li>
  <li>
    <p>配置新锁。完成后，单击“<strong>确定</strong>”。</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>锁名称</td>
          <td>’'’RGLock’’’</td>
        </tr>
        <tr>
          <td>锁类型</td>
          <td><strong>删除</strong></td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>单击“<strong>概述</strong>”，再单击“<strong>删除资源组</strong>”。输入资源组的名称，然后单击“<strong>确定</strong>”。你会收到一条错误消息，指出资源组已锁定，无法删除。</p>

    <p><a href="../images/1602.png" target="_blank"><img src="../images/1602.png" alt="删除锁失败的屏幕截图。"></a></p>
  </li>
</ol>

<h1 id="任务-2测试删除资源组的成员">任务 2：测试删除资源组的成员</h1>

<p>在此任务中，我们将测试资源锁是否会保护资源组中的存储帐户。</p>

<ol>
  <li>
    <p>在 <strong>“所有服务”</strong> 边栏选项卡中，搜索并选择 <strong>“存储帐户”</strong>，然后单击 <strong>“+ 添加、+ 创建或 + 新建”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“+添加 +新建 +创建”</strong> 边栏选项卡的 <strong>“存储帐户”</strong> 页上，填写以下信息（将存储帐户名称中的 <strong>“xxxx”</strong> 替换为字母和数字，使该名称在全局范围内唯一）。其他设置均保留默认值。</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>订阅</td>
          <td><strong>选择你的订阅</strong></td>
        </tr>
        <tr>
          <td>资源组</td>
          <td><strong>myRGLocks</strong></td>
        </tr>
        <tr>
          <td>存储帐户名称</td>
          <td><strong>storageaccountxxxx</strong></td>
        </tr>
        <tr>
          <td>位置</td>
          <td><strong>（美国）美国东部</strong></td>
        </tr>
        <tr>
          <td>性能</td>
          <td><strong>标准</strong></td>
        </tr>
        <tr>
          <td>帐户类型</td>
          <td><strong>StorageV2（常规用途 v2）</strong></td>
        </tr>
        <tr>
          <td>复制</td>
          <td><strong>本地冗余存储 (LRS)</strong></td>
        </tr>
        <tr>
          <td>访问层（默认）</td>
          <td><strong>热</strong></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>单击 <strong>“查看 + 创建”</strong> 查看存储帐户设置并允许 Azure 验证配置。</p>
  </li>
  <li>
    <p>验证后，单击 <strong>“创建”</strong>。等待告知帐户已创建成功的通知。</p>
  </li>
  <li>
    <p>等待告知存储帐户已创建成功的通知。</p>
  </li>
  <li>
    <p>访问新存储帐户，然后在 <strong>“概述”</strong> 窗格中，单击 <strong>“删除”</strong>。你会收到一条错误消息，指出资源或其父级具有删除锁。</p>

    <p><a href="../images/1603.png" target="_blank"><img src="../images/1603.png" alt="删除存储帐户时出现错误的屏幕截图。"></a></p>

    <p><strong>备注</strong>： 虽然我们没有专门为存储帐户创建锁，但是我们确实在包含存储帐户的资源组级别创建了锁。这样，此 <em>“父级”</em> 级别的锁会防止我们删除资源，并且存储帐户会从父级继承锁。</p>
  </li>
</ol>

<h1 id="任务-3删除资源锁">任务 3：删除资源锁</h1>

<p>在此任务中，我们将删除资源锁并进行测试。</p>

<ol>
  <li>
    <p>返回到 <strong>“myRGLocks-XXXXXXXX”</strong> 资源组边栏选项卡，然后在 <strong>“设置”</strong> 部分单击 <strong>“锁”</strong>。</p>
  </li>
  <li>
    <p>单击 <strong>“myRGLocks-XXXXXXXX”</strong> 条目极右侧（ <strong>“编辑”</strong> 的右侧）的 <strong>“删除”链接</strong>。</p>

    <p><a href="../images/1604.png" target="_blank"><img src="../images/1604.png" alt="“锁”的屏幕截图，其中突出显示了“删除”链接。"></a></p>
  </li>
  <li>
    <p>返回到存储帐户边栏选项卡，并确认你现在可删除资源。</p>
  </li>
</ol>

<p>恭喜！你创建了资源组、向资源组添加了锁并测试了删除、测试了删除资源组中的资源，并且删除了资源锁。</p>

<p><strong>备注</strong>：为避免产生额外费用，你可以根据需要删除此资源组。搜索资源组，单击你的资源组，然后单击“<strong>删除资源组</strong>”。验证资源组的名称，然后单击“<strong>删除</strong>”。关注“<strong>通知</strong>”，了解删除操作的进度。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-900T0xZH-MicrosoftAzureFundamentals
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>