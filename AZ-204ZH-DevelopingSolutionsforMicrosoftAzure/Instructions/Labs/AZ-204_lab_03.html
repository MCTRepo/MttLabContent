<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-204ZH-DevelopingSolutionsforMicrosoftAzure
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-204ZH-DevelopingSolutionsforMicrosoftAzure
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-204ZH-DevelopingSolutionsforMicrosoftAzure" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#准备工作">准备工作</a></li><li class="nav-item"><a class="nav-link" href="#练习-1创建-azure-资源">练习 1：创建 Azure 资源</a></li><li class="nav-item"><a class="nav-link" href="#练习-2将-blob-上传到容器">练习 2：将 Blob 上传到容器</a></li><li class="nav-item"><a class="nav-link" href="#练习-3使用-net-sdk-访问容器">练习 3：使用 .NET SDK 访问容器</a></li><li class="nav-item"><a class="nav-link" href="#练习-4使用-net-sdk-检索-blob-统一资源标识符-uri">练习 4：使用 .NET SDK 检索 Blob 统一资源标识符 (URI)</a></li><li class="nav-item"><a class="nav-link" href="#练习-5清理订阅">练习 5：清理订阅</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="实验室-03使用适用于-net-的-azure-存储-sdk-检索-azure-存储资源和元数据">实验室 03：使用适用于 .NET 的 Azure 存储 SDK 检索 Azure 存储资源和元数据</h1>

<h2 id="microsoft-azure-用户界面">Microsoft Azure 用户界面</h2>

<p>鉴于 Microsoft 云工具的动态特性，Azure UI 在此培训内容开发后可能会发生更改。这些更改可能会导致实验室说明和实验室步骤不匹配。</p>

<p>当社区要求我们进行更改时，Microsoft 将更新此培训课程。但是，由于云更新频繁发生，因此在此培训内容更新之前，你可能会遇到 UI 更改情况。<strong>如果发生这种情况，请适应这些更改，并根据需要在实验室中熟悉这些更改。</strong></p>

<h2 id="说明">说明</h2>

<h3 id="准备工作">准备工作</h3>

<h4 id="登录到实验室虚拟机">登录到实验室虚拟机</h4>

<p>使用以下凭据登录到 Windows 10 虚拟机 (VM)：</p>

<ul>
  <li>
    <p>用户名：<strong>Admin</strong></p>
  </li>
  <li>
    <p>密码： <strong>Pa55w.rd</strong></p>
  </li>
</ul>

<blockquote>
  <p><strong>备注</strong>：你的讲师将提供连接到虚拟实验室环境的说明。</p>
</blockquote>

<h4 id="查看已安装的应用程序">查看已安装的应用程序</h4>

<p>在你的 Windows 10 桌面上找到任务栏。任务栏里有本实验室中你将使用的应用程序的图标：</p>

<ul>
  <li>
    <p>Microsoft Edge</p>
  </li>
  <li>
    <p>文件资源管理器</p>
  </li>
</ul>

<h3 id="练习-1创建-azure-资源">练习 1：创建 Azure 资源</h3>

<h4 id="任务-1打开-azure-门户">任务 1：打开 Azure 门户</h4>

<ol>
  <li>
    <p>在任务栏上，选择 <strong>“Microsoft Edge”</strong> 图标。</p>
  </li>
  <li>
    <p>在打开的浏览器窗口中，转到 Azure 门户 (<a href="https://portal.azure.com">https://portal.azure.com</a>)。</p>
  </li>
  <li>
    <p>输入你的 Microsoft 帐户的电子邮件地址，然后选择 <strong>“下一步”</strong>。</p>
  </li>
  <li>
    <p>输入 Microsoft 帐户的密码，然后选择 <strong>“登录”</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>： 第一次登录 Azure 门户时，你会看到一个门户教程。选择 <strong>“开始使用”</strong>，以跳过导览并开始使用门户。</p>
    </blockquote>
  </li>
</ol>

<h4 id="任务-2创建存储帐户">任务 2：创建存储帐户</h4>

<ol>
  <li>
    <p>在 Azure 门户的“导航”窗格中，选择 <strong>“所有服务”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“所有服务”</strong> 边栏选项卡中，选择 <strong>“存储帐户”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“存储帐户”</strong> 边栏选项卡上，查找 Storage 实例列表。</p>
  </li>
  <li>
    <p>在“<strong>存储帐户</strong>”边栏选项卡中，选择“<strong>+ 创建</strong>”。</p>
  </li>
  <li>
    <p>在 <strong>“创建存储帐户”</strong> 边栏选项卡上找到选项卡，例如 <strong>“基本”</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>： 每个选项卡代表工作流中创建新存储帐户的一个步骤。你可以随时选择 <strong>“查看 + 创建”</strong> 跳过其余选项卡。</p>
    </blockquote>
  </li>
  <li>
    <p>在 <strong>“基本”</strong> 选项卡上，执行以下操作：</p>

    <ol>
      <li>
        <p>将 <strong>“订阅”</strong> 文本框保留设置为默认值。</p>
      </li>
      <li>
        <p>在 <strong>“资源组”</strong> 部分，选择 <strong>“新建”</strong>，输入 <strong>“StorageMedia”</strong>，然后选择 <strong>“确定”</strong>。</p>
      </li>
      <li>
        <p>在 <strong>“存储帐户名称”</strong> 文本框中，输入 <strong>mediastor<em>[yourname]</em></strong>。</p>
      </li>
      <li>
        <p>在“<strong>区域</strong>”下拉列表中，选择“<strong>(美国) 美国东部</strong>”地区。</p>
      </li>
      <li>
        <p>在 <strong>“性能”</strong> 部分，选择 <strong>“标准”</strong>。</p>
      </li>
      <li>
        <p>在 <strong>“冗余”</strong> 下拉列表中，选择 <strong>“本地冗余存储(LRS)”</strong>。</p>
      </li>
      <li>
        <p>选择 <strong>“查看 + 创建”</strong>。</p>
      </li>
    </ol>
  </li>
  <li>
    <p>在 <strong>“查看 + 创建”</strong> 选项卡中，查看在上述步骤中选择的选项。</p>
  </li>
  <li>
    <p>选择 <strong>“创建”</strong>，使用指定的配置创建存储帐户。</p>

    <blockquote>
      <p><strong>备注</strong>： 等待创建任务完成，再继续本实验室。</p>
    </blockquote>
  </li>
  <li>
    <p>在 Azure 门户的“导航”窗格中，选择 <strong>“所有服务”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“所有服务”</strong> 边栏选项卡中，选择 <strong>“存储帐户”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“存储帐户”</strong> 边栏选项卡，选择 <strong>mediastor<em>[yourname]</em></strong> 存储帐户实例。</p>

    <blockquote>
      <p><strong>备注</strong>：如果 <strong>mediastor<em>[yourname]</em></strong> 存储帐户实例未出现，请选择“<strong>刷新</strong>”。</p>
    </blockquote>
  </li>
  <li>
    <p>在 <strong>“存储帐户”</strong> 边栏选项卡中，找到 <strong>“设置”</strong> 部分并选择 <strong>“终结点”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“终结点”</strong> 部分，记录 <strong>“Blob 服务”</strong> 文本框的值。</p>

    <blockquote>
      <p><strong>备注</strong>： 你将在稍后的实验室中使用此终结点值。</p>
    </blockquote>
  </li>
  <li>
    <p>仍然在 <strong>“存储帐户”</strong> 边栏选项卡中，找到 <strong>“安全性 + 网络”</strong> 部分，然后选择 <strong>“访问密钥”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“访问密钥”</strong> 部分中，执行以下操作：</p>

    <ol>
      <li>
        <p>在 <strong>“存储帐户名”</strong> 文本框中记录该值。</p>
      </li>
      <li>
        <p>选择“<strong>显示密钥</strong>”。</p>
      </li>
      <li>
        <p>选择任一密钥，然后将值记录在 <strong>“密钥”</strong> 框中。</p>
      </li>
    </ol>

    <blockquote>
      <p><strong>备注</strong>： 所有这些值稍后将在本实验室中使用。</p>
    </blockquote>
  </li>
</ol>

<h4 id="回顾">回顾</h4>

<p>在本练习中，你创建了将用于本实验室其余部分的新存储帐户。</p>

<h3 id="练习-2将-blob-上传到容器">练习 2：将 Blob 上传到容器</h3>

<h4 id="任务-1创建存储帐户容器">任务 1：创建存储帐户容器</h4>

<ol>
  <li>
    <p>在 Azure 门户的“导航”窗格中，选择 <strong>“资源组”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“资源组”</strong> 边栏选项卡中，找到并选择你之前在本实验室中创建的 <strong>“StorageMedia”</strong> 资源组。</p>
  </li>
  <li>
    <p>在 <strong>“StorageMedia”</strong> 边栏选项卡中，选择你之前在本实验室中创建的 <strong>mediastor<em>[yourname]</em></strong> 存储帐户。</p>
  </li>
  <li>
    <p>在 <strong>“存储帐户”</strong> 边栏选项卡中，选择 <strong>“数据存储”</strong> 部分的 <strong>“容器”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“容器”</strong> 部分，选择 <strong>“+ 容器”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“新建容器”</strong> 弹出窗口中，执行以下操作：</p>

    <ol>
      <li>
        <p>在 <strong>“名称”</strong> 文本框中，输入 <strong>raster-graphics</strong>。</p>
      </li>
      <li>
        <p>在“<strong>公共访问级别</strong>”下拉列表中，选择“<strong>专用(非匿名访问)</strong>”，然后选择“<strong>创建</strong>”。</p>
      </li>
    </ol>
  </li>
  <li>
    <p>回到 <strong>“容器”</strong> 部分中，选择 <strong>“+ 容器”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“新建容器”</strong> 弹出窗口中，执行以下操作：</p>

    <ol>
      <li>
        <p>在 <strong>“名称”</strong> 文本框中，输入 <strong>compressed-audio</strong>。</p>
      </li>
      <li>
        <p>在“<strong>公共访问级别</strong>”下拉列表中，选择“<strong>专用(非匿名访问)</strong>”，然后选择“<strong>创建</strong>”。</p>
      </li>
    </ol>
  </li>
  <li>
    <p>在 <strong>“容器”</strong> 部分中，查看容器更新列表。</p>
  </li>
</ol>

<h4 id="任务-2上传存储帐户-blob">任务 2：上传存储帐户 Blob</h4>

<ol>
  <li>
    <p>在 Azure 门户的“导航”窗格中，选择 <strong>“资源组”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“资源组”</strong> 边栏选项卡中，找到并选择你之前在本实验室中创建的 <strong>“StorageMedia”</strong> 资源组。</p>
  </li>
  <li>
    <p>在 <strong>“StorageMedia”</strong> 边栏选项卡中，选择你之前在本实验室中创建的 <strong>mediastor<em>[yourname]</em></strong> 存储帐户。</p>
  </li>
  <li>
    <p>在 <strong>“存储帐户”</strong> 边栏选项卡中，选择 <strong>“数据存储”</strong> 部分的 <strong>“容器”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“容器”</strong> 部分中，选择最近创建的 <strong>raster-graphics</strong> 容器。</p>
  </li>
  <li>
    <p>在 <strong>“容器”</strong> 边栏选项卡中，选择 <strong>“上传”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“上传 Blob”</strong> 窗口中，执行以下操作：</p>

    <ol>
      <li>
        <p>在 <strong>“文件”</strong> 部分，选择 <strong>“文件夹”</strong> 图标。</p>
      </li>
      <li>
        <p>在 <strong>“文件资源管理器”</strong> 窗口中，浏览到 <strong>Allfiles (F):\Allfiles\Labs\03\Starter\Images</strong>，选择 <strong>graph.jpg</strong> 文件，然后选择 <strong>“打开”</strong>。</p>
      </li>
      <li>
        <p>确保选中 <strong>“如果文件存储已经存在，则覆盖”</strong> 复选框，然后选择 <strong>“上传”</strong>。</p>
      </li>
    </ol>

    <blockquote>
      <p><strong>备注</strong>： 等待 Blob 上传完成，然后再继续本实验室。</p>
    </blockquote>
  </li>
</ol>

<h4 id="回顾-1">回顾</h4>

<p>在本练习中，你在存储帐户中创建了几个占位符容器，并在其中一个容器中填充了一个 Blob。</p>

<h3 id="练习-3使用-net-sdk-访问容器">练习 3：使用 .NET SDK 访问容器</h3>

<h4 id="任务-1创建-net-项目">任务 1：创建 .NET 项目</h4>

<ol>
  <li>
    <p>在 <strong>“启动”</strong> 屏幕上，选择 <strong>“Visual Studio Code”</strong> 磁贴。</p>
  </li>
  <li>
    <p>在 <strong>“文件”</strong> 菜单上，选择 <strong>“打开文件夹”</strong>。</p>
  </li>
  <li>
    <p>在打开的 <strong>“文件资源管理器”</strong> 窗口中，浏览到 <strong>Allfiles (F):\Allfiles\Labs\03\Starter\BlobManager</strong>，然后选择 <strong>“选择文件夹”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口中，右键单击或激活“资源管理器”窗格的快捷菜单，然后选择 <strong>“在终端中打开”</strong>。</p>
  </li>
  <li>
    <p>在打开的命令提示符中，输入以下命令然后按 Enter，在当前文件夹中创建一个名为 <strong>BlobManager</strong> 的新 .NET 项目：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs coffeescript">dotnet <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span> --name BlobManager --output .
</code></pre>

    <blockquote>
      <p><strong>备注</strong>： <strong>dotnet new</strong> 命令将在与项目同名的文件夹中创建一个新的 <strong>“控制台”</strong> 项目。</p>
    </blockquote>
  </li>
  <li>
    <p>在命令提示符中，输入以下命令并按 Enter 键，然后从 NuGet 导入 12.0.0 版本的 <strong>Azure.Storage.Blobs</strong>：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">dotnet</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">add</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">package</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Azure</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Storage</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Blobs</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--version</span></span> 12<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>
</code></pre>

    <blockquote>
      <p><strong>备注</strong>： <strong>dotnet add package</strong> 命令将从 NuGet 添加 <strong>Azure.Storage.Blobs</strong> 包。有关详细信息，请转到 <a href="https://www.nuget.org/packages/Azure.Storage.Blobs/12.0.0">Azure.Storage.Blobs</a>。</p>
    </blockquote>
  </li>
  <li>
    <p>在命令提示符处，输入以下命令然后按 Enter，以生成 .NET Web 应用程序：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock2" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock2" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> build
</code></pre>
  </li>
  <li>
    <p>选择 <strong>“终止终端”</strong> 或者 <strong>“回收站”</strong> 图标以关闭当前打开的终端和所有关联的进程。</p>
  </li>
</ol>

<h4 id="任务-2修改程序类以访问存储">任务 2：修改程序类以访问存储</h4>

<ol>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口的“资源管理器”窗格中，打开 <strong>Program.cs</strong> 文件。</p>
  </li>
  <li>
    <p>在 <strong>Program.cs</strong> 文件的代码编辑器选项卡中，删除现有文件中的所有代码。</p>
  </li>
  <li>
    <p>添加以下代码行，从 <strong>Azure.Storage.Blobs</strong> 包（从 NuGet 中导入）中导入 <strong>Azure.Storage</strong>、<strong>Azure.Storage.Blobs</strong> 和 <strong>Azure.Storage.Blobs.Models</strong> 命名空间：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock3" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock3" class="mt-0"><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Azure</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Storage</span></span>;
<span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Azure</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Storage</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Blobs</span></span>;
<span class="hljs-selector-tag"><span class="hljs-selector-tag">using</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Azure</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Storage</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Blobs</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Models</span></span>;
</code></pre>
  </li>
  <li>
    <p>添加以下代码行，为此文件将使用的内置命名空间添加 <strong>using</strong> 指令：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock4" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock4" class="mt-0"><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading.Tasks;
</code></pre>
  </li>
  <li>
    <p>输入以下代码，创建一个新的 <strong>Program</strong> 类：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock5" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock5" class="mt-0"><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Program</span></span></span><span class="hljs-class">
{</span></span>
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码行，创建一个名为 <strong>blobServiceEndpoint</strong> 的新字符串常量：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock6" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock6" class="mt-0"><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> blobServiceEndpoint = <span class="hljs-string"><span class="hljs-string">""</span></span>;
</code></pre>
  </li>
  <li>
    <p>通过将 <strong>blobServiceEndpoint</strong> 字符串常量的值设置为之前在本实验室中记录的存储帐户的 <strong>“主 Blob 服务终结点”</strong> 来更新该字符串常量。</p>
  </li>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码行，创建一个名为 <strong>storageAccountName</strong> 的新字符串常量：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock7" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock7" class="mt-0"><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> storageAccountName = <span class="hljs-string"><span class="hljs-string">""</span></span>;
</code></pre>
  </li>
  <li>
    <p>通过将 <strong>storageAccountName</strong> 字符串常量的值设置为之前在本实验室中记录的存储帐户的<strong>存储帐户名</strong>称来更新该字符串常量。</p>
  </li>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码行，创建一个名为 <strong>storageAccountKey</strong> 的新字符串常量：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock8" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock8" class="mt-0"><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> storageAccountKey = <span class="hljs-string"><span class="hljs-string">""</span></span>;
</code></pre>
  </li>
  <li>
    <p>通过将 <strong>storageAccountKey</strong> 字符串常量的值设置为之前在本实验室中记录的存储帐户的<strong>密钥</strong>来更新该字符串常量。</p>
  </li>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码以创建新的异步 <strong>Main</strong> 方法：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock9" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock9" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
</span></span>{
}
</code></pre>
  </li>
  <li>
    <p>查看 <strong>Program.cs</strong> 文件，该文件现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock10" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock10" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Azure.Storage;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Azure.Storage.Blobs;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Azure.Storage.Blobs.Models;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading.Tasks;

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span>
{
    <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> blobServiceEndpoint = <span class="hljs-string"><span class="hljs-string">"&lt;primary-blob-service-endpoint&gt;"</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> storageAccountName = <span class="hljs-string"><span class="hljs-string">"&lt;storage-account-name&gt;"</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> storageAccountKey = <span class="hljs-string"><span class="hljs-string">"&lt;key&gt;"</span></span>;

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
    </span></span>{
    }
}
</code></pre>
  </li>
</ol>

<h4 id="任务-3连接到-azure-存储-blob-服务终结点">任务 3：连接到 Azure 存储 Blob 服务终结点</h4>

<ol>
  <li>
    <p>在 <strong>Main</strong> 方法中，使用 <strong>storageAccountName</strong> 和 <strong>storageAccountKey</strong> 常量作为构造函数参数，添加以下代码行，创建新的 <strong>StorageSharedKeyCredential</strong> 实例：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock11" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock11" class="mt-0"><code class="hljs coffeescript">StorageSharedKeyCredential accountCredentials = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StorageSharedKeyCredential(storageAccountName, storageAccountKey);
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，使用 <strong>blobServiceEndpoint</strong> 常量和 <em>accountCredentials</em> 变量作为构造函数参数添加以下代码行，创建新的 <strong>BlobServiceClient</strong> 类实例：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock12" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock12" class="mt-0"><code class="hljs coffeescript">BlobServiceClient serviceClient = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BlobServiceClient(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(blobServiceEndpoint), accountCredentials);
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，添加以下代码行，调用 <strong>BlobServiceClient</strong> 类的 <strong>GetAccountInfoAsync</strong> 方法，从服务中检索帐户元数据：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock13" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock13" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">AccountInfo</span></span> <span class="hljs-literal"><span class="hljs-literal">info</span></span> = await serviceClient.GetAccountInfoAsync();
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，添加以下代码行，呈现欢迎消息：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock14" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock14" class="mt-0"><code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync($<span class="hljs-string"><span class="hljs-string">"Connected to Azure Storage Account"</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，添加以下代码行，以呈现存储帐户名称：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock15" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock15" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Account name:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{storageAccountName}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，添加以下代码行以呈现存储帐户类型：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock16" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock16" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Account kind:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{info?.AccountKind}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，添加以下代码行，以呈现当前为存储帐户选择的库存单位 (SKU)：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock17" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock17" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Account sku:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{info?.SkuName}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>查看 <strong>Main</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock18" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock18" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
</span></span>{
    StorageSharedKeyCredential accountCredentials = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StorageSharedKeyCredential(storageAccountName, storageAccountKey);	

    BlobServiceClient serviceClient = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BlobServiceClient(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(blobServiceEndpoint), accountCredentials);

    AccountInfo info = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> serviceClient.GetAccountInfoAsync();

    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Connected to Azure Storage Account"</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Account name:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{storageAccountName}</span></span></span><span class="hljs-string">"</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Account kind:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{info?.AccountKind}</span></span></span><span class="hljs-string">"</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Account sku:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{info?.SkuName}</span></span></span><span class="hljs-string">"</span></span>);
}
</code></pre>
  </li>
  <li>
    <p>保存 <strong>Program.cs</strong> 文件。</p>
  </li>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口中，右键单击或激活“资源管理器”窗格的快捷菜单，然后选择 <strong>“在终端中打开”</strong>。</p>
  </li>
  <li>
    <p>在打开的命令提示符处，输入以下命令然后按 Enter，以运行 .NET Web 应用程序：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock19" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock19" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> run
</code></pre>

    <blockquote>
      <p><strong>备注</strong>： 如果出现任何生成错误，请查看位于 <strong>Allfiles (F):\Allfiles\Labs\03\Solution\BlobManager</strong> 文件夹中的 <strong>Program.cs</strong> 文件。</p>
    </blockquote>
  </li>
  <li>
    <p>观察当前运行的控制台应用程序的输出。输出包含从服务中检索到的存储帐户的元数据。</p>
  </li>
  <li>
    <p>选择 <strong>“终止终端”</strong> 或者 <strong>“回收站”</strong> 图标以关闭当前打开的终端和所有关联的进程。</p>
  </li>
</ol>

<h4 id="任务-4枚举现有容器">任务 4：枚举现有容器</h4>

<ol>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码，创建名为 <strong>EnumerateContainersAsync</strong> 的新<strong>私有静态</strong>异步方法，该方法只有一个 <strong>BlobServiceClient</strong> 参数类型：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock20" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock20" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EnumerateContainersAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobServiceClient client</span></span></span><span class="hljs-function">)
</span></span>{        
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>EnumerateContainersAsync</strong> 方法中，输入以下代码，创建异步 <strong>foreach</strong> 循环，对 <strong>BlobServiceClient</strong> 类的 <strong>GetBlobContainersAsync</strong> 方法的调用结果进行迭代：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock21" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock21" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (BlobContainerItem container <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> client.GetBlobContainersAsync())
{
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>foreach</strong> 循环中，输入以下代码，打印每个容器的名称：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock22" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock22" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Container:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{container.Name}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>观察 <strong>EnumerateContainersAsync</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock23" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock23" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EnumerateContainersAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobServiceClient client</span></span></span><span class="hljs-function">)
</span></span>{        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (BlobContainerItem container <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> client.GetBlobContainersAsync())
    {
        <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Container:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{container.Name}</span></span></span><span class="hljs-string">"</span></span>);
    }
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，请在方法末尾输入以下代码以调用 <strong>EnumerateContainersAsync</strong> 方法，传入 <em>serviceClient</em> 变量作为参数：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock24" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock24" class="mt-0"><code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateContainersAsync(serviceClient);
</code></pre>
  </li>
  <li>
    <p>查看 <strong>Main</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock25" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock25" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// Existing code removed for brevity</span></span>
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateContainersAsync(serviceClient);
}
</code></pre>
  </li>
  <li>
    <p>保存 <strong>Program.cs</strong> 文件。</p>
  </li>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口中，右键单击或通过快捷菜单进入“资源管理器”窗格，然后选择 <strong>“在终端中打开”</strong>。</p>
  </li>
  <li>
    <p>在打开的命令提示符处，输入以下命令然后按 Enter，以运行 .NET Web 应用程序：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock26" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock26" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> run
</code></pre>

    <blockquote>
      <p><strong>备注</strong>： 如果出现任何生成错误，请查看位于 <strong>Allfiles (F):\Allfiles\Labs\03\Solution\BlobManager</strong> 文件夹中的 <strong>Program.cs</strong> 文件。</p>
    </blockquote>
  </li>
  <li>
    <p>观察当前运行的控制台应用程序的输出。更新后的输出包括帐户中每个现有容器的列表。</p>
  </li>
  <li>
    <p>选择 <strong>“终止终端”</strong> 或者 <strong>“回收站”</strong> 图标以关闭当前打开的终端和所有关联的进程。</p>
  </li>
</ol>

<h4 id="回顾-2">回顾</h4>

<p>在本练习中，使用 Azure 存储 SDK 访问现有容器。</p>

<h3 id="练习-4使用-net-sdk-检索-blob-统一资源标识符-uri">练习 4：使用 .NET SDK 检索 Blob 统一资源标识符 (URI)</h3>

<h4 id="任务-1使用-sdk-枚举现有容器中的-blob">任务 1：使用 SDK 枚举现有容器中的 Blob</h4>

<ol>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码，以创建名为 <strong>EnumerateBlobsAsync</strong> 的新 <strong>私有静态</strong>异步方法，该方法具有两种参数类型，即 <strong>BlobServiceClient</strong> 和 <strong>string</strong>：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock27" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock27" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EnumerateBlobsAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobServiceClient client, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> containerName</span></span></span><span class="hljs-function">)
</span></span>{      
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>EnumerateBlobsAsync</strong> 方法中，输入以下代码，使用 <strong>BlobServiceClient</strong> 类的 <strong>GetBlobContainerClient</strong> 方法获取 <strong>BlobContainerClient</strong> 类的新实例，从而传入 <strong>containerName</strong> 参数：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock28" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock28" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">BlobContainerClient</span></span> container = client.GetBlobContainerClient(containerName);
</code></pre>
  </li>
  <li>
    <p>在 <strong>EnumerateBlobsAsync</strong> 方法中，输入以下代码，以呈现将枚举的容器的名称：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock29" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock29" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Searching:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{container.Name}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>EnumerateBlobsAsync</strong> 方法中，输入以下代码，以创建异步 <strong>foreach</strong> 循环，该循环对 <strong>BlobContainerClient</strong> 类的 <strong>GetBlobsAsync</strong> 方法的调用结果进行循环访问：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock30" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock30" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (BlobItem blob <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> container.GetBlobsAsync())
{        
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>foreach</strong> 循环中，输入以下代码，以打印每个 Blob 的名称：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock31" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock31" class="mt-0"><code class="hljs cs"> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Existing Blob:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{blob.Name}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>查看 <strong>EnumerateBlobsAsync</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock32" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock32" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EnumerateBlobsAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobServiceClient client, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> containerName</span></span></span><span class="hljs-function">)
</span></span>{      
    BlobContainerClient container = client.GetBlobContainerClient(containerName);
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Searching:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{container.Name}</span></span></span><span class="hljs-string">"</span></span>);
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (BlobItem blob <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> container.GetBlobsAsync())
    {        
         <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Existing Blob:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{blob.Name}</span></span></span><span class="hljs-string">"</span></span>);
    }
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，在方法末尾输入以下代码，创建一个名为 <em>existingContainerName</em> 且值为 <strong>raster-graphics</strong> 的变量：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock33" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock33" class="mt-0"><code class="hljs cpp"><span class="hljs-built_in"><span class="hljs-built_in">string</span></span> existingContainerName = <span class="hljs-string"><span class="hljs-string">"raster-graphics"</span></span>;
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，在方法末尾输入以下代码以调用 <strong>EnumerateBlobsAsync</strong> 方法，从而传入 <em>serviceClient</em> 和 <em>existingContainerName</em> 变量作为参数：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock34" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock34" class="mt-0"><code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateBlobsAsync(serviceClient, existingContainerName);
</code></pre>
  </li>
  <li>
    <p>查看 <strong>Main</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock35" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock35" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// Existing code removed for brevity</span></span>
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateContainersAsync(serviceClient);

    <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> existingContainerName = <span class="hljs-string"><span class="hljs-string">"raster-graphics"</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateBlobsAsync(serviceClient, existingContainerName);
}
</code></pre>
  </li>
  <li>
    <p>保存 <strong>Program.cs</strong> 文件。</p>
  </li>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口中，右键单击或激活“资源管理器”窗格的快捷菜单，然后选择 <strong>“在终端中打开”</strong>。</p>
  </li>
  <li>
    <p>在打开的命令提示符处，输入以下命令然后按 Enter，以运行 .NET Web 应用程序：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock36" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock36" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> run
</code></pre>

    <blockquote>
      <p><strong>备注</strong>： 如果出现任何生成错误，请查看位于 <strong>Allfiles (F):\Allfiles\Labs\03\Solution\BlobManager</strong> 文件夹中的 <strong>Program.cs</strong> 文件。</p>
    </blockquote>
  </li>
  <li>
    <p>观察当前运行的控制台应用程序的输出。更新后的输出包括有关现有容器和 Blob 的元数据。</p>
  </li>
  <li>
    <p>选择 <strong>“终止终端”</strong> 或者 <strong>“回收站”</strong> 图标以关闭当前打开的终端和所有关联的进程。</p>
  </li>
</ol>

<h4 id="任务-2使用-sdk-创建新容器">任务 2：使用 SDK 创建新容器</h4>

<ol>
  <li>
    <p>在 <strong>Program</strong> 类中输入以下代码，创建名为 <strong>GetContainerAsync</strong> 的新<strong>私有静态</strong>异步方法，该方法有两种参数类型，即 <strong>BlobServiceClient</strong> 和 <strong>string</strong>：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock37" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock37" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;BlobContainerClient&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetContainerAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobServiceClient client, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> containerName</span></span></span><span class="hljs-function">)
</span></span>{      
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetContainerAsync</strong> 方法中，输入以下代码，使用 <strong>BlobServiceClient</strong> 类的 <strong>GetBlobContainerClient</strong> 方法获取 <strong>BlobContainerClient</strong> 类的新实例，并传入 <strong>containerName</strong> 参数：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock38" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock38" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">BlobContainerClient</span></span> container = client.GetBlobContainerClient(containerName);
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetContainerAsync</strong> 方法中，输入以下代码，调用 <strong>BlobContainerClient</strong> 类的 <strong>CreateIfNotExistsAsync</strong> 方法：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock39" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock39" class="mt-0"><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">await</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">container</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.CreateIfNotExistsAsync</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">PublicAccessType</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Blob</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetContainerAsync</strong> 方法中输入以下代码，呈现可能创建的容器的名称：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock40" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock40" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"New Container:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{container.Name}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetContainerAsync</strong> 方法中，输入以下代码，返回名为 <strong>container</strong> 的 <strong>BlobContainerClient</strong> 类的实例，作为 <strong>GetContainerAsync</strong> 方法的结果：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock41" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock41" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">return</span></span> container;
</code></pre>
  </li>
  <li>
    <p>观察 <strong>GetContainerAsync</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock42" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock42" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;BlobContainerClient&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetContainerAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobServiceClient client, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> containerName</span></span></span><span class="hljs-function">)
</span></span>{      
    BlobContainerClient container = client.GetBlobContainerClient(containerName);
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> container.CreateIfNotExistsAsync(PublicAccessType.Blob);
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"New Container:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{container.Name}</span></span></span><span class="hljs-string">"</span></span>);
        
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> container;
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，在方法末尾输入以下代码，创建一个名为 <em>newContainerName</em> 且值为 <strong>vector-graphics</strong> 的变量：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock43" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock43" class="mt-0"><code class="hljs cpp"><span class="hljs-built_in"><span class="hljs-built_in">string</span></span> newContainerName = <span class="hljs-string"><span class="hljs-string">"vector-graphics"</span></span>;
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，在方法末尾输入以下代码以调用 <strong>GetContainerAsync</strong> 方法，从而以参数的形式传入 <em>serviceClient</em> 和 <em>newContainerName</em> 变量，并将结果存储在名为 <em>containerClient</em> 的 <strong>BlobContainerClient</strong> 类变量中：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock44" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock44" class="mt-0"><code class="hljs coffeescript">BlobContainerClient containerClient = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GetContainerAsync(serviceClient, newContainerName);
</code></pre>
  </li>
  <li>
    <p>查看 <strong>Main</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock45" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock45" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// Existing code removed for brevity</span></span>
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateContainersAsync(serviceClient);

    <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> existingContainerName = <span class="hljs-string"><span class="hljs-string">"raster-graphics"</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateBlobsAsync(serviceClient, existingContainerName);
        
    <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> newContainerName = <span class="hljs-string"><span class="hljs-string">"vector-graphics"</span></span>;
    BlobContainerClient containerClient = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GetContainerAsync(serviceClient, newContainerName);
}
</code></pre>
  </li>
  <li>
    <p>保存 <strong>Program.cs</strong> 文件。</p>
  </li>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口中，右键单击或激活“资源管理器”窗格的快捷菜单，然后选择 <strong>“在终端中打开”</strong>。</p>
  </li>
  <li>
    <p>在打开的命令提示符处，输入以下命令然后按 Enter，以运行 .NET Web 应用程序：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock46" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock46" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> run
</code></pre>

    <blockquote>
      <p><strong>备注</strong>： 如果出现任何生成错误，请查看位于 <strong>Allfiles (F):\Allfiles\Labs\03\Solution\BlobManager</strong> 文件夹中的 <strong>Program.cs</strong> 文件。</p>
    </blockquote>
  </li>
  <li>
    <p>观察当前运行的控制台应用程序的输出。更新后的输出包括有关现有容器和 Blob 的元数据。</p>
  </li>
  <li>
    <p>选择 <strong>“终止终端”</strong> 或者 <strong>“回收站”</strong> 图标以关闭当前打开的终端和所有关联的进程。</p>
  </li>
</ol>

<h4 id="任务-3使用门户上传新-blob">任务 3：使用门户上传新 Blob</h4>

<ol>
  <li>
    <p>在 Azure 门户的“导航”窗格中，选择 <strong>“资源组”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“资源组”</strong> 边栏选项卡中，找到并选择你之前在本实验室中创建的 <strong>“StorageMedia”</strong> 资源组。</p>
  </li>
  <li>
    <p>在 <strong>“StorageMedia”</strong> 边栏选项卡中，选择你之前在本实验室中创建的 <strong>mediastor<em>[yourname]</em></strong> 存储帐户。</p>
  </li>
  <li>
    <p>在 <strong>“存储帐户”</strong> 边栏选项卡中，选择 <strong>“数据存储”</strong> 部分的 <strong>“容器”</strong> 链接。</p>
  </li>
  <li>
    <p>在 <strong>“容器”</strong> 部分中，选择新创建的 <strong>vector-graphics</strong> 容器。</p>
  </li>
  <li>
    <p>在 <strong>“容器”</strong> 边栏选项卡中，选择 <strong>“上传”</strong>。</p>
  </li>
  <li>
    <p>在 <strong>“上传 Blob”</strong> 窗口中，执行以下操作：</p>

    <ol>
      <li>
        <p>在 <strong>“文件”</strong> 部分，选择 <strong>“文件夹”</strong> 图标。</p>
      </li>
      <li>
        <p>在 <strong>“文件资源管理器”</strong> 窗口中，转到 <strong>Allfiles (F):\Allfiles\Labs\03\Starter\Images</strong>，选择 <strong>graph.svg</strong> 文件，然后选择 <strong>“打开”</strong>。</p>
      </li>
      <li>
        <p>确保选中 <strong>“如果文件存储已经存在，则覆盖”</strong> 复选框，然后选择 <strong>“上传”</strong>。</p>
      </li>
    </ol>

    <blockquote>
      <p><strong>备注</strong>： 等待 Blob 上传完成，然后再继续本实验室。</p>
    </blockquote>
  </li>
</ol>

<h4 id="任务-4使用-sdk-访问-blob-uri">任务 4：使用 SDK 访问 Blob URI</h4>

<ol>
  <li>
    <p>在 <strong>Program</strong> 类中，输入以下代码，创建名为 <strong>GetBlobAsync</strong> 的新<strong>使用静态</strong>异步方法。该方法具有两种参数类型，即 <strong>BlobContainerClient</strong> 和 <strong>string</strong>：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock47" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock47" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;BlobClient&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetBlobAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobContainerClient client, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> blobName</span></span></span><span class="hljs-function">)
</span></span>{      
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetBlobAsync</strong> 方法中，输入以下代码以使用 <strong>BlobContainerClient</strong> 类的 <strong>GetBlobClient</strong> 方法获取 <strong>BlobClient</strong> 类的新实例，从而传入 <strong>blobName</strong> 参数：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock48" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock48" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">BlobClient</span></span> blob = client.GetBlobClient(blobName);
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetBlobAsync</strong> 方法中，输入以下代码，呈现所引用的 Blob 的名称：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock49" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock49" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Blob Found:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{blob.Name}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>在 <strong>GetBlobAsync</strong> 方法中，输入以下代码，返回名为 <strong>blob</strong> 的 <strong>BlobClient</strong> 类实例，作为 <strong>GetBlobAsync</strong> 方法的结果：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock50" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock50" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">return</span></span> blob;
</code></pre>
  </li>
  <li>
    <p>观察 <strong>GetBlobAsync</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock51" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock51" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;BlobClient&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetBlobAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlobContainerClient client, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> blobName</span></span></span><span class="hljs-function">)
</span></span>{      
    BlobClient blob = client.GetBlobClient(blobName);
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Blob Found:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{blob.Name}</span></span></span><span class="hljs-string">"</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> blob;
}
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，在方法末尾输入以下代码，创建一个名为 <em>uploadedBlobName</em> 且值为 <strong>graph.svg</strong> 的变量：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock52" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock52" class="mt-0"><code class="hljs cpp"><span class="hljs-built_in"><span class="hljs-built_in">string</span></span> uploadedBlobName = <span class="hljs-string"><span class="hljs-string">"graph.svg"</span></span>;
</code></pre>
  </li>
  <li>
    <p>在<strong>Main</strong> 方法中，在方法末尾输入以下代码以调用 <strong>GetBlobAsync</strong> 方法，从而以参数的形式传入 <em>containerClient</em> 和 <em>uploadedBlobName</em> 变量，并将结果存储在名为 <em>blobClient</em> 的 <strong>BlobClient</strong> 类变量中：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock53" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock53" class="mt-0"><code class="hljs coffeescript">BlobClient blobClient = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GetBlobAsync(containerClient, uploadedBlobName);
</code></pre>
  </li>
  <li>
    <p>在 <strong>Main</strong> 方法中，在方法末尾输入以下代码，呈现 <em>blobClient</em> 变量的 <strong>Uri</strong> 属性：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock54" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock54" class="mt-0"><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Blob Url:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{blobClient.Uri}</span></span></span><span class="hljs-string">"</span></span>);
</code></pre>
  </li>
  <li>
    <p>查看 <strong>Main</strong> 方法，该方法现在应包括：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock55" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock55" class="mt-0"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// Existing code removed for brevity</span></span>
        
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateContainersAsync(serviceClient);

    <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> existingContainerName = <span class="hljs-string"><span class="hljs-string">"raster-graphics"</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> EnumerateBlobsAsync(serviceClient, existingContainerName);
        
    <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> newContainerName = <span class="hljs-string"><span class="hljs-string">"vector-graphics"</span></span>;
    BlobContainerClient containerClient = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GetContainerAsync(serviceClient, newContainerName);
        
    <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> uploadedBlobName = <span class="hljs-string"><span class="hljs-string">"graph.svg"</span></span>;
    BlobClient blobClient = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GetBlobAsync(containerClient, uploadedBlobName);

    <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Console.Out.WriteLineAsync(<span class="hljs-string"><span class="hljs-string">$"Blob Url:\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{blobClient.Uri}</span></span></span><span class="hljs-string">"</span></span>);
}
</code></pre>
  </li>
  <li>
    <p>保存 <strong>Program.cs</strong> 文件。</p>
  </li>
  <li>
    <p>在 <strong>“Visual Studio Code”</strong> 窗口中，右键单击或激活“资源管理器”窗格的快捷菜单，然后选择 <strong>“在终端中打开”</strong>。</p>
  </li>
  <li>
    <p>在打开的命令提示符处，输入以下命令然后按 Enter，以运行 .NET Web 应用程序：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock56" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock56" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> run
</code></pre>

    <blockquote>
      <p><strong>备注</strong>：如果出现任何生成错误，请查看位于 <strong>Allfiles (F):\Allfiles\Labs\03\Solution\BlobManager</strong> 文件夹中的 <strong>Program.cs</strong> 文件。</p>
    </blockquote>
  </li>
  <li>
    <p>观察当前运行的控制台应用程序的输出。更新后的输出包括用于在线访问 Blob 的最终 URL。记录本 URL 的值，以便稍后在本实验室中使用。</p>

    <blockquote>
      <p><strong>备注</strong>： 该 URL 可能类似于以下字符串： <strong>https://mediastor <em>[yourname]</em>.blob.core.windows.net/vector-graphics/graph.svg</strong></p>
    </blockquote>
  </li>
  <li>
    <p>选择 <strong>“终止终端”</strong> 或者 <strong>“回收站”</strong> 图标以关闭当前打开的终端和所有关联的进程。</p>
  </li>
</ol>

<h4 id="任务-5使用浏览器测试该-uri">任务 5：使用浏览器测试该 URI</h4>

<ol>
  <li>
    <p>在任务栏上，右键单击 <strong>“Microsoft Edge”</strong> 图标或激活快捷菜单，然后选择 <strong>“新建窗口”</strong>。</p>
  </li>
  <li>
    <p>在新的浏览器窗口中，转到之前在本实验室中针对 Blob 复制的 URL。</p>
  </li>
  <li>
    <p>现在，应该在浏览器窗口中注意到可缩放矢量图形 (SVG) 文件。</p>
  </li>
</ol>

<h4 id="回顾-3">回顾</h4>

<p>在本练习中，你使用存储 SDK 创建了容器并管理了 Blob。</p>

<h3 id="练习-5清理订阅">练习 5：清理订阅</h3>

<h4 id="任务-1打开-azure-cloud-shell-并列出资源组">任务 1：打开 Azure Cloud Shell 并列出资源组</h4>

<ol>
  <li>
    <p>在 Azure 门户的“导航”窗格中，选择 <strong>“Cloud Shell”</strong> 图标以打开一个新的 shell 实例。</p>

    <blockquote>
      <p><strong>备注</strong>： <strong>Cloud Shell</strong> 图标使用大于符号 (&gt;) 和下划线字符 (_) 表示。</p>
    </blockquote>
  </li>
  <li>
    <p>如果这是你第一次使用订阅打开 Cloud Shell，则可以使用 <strong>“欢迎使用 Azure Cloud Shell 向导”</strong> 来配置 Cloud Shell，以便首次使用。在向导中执行以下操作：</p>

    <ol>
      <li>对话框提示你配置 shell。选择 <strong>“Bash”</strong>，查看选定的订阅，然后选择 <strong>“创建存储”</strong>。</li>
    </ol>

    <blockquote>
      <p><strong>备注</strong>：等待 Cloud Shell 完成首次设置过程后，再继续本实验室。如果 Cloud Shell 配置选项未显示，这很可能是因为你在本课程实验室中使用的是现有订阅。实验是假设你使用的是新订阅的情况下编写的。</p>
    </blockquote>
  </li>
</ol>

<h4 id="任务-2删除资源组">任务 2：删除资源组</h4>

<ol>
  <li>
    <p>在命令提示符处，输入以下命令然后按 Enter，以删除 <strong>StorageMedia</strong> 资源组：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock57" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock57" class="mt-0"><code class="hljs coffeescript">az group <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> --name StorageMedia --<span class="hljs-literal"><span class="hljs-literal">no</span></span>-wait --<span class="hljs-literal"><span class="hljs-literal">yes</span></span>
</code></pre>
  </li>
  <li>
    <p>关闭门户中的 Cloud Shell 窗格。</p>
  </li>
</ol>

<h4 id="任务-3关闭活动的应用程序">任务 3：关闭活动的应用程序</h4>

<ol>
  <li>当前正在运行的 Microsoft Edge 应用程序。</li>
</ol>

<h4 id="回顾-4">回顾</h4>

<p>在本练习中，你通过删除本实验室中使用的资源组清理了订阅。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-204ZH-DevelopingSolutionsforMicrosoftAzure" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-204ZH-DevelopingSolutionsforMicrosoftAzure
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>