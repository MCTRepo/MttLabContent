<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-900T0xTW-MicrosoftAzureFundamentals
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-900T0xTW-MicrosoftAzureFundamentals
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-900T0xTW-MicrosoftAzureFundamentals" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    </ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="07---實作-azure-iot-中樞-10-分鐘">07 - 實作 Azure IoT 中樞 (10 分鐘)</h1>

<p>在這個逐步解說中，我們將在 Azure 入口網站中設定一個新的 Azure IoT 中樞，然後使用線上 Raspberry Pi 裝置模擬器驗證到 IoT 裝置的連線。感測器資料和訊息從 Raspberry Pi 模擬器傳遞到 Azure IoT 中樞，然後您可以在 Azure 入口網站中查看訊息傳遞活動的度量。</p>

<h1 id="工作-1建立-iot-中樞">工作 1：建立 IoT 中樞</h1>

<p>在這個工作中，我們將建立一個 IoT 中樞。</p>

<ol>
  <li>
    <p>登入到 <a href="https://portal.azure.com">Azure 入口網站</a>。</p>
  </li>
  <li>
    <p>從 [<strong>所有服務</strong>] 刀鋒視窗，搜尋並選取 [<strong>IoT 中樞</strong>] 然後按一下 [<strong>+ 新增、+ 建立、+ 新建</strong>]。</p>
  </li>
  <li>
    <p>在 [<strong>IoT 中樞</strong>] 刀鋒視窗的 [<strong>基本</strong>] 索引標籤上，填充下列詳細資訊 (將儲存體帳戶名稱中的 <strong>xxxx</strong> 替換為字母和數位，以便名稱全域唯一)：</p>

    <table>
      <thead>
        <tr>
          <th>設定</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>訂用帳戶</td>
          <td><strong>保留提供的預設值</strong></td>
        </tr>
        <tr>
          <td>資源群組</td>
          <td><strong>建立新資源群組</strong></td>
        </tr>
        <tr>
          <td>IoT 中樞名稱</td>
          <td><strong>my-hub-groupxxxxx</strong></td>
        </tr>
        <tr>
          <td>區域</td>
          <td><strong>美國東部</strong></td>
        </tr>
      </tbody>
    </table>

    <p><strong>注意</strong> - 記得變更 <strong>xxxxx</strong>，將其設定為唯一 <strong>IoT 中樞名稱</strong>。</p>
  </li>
  <li>
    <p>前往 [<strong>管理</strong>] 索引標籤，並使用下拉式清單將 [<strong>定價和規模層</strong>] 設定為 [<strong>S1：標準層</strong>]。</p>
  </li>
  <li>
    <p>按一下 [<strong>檢閱 + 建立</strong>] 按鈕。</p>
  </li>
  <li>
    <p>按一下 [<strong>建立</strong>] 按鈕，開始建立新 Azure IoT 中樞執行個體。</p>
  </li>
  <li>
    <p>請等待 Azure IoT 中樞執行個體部署完成。</p>
  </li>
</ol>

<h1 id="工作-2新增-iot-裝置">工作 2：新增 IoT 裝置</h1>

<p>在這個工作中，我們將想 IoT 中樞中新增一個 IoT 裝置。</p>

<ol>
  <li>
    <p>部署完成後，請在部署刀鋒視窗中按一下 [<strong>前往資源</strong>]。或者從 [<strong>所有服務</strong>] 刀鋒視窗中，搜尋並選取 [<strong>IoT 中樞</strong>] 並找到新 IoT 中樞執行個體</p>

    <p><a href="../images/0601.png" target="_blank"><img src="../images/0601.png" alt="Azure 入口網站中正在進行的部署和部署成功通知的螢幕擷取畫面。"></a></p>
  </li>
  <li>
    <p>若需新增 IoT 裝置，請向下捲動到 [<strong>裝置管理</strong>] 區段，然後按一下 [<strong>裝置</strong>]。接著按一下 [<strong>+ 新增裝置</strong>]。</p>

    <p><a href="../images/0602.png" target="_blank"><img src="../images/0602.png" alt="IoT 裝置窗格的螢幕擷取畫面，在 Azure 入口網站中的的 IoT 中樞導覽刀鋒視窗中醒目提示。醒目提示 [新增] 按鈕，以說明如何向 IoT 中樞新增 IoT 裝置身分識別。"></a></p>
  </li>
  <li>
    <p>將新 IoT 裝置命名為 <strong>myRaspberryPi</strong>，然後按一下 [<strong>儲存</strong>] 按鈕。這將在 Azure IoT 中樞中建立新的 IoT 裝置身分識別。</p>
  </li>
  <li>
    <p>如果您沒有看到新裝置，請 [<strong>重新整理</strong>] [IoT 裝置] 頁面。</p>
  </li>
  <li>
    <p>選取 <strong>myRaspberryPi</strong> 並複製 [<strong>主要連線字串</strong>] 值。您將在下一個工作中使用此金鑰來驗證到 Raspberry Pi 模擬器的連線。</p>

    <p><a href="../images/0603.png" target="_blank"><img src="../images/0603.png" alt="醒目提示複製圖示的 [主要連線字串] 頁面的螢幕擷取畫面。"></a></p>
  </li>
</ol>

<h1 id="工作-3使用-raspberry-pi-模擬器測試裝置">工作 3：使用 Raspberry Pi 模擬器測試裝置</h1>

<p>在這個工作中，我們將使用 Raspberry Pi 模擬器測試我們的裝置。</p>

<ol>
  <li>
    <p>開啟 Web 瀏覽器中的新索引標籤，並輸入此捷徑連結 https://aka.ms/RaspPi 。它將帶您去一個 Raspberry Pi 模擬器網站。如果您有時間，請閱讀關於 Raspberry Pi 模擬器的文章。完成後，選取<strong>X</strong>關閉快顯視窗。</p>
  </li>
  <li>
    <p>在程式碼區域的右側，找到含有「const connectionString =」的行。將其替換為從 Azure 入口網站複製的連線字串。注意，連線字串包含 DeviceId (<strong>myRaspberryPi</strong>) 和 SharedAccessKey 項目。</p>

    <p><a href="../images/0604.png" target="_blank"><img src="../images/0604.png" alt="Raspberry Pi 模擬器內編碼區域的螢幕擷取畫面。"></a></p>
  </li>
  <li>
    <p>按一下 [<strong>執行</strong>] (位於程式碼區域下面)，執行該應用程式。主控台輸出應該顯示從 Raspberry Pi 模擬器傳送到 Azure IoT 中樞的感測器資料和訊息。每次 Raspberry Pi 模擬器 LED 閃爍時都會傳送資料和訊息。</p>

    <p><a href="../images/0605.png" target="_blank"><img src="../images/0605.png" alt="Raspberry Pi 模擬器主控台的熒幕擷取畫面。  主控台輸出應該顯示從 Raspberry Pi 模擬器傳送到 Raspberry Pi 模擬器的感測器資料和訊息。"></a></p>
  </li>
  <li>
    <p>按一下 [<strong>停止</strong>]，停止傳送資料。</p>
  </li>
  <li>
    <p>返回到 Azure 入口網站。</p>
  </li>
  <li>
    <p>切換 IoT 中樞的 [<strong>概觀</strong>] 刀鋒視窗，並向下滾動到 [<strong>IoT 中樞使用</strong>] 資訊以檢視使用資訊。變更 [<strong>顯示最後一小時的資料</strong>] 中的時間範圍，以查看最後一小時的資料。</p>

    <p><a href="../images/0606.png" target="_blank"><img src="../images/0606.png" alt="Azure 入口網站的 IoT 中樞使用區域內計量的螢幕擷取畫面。"></a></p>
  </li>
</ol>

<p>恭喜！您已經設定完 Azure IoT 中樞來從 IoT 裝置收集感測器資料。</p>

<p><strong>注意</strong>：為了避免額外的成本，您可以删除此資源群組。搜尋資源群組，按一下您的資源群組，然後按一下 [<strong>删除資源群組</strong>]。驗證資源群組的名稱，然後按一下 [<strong>删除</strong>]。監視 [<strong>通知</strong>] 以驗證删除的狀態。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-900T0xTW-MicrosoftAzureFundamentals" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-900T0xTW-MicrosoftAzureFundamentals
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>