<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-900T0xTW-MicrosoftAzureFundamentals
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-900T0xTW-MicrosoftAzureFundamentals
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-900T0xTW-MicrosoftAzureFundamentals" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    </ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="06---建立-sql-database-5-分鐘">06 - 建立 SQL Database (5 分鐘)</h1>

<p>在這個逐步解說中，我們將在 Azure 中建立 SQL Database，然後査詢該資料庫中的資料。</p>

<h1 id="工作-1建立資料庫">工作 1：建立資料庫</h1>

<p>在這個工作中，您將根據 AdventureWorksLT 範例資料庫建立 SQL Database。</p>

<ol>
  <li>
    <p>登入到 Azure 入口網站，網址：<a href="https://portal.azure.com"><strong>https://portal.azure.com</strong></a>。</p>
  </li>
  <li>
    <p>從 [<strong>所有服務</strong>] 刀鋒視窗，搜尋並選取 [<strong>SQL Database</strong>]，然後按一下 [<strong>+ 新增、+ 建立、+ 新建</strong>]。</p>
  </li>
  <li>
    <p>在 [<strong>基本</strong>] 索引標籤中，填寫下列資訊。</p>

    <table>
      <thead>
        <tr>
          <th>設定</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>訂用帳戶</td>
          <td><strong>使用提供的預設值</strong></td>
        </tr>
        <tr>
          <td>資源群組</td>
          <td><strong>建立新資源群組</strong></td>
        </tr>
        <tr>
          <td>資料庫名稱</td>
          <td><strong>db1</strong></td>
        </tr>
        <tr>
          <td>伺服器</td>
          <td>選取 [<strong>新增</strong>] (右側將打開一個新的側邊欄)</td>
        </tr>
        <tr>
          <td>伺服器名稱</td>
          <td><strong>sqlserverxxxx</strong> (必須唯一)</td>
        </tr>
        <tr>
          <td>位置</td>
          <td><strong>美國東部</strong></td>
        </tr>
        <tr>
          <td>驗證方法</td>
          <td><strong>使用 SQL 驗證</strong></td>
        </tr>
        <tr>
          <td>伺服器管理員登入</td>
          <td><strong>sqluser</strong></td>
        </tr>
        <tr>
          <td>密碼</td>
          <td><strong>Pa$$w0rd1234</strong></td>
        </tr>
        <tr>
          <td>按一下</td>
          <td><strong>確定</strong></td>
        </tr>
      </tbody>
    </table>

    <p><a href="../images/0501.png" target="_blank"><img src="../images/0501.png" alt="[伺服器] 窗格和 [新增伺服器] 窗格的螢幕擷取畫面，其中按表填寫欄位，並醒目提示 [檢閱+建立] 和 [確定] 按鈕。"></a></p>
  </li>
  <li>
    <p>在 [<strong>網路</strong>] 索引標籤上，設定下列設定 (保留其他項目為預設值)</p>

    <table>
      <thead>
        <tr>
          <th>設定</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>連線方法</td>
          <td><strong>公用端點</strong></td>
        </tr>
        <tr>
          <td>允許 Azure 服務和資源存取該伺服器</td>
          <td><strong>是</strong></td>
        </tr>
        <tr>
          <td>新增當前用戶端 IP 位址</td>
          <td><strong>否</strong></td>
        </tr>
      </tbody>
    </table>

    <p><a href="../images/0501b.png" target="_blank"><img src="../images/0501b.png" alt="[建立 SQL Database] 刀鋒視窗的 [網路] 索引標籤的螢幕擷取畫面，根據表選擇設定，並醒目提示 [檢閱 + 建立] 按鈕。"></a></p>
  </li>
  <li>
    <p>在 [<strong>安全性</strong>] 索引標籤上。</p>

    <table>
      <thead>
        <tr>
          <th>設定</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Microsoft Defender for SQL</td>
          <td><strong>現在不需要</strong></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>前往 [<strong>其他設定</strong>] 索引標籤。我們將使用 AdventureWorksLT 範例資料庫。</p>

    <table>
      <thead>
        <tr>
          <th>設定</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>使用現有資料</td>
          <td><strong>範例</strong></td>
        </tr>
      </tbody>
    </table>

    <p><a href="../images/0501c.png" target="_blank"><img src="../images/0501c.png" alt="[建立 SQL Database] 刀鋒視窗的 [其他設定] 索引標籤的螢幕擷取畫面，根據表選擇設定，並醒目提示 [檢閱 + 建立] 按鈕。"></a></p>
  </li>
  <li>
    <p>按一下 [<strong>檢閱 + 建立</strong>]，然後按一下 [<strong>建立</strong>] 以部署和佈建資源群組和資料庫。大學需要 2 - 5 分鐘才能完成部署。</p>
  </li>
</ol>

<h1 id="工作-2測試該資料庫">工作 2：測試該資料庫。</h1>

<p>在這個工作中，我們將設定 SQL Server 並執行 SQL 査詢。</p>

<ol>
  <li>
    <p>部署完成後，請在部署刀鋒視窗中按一下 [前往資源]。也可以從 [<strong>所有資源</strong>] 刀鋒視窗，搜尋並選取 [<strong>資料庫</strong>]，然後選取 [<strong>SQL Database</strong>]，確保您已建立新資料庫。您可能需要 [<strong>重新整理</strong>] 頁面。</p>

    <p><a href="../images/0502.png" target="_blank"><img src="../images/0502.png" alt="剛剛部署的 SQL Database 和 SQL Server 的螢幕擷取畫面。"></a></p>
  </li>
  <li>
    <p>按一下表示您建立的 SQL Database 的 <strong>db1</strong> 項目。在 [db1] 刀鋒視窗上，按一下 [<strong>査詢編輯器 (預覽)</strong>]。</p>
  </li>
  <li>
    <p>登入為 <strong>sqluser</strong>，並使用密碼 <strong>Pa$$w0rd1234</strong>。</p>
  </li>
  <li>
    <p>您將無法登入。仔細閱讀錯誤並記下需要允許通過防火牆的 IP 位址。</p>

    <p><a href="../images/0503.png" target="_blank"><img src="../images/0503.png" alt="包含 IP 位址錯誤的査詢編輯器登入頁面的螢幕擷取畫面。"></a></p>
  </li>
  <li>
    <p>返回到 [<strong>db1</strong>] 刀鋒視窗中，按一下 [<strong>概觀</strong>]。</p>

    <p><a href="../images/0504.png" target="_blank"><img src="../images/0504.png" alt="SQL Server 頁面的螢幕擷取畫面。"></a></p>
  </li>
  <li>
    <p>在 db1 的 [<strong>概觀</strong>] 刀鋒視窗中，按一下位於概覽荧幕頂部中間的 [<strong>設定伺服器防火牆</strong>]。</p>
  </li>
  <li>
    <p>按一下 [<strong>+ 新增用戶端 IP</strong>] (頂部功能表列)，新增錯誤中引用的 IP 位址。(它可能已經為您自動填充 - 如果沒有，請將其粘貼到 IP 位址欄位中)。確保 [<strong>儲存</strong>] 您的變更。</p>

    <p><a href="../images/0506.png" target="_blank"><img src="../images/0506.png" alt="醒目提示新 IP 規則的 SQL Server 防火牆設定頁面的螢幕擷取畫面。"></a></p>
  </li>
  <li>
    <p>返回到 SQL Database (將底部的切換欄滑到左側)，然後按一下 [<strong>査詢編輯器 (預覽)</strong>]。嘗試再次登入為 <strong>sqluser</strong>，並使用密碼 <strong>Pa$$w0rd1234</strong>。這次您應該會成功。請注意，部署新的防火牆規則可能需要幾分鐘的時間。</p>
  </li>
  <li>
    <p>成功登入後，將顯示査詢窗格。在編輯器窗格中輸入以下査詢。</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="language-SQL hljs"> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">20</span></span> pc.Name <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CategoryName, p.name <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ProductName
 <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> SalesLT.ProductCategory pc
 <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> SalesLT.Product p
 <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pc.productcategoryid = p.productcategoryid;
</code></pre>

    <p><a href="../images/0507.png" target="_blank"><img src="../images/0507.png" alt="査詢編輯器的螢幕擷取畫面，其中包含査詢窗格和成功執行的命令。"></a></p>
  </li>
  <li>
    <p>按一下 [<strong>執行</strong>]，然後在 [<strong>結果</strong>] 窗格中查看查詢結果。査詢應成功執行。</p>

    <p><a href="../images/0508.png" target="_blank"><img src="../images/0508.png" alt="[資料庫査詢編輯器] 窗格的螢幕擷取畫面，其中 SQL 程式碼已成功執行，且輸出顯示在 [結果] 窗格中。"></a></p>
  </li>
</ol>

<p>恭喜！您已在 Azure 中建立 SQL Database，然後成功査詢了該資料庫中的資料。</p>

<p><strong>注意</strong>：為了避免額外的成本，您可以删除此資源群組。搜尋資源群組，按一下您的資源群組，然後按一下 [<strong>删除資源群組</strong>]。驗證資源群組的名稱，然後按一下 [<strong>删除</strong>]。監視 [<strong>通知</strong>] 以驗證删除的狀態。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-900T0xTW-MicrosoftAzureFundamentals" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-900T0xTW-MicrosoftAzureFundamentals
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>