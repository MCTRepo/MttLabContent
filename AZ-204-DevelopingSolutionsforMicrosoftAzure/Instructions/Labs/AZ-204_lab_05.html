<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-204: Developing solutions for Microsoft Azure
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D64f540ac7c8eef33997aaf23b6af9bd5b858530e.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-204: Developing solutions for Microsoft Azure
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-204-DevelopingSolutionsforMicrosoftAzure" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#before-you-start">Before you start</a></li><li class="nav-item"><a class="nav-link active" href="#exercise-1-create-a-vm-by-using-the-azure-command-line-interface-cli">Exercise 1: Create a VM by using the Azure Command-Line Interface (CLI)</a></li><li class="nav-item"><a class="nav-link" href="#exercise-2-create-a-docker-container-image-and-deploy-it-to-azure-container-registry">Exercise 2: Create a Docker container image and deploy it to Azure Container Registry</a></li><li class="nav-item"><a class="nav-link" href="#exercise-3-deploy-an-azure-container-instance">Exercise 3: Deploy an Azure container instance</a></li><li class="nav-item"><a class="nav-link" href="#exercise-4-clean-up-your-subscription">Exercise 4: Clean up your subscription</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="lab-05-deploy-compute-workloads-by-using-images-and-containers">Lab 05: Deploy compute workloads by using images and containers</h1>

<h2 id="microsoft-azure-user-interface">Microsoft Azure user interface</h2>

<p>Given the dynamic nature of Microsoft cloud tools, you might experience Azure UI changes that occur after this training content’s development. As a result, the lab instructions and lab steps might not align correctly.</p>

<p>Microsoft updates this training course when the community alerts us to needed changes. However, cloud updates occur frequently, so you might encounter UI changes before this training content updates. <strong>If this occurs, adapt to the changes, and then work through them in the labs as needed.</strong></p>

<h2 id="instructions">Instructions</h2>

<h3 id="before-you-start">Before you start</h3>

<h4 id="sign-in-to-the-lab-environment">Sign in to the lab environment</h4>

<p>Sign in to your Windows 10 virtual machine (VM) by using the following credentials:</p>

<ul>
  <li>
    <p>Username: <strong>Admin</strong></p>
  </li>
  <li>
    <p>Password: <strong>Pa55w.rd</strong></p>
  </li>
</ul>

<blockquote>
  <p><strong>Note</strong>: Your instructor will provide instructions to connect to the virtual lab environment.</p>
</blockquote>

<h4 id="review-the-installed-applications">Review the installed applications</h4>

<p>Find the taskbar on your Windows 10 desktop. The taskbar contains the icons for the applications that you’ll use in this lab, including:</p>

<ul>
  <li>
    <p>Microsoft Edge</p>
  </li>
  <li>
    <p>File Explorer</p>
  </li>
</ul>

<h2 id="architecture-diagram">Architecture diagram</h2>

<p><a href="media/Lab05-Diagram.png" target="_blank"><img src="media/Lab05-Diagram.png" alt="Architecture diagram depicting the deployment of compute workloads by using images and containers"></a></p>

<h3 id="exercise-1-create-a-vm-by-using-the-azure-command-line-interface-cli">Exercise 1: Create a VM by using the Azure Command-Line Interface (CLI)</h3>

<h4 id="task-1-open-the-azure-portal">Task 1: Open the Azure portal</h4>

<ol>
  <li>
    <p>On the taskbar, select the <strong>Microsoft Edge</strong> icon.</p>
  </li>
  <li>
    <p>In the open browser window, navigate to the Azure portal (<a href="https://portal.azure.com">https://portal.azure.com</a>), and then sign in with the account you’ll be using for this lab.</p>

    <blockquote>
      <p><strong>Note</strong>: If this is your first time signing in to the Azure portal, you’ll be offered a tour of the portal. If you prefer to skip the tour, select <strong>Get Started</strong> to begin using the portal.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-2-create-a-resource-group">Task 2: Create a resource group</h4>

<ol>
  <li>
    <p>On the Azure portal’s navigation pane, use the <strong>Search resources, services, and docs</strong> text box to search for <strong>Resource group</strong>, and then in the list of results, select <strong>Resource groups</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Resource groups</strong> blade, select <strong>Create</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Create a resource group</strong> blade, on the <strong>Basics</strong> tab, perform the following actions, and then select <strong>Review + create</strong>:</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Subscription</strong> drop-down list</td>
          <td>Retain the default value.</td>
        </tr>
        <tr>
          <td><strong>Resource group</strong> text box</td>
          <td>Enter <strong>ContainerCompute</strong>.</td>
        </tr>
        <tr>
          <td><strong>Region</strong> drop-down list</td>
          <td>Select <strong>(US) East US</strong>.</td>
        </tr>
      </tbody>
    </table>

    <p>The following screenshot displays the configured settings on the <strong>Create a resource group</strong> blade.</p>

    <p><a href="media/l05_create_a_resource_group.png" target="_blank"><img src="media/l05_create_a_resource_group.png" alt="Create a resource group blade"></a></p>
  </li>
  <li>
    <p>On the <strong>Review + create</strong> tab, review the options that you selected during the previous steps.</p>
  </li>
  <li>
    <p>Select <strong>Create</strong> to create the resource group by using your specified configuration.</p>

    <blockquote>
      <p><strong>Note</strong>: Wait for the creation task to complete before moving forward with this lab.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-3-open-azure-cloud-shell">Task 3: Open Azure Cloud Shell</h4>

<ol>
  <li>
    <p>In the Azure portal, select the <strong>Cloud Shell</strong> icon <a href="media/az204_lab_CloudShell.png" target="_blank"><img src="media/az204_lab_CloudShell.png" alt="Cloud Shell icon"></a> to open a new PowerShell session. If Cloud Shell defaults to a PowerShell session, select <strong>PowerShell</strong>, and then in the drop-down menu, select <strong>Bash</strong>.</p>

    <blockquote>
      <p><strong>Note</strong>: The <strong>Cloud Shell</strong> icon is represented by a greater than sign (&gt;) and underscore character (_).</p>
    </blockquote>

    <blockquote>
      <p><strong>Note</strong>: If this is the first time you’re starting <strong>Cloud Shell</strong>, when prompted to select either <strong>Bash</strong> or <strong>PowerShell</strong>, select <strong>Bash</strong>. When you’re presented with the <strong>You have no storage mounted</strong> message, select the subscription you’re using in this lab, and then select <strong>Create storage</strong>.</p>
    </blockquote>
  </li>
  <li>
    <p>At the <strong>Cloud Shell</strong> command prompt in the portal, run the following command to get the version of the Azure CLI tool:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">az</span></span> --version
</code></pre>
  </li>
</ol>

<h4 id="task-4-use-the-azure-cli-commands">Task 4: Use the Azure CLI commands</h4>

<ol>
  <li>
    <p>Run the following command to get a list of subgroups and commands at the root level of the CLI:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="hljs bash">az --<span class="hljs-built_in"><span class="hljs-built_in">help</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command to get a list of subgroups and commands for Azure Virtual Machines:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock2" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock2" class="mt-0"><code class="hljs bash">az vm --<span class="hljs-built_in"><span class="hljs-built_in">help</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command to get a list of arguments and examples for the <strong>Create Virtual Machine</strong> command:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock3" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock3" class="mt-0"><code class="hljs sql">az vm <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-comment"><span class="hljs-comment">--help</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command to create a new <strong>virtual machine</strong> with the following settings:</p>

    <ul>
      <li>
        <p>Resource group: <strong>ContainerCompute</strong></p>
      </li>
      <li>
        <p>Name: <strong>quickvm</strong></p>
      </li>
      <li>
        <p>Image: <strong>Debian</strong></p>
      </li>
      <li>
        <p>Admin-Username: <strong>student</strong></p>
      </li>
      <li>
        <p>Admin-Password: <strong>StudentPa55w.rd</strong></p>
      </li>
    </ul>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock4" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock4" class="mt-0"><code class="hljs sql">az vm <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-comment"><span class="hljs-comment">--resource-group ContainerCompute --name quickvm --image Debian --admin-username student --admin-password StudentPa55w.rd</span></span>
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Wait for the VM to be created. After the process completes, the command will return a  JavaScript Object Notation (JSON) file containing details about the machine.</p>
    </blockquote>
  </li>
  <li>
    <p>Run the following command to get a more detailed JSON file that contains various metadata about the newly created VM:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock5" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock5" class="mt-0"><code class="hljs sql">az vm <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> <span class="hljs-comment"><span class="hljs-comment">--resource-group ContainerCompute --name quickvm</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command to list all the IP addresses associated with the VM:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock6" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock6" class="mt-0"><code class="hljs cpp">az vm <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>-ip-addresses --resource-group ContainerCompute --name quickvm
</code></pre>
  </li>
  <li>
    <p>Run the following command to filter the output to only return the first IP address value:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock7" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock7" class="mt-0"><code class="hljs cs">az vm list-ip-addresses --resource-<span class="hljs-keyword"><span class="hljs-keyword">group</span></span> ContainerCompute --name quickvm --query <span class="hljs-string"><span class="hljs-string">'[].{ip:virtualMachine.network.publicIpAddresses[0].ipAddress}'</span></span> --output tsv
</code></pre>
  </li>
  <li>
    <p>Run the following command to store the results of the previous command in a new Bash shell variable named <em>ipAddress</em>:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock8" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock8" class="mt-0"><code class="hljs ini"><span class="hljs-attr"><span class="hljs-attr">ipAddress</span></span>=$(az vm list-ip-addresses --resource-group ContainerCompute --name quickvm --query <span class="hljs-string"><span class="hljs-string">'[].{ip:virtualMachine.network.publicIpAddresses[0].ipAddress}'</span></span> --output tsv)
</code></pre>
  </li>
  <li>
    <p>Run the following command to render the value of the Bash shell variable <em>ipAddress</em>:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock9" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock9" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">$ipAddress</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command to connect to the VM that you created previously in this lab, by using the Secure Shell (SSH) tool and the IP address stored in the Bash shell variable <em>ipAddress</em>:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock10" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock10" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ssh</span></span> student@<span class="hljs-variable"><span class="hljs-variable">$ipAddress</span></span>
</code></pre>
  </li>
  <li>
    <p>The SSH tool informs you that the authenticity of the host can’t be established and then asks if you want to continue connecting. Enter <strong>yes</strong>, and then select Enter to continue connecting to the VM.</p>
  </li>
  <li>
    <p>The SSH tool then asks for a password. Enter <strong>StudentPa55w.rd</strong>, and then select Enter to authenticate with the VM.</p>
  </li>
  <li>
    <p>After connecting to the VM by using SSH, run the following command to get metadata describing the Linux VM:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock11" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock11" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">uname</span></span> -a
</code></pre>
  </li>
  <li>
    <p>Use the <strong>exit</strong> command to end your SSH session:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock12" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock12" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">exit</span></span>
</code></pre>
  </li>
  <li>
    <p>Close the <strong>Cloud Shell</strong> pane in the portal.</p>
  </li>
</ol>

<h4 id="review">Review</h4>

<p>In this exercise, you used Cloud Shell to create a VM as part of an automated script.</p>

<h3 id="exercise-2-create-a-docker-container-image-and-deploy-it-to-azure-container-registry">Exercise 2: Create a Docker container image and deploy it to Azure Container Registry</h3>

<h4 id="task-1-open-the-cloud-shell-and-editor">Task 1: Open the Cloud Shell and editor</h4>

<ol>
  <li>
    <p>On the Azure portal’s navigation pane, select the <strong>Cloud Shell</strong> icon to open a new shell instance.</p>

    <blockquote>
      <p><strong>Note</strong>: Wait for Cloud Shell to finish connecting to an instance before moving on with the lab.</p>
    </blockquote>
  </li>
  <li>
    <p>At the <strong>Cloud Shell</strong> command prompt in the portal, run the following command to move from the root directory to the <strong>~/clouddrive</strong> directory:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock13" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock13" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/clouddrive
</code></pre>
  </li>
  <li>
    <p>Run the following command to create a new directory named <strong>ipcheck</strong> in the <strong>~/clouddrive</strong> directory:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock14" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock14" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">mkdir</span></span> ipcheck
</code></pre>
  </li>
  <li>
    <p>Run the following command to change the active directory from <strong>~/clouddrive</strong> to <strong>~/clouddrive/ipcheck</strong>:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock15" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock15" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/clouddrive/ipcheck
</code></pre>
  </li>
  <li>
    <p>Run the following command to create a new .NET console application in the current directory:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock16" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock16" class="mt-0"><code class="hljs coffeescript">dotnet <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span> --output . --name ipcheck
</code></pre>
  </li>
  <li>
    <p>Run the following command to create a new file in the <strong>~/clouddrive/ipcheck</strong> directory named <strong>Dockerfile</strong>:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock17" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock17" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">touch</span></span> Dockerfile
</code></pre>
  </li>
  <li>
    <p>Run the following command to open the embedded graphical editor in the context of the current directory:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock18" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock18" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">code</span></span> .
</code></pre>
  </li>
</ol>

<h4 id="task-2-create-and-test-a-net-application">Task 2: Create and test a .NET application</h4>

<ol>
  <li>
    <p>In the graphical editor, on the <strong>FILES</strong> pane, select the <strong>Program.cs</strong> file to open it in the editor.</p>
  </li>
  <li>
    <p>Delete the entire contents of the <strong>Program.cs</strong> file.</p>
  </li>
  <li>
    <p>Copy and paste the following code into the <strong>Program.cs</strong> file:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">c#</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock19" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock19" class="mt-0"><code class="language-csharp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span>
{
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)
    </span></span>{        
        <span class="hljs-comment"><span class="hljs-comment">// Check if network is available</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (System.Net.NetworkInformation.NetworkInterface.GetIsNetworkAvailable())
        {
            System.Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Current IP Addresses:"</span></span>);

            <span class="hljs-comment"><span class="hljs-comment">// Get host entry for current hostname</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> hostname = System.Net.Dns.GetHostName();
            System.Net.IPHostEntry host = System.Net.Dns.GetHostEntry(hostname);
                
            <span class="hljs-comment"><span class="hljs-comment">// Iterate over each IP address and render their values</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>(System.Net.IPAddress address <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> host.AddressList)
            {
                System.Console.WriteLine(<span class="hljs-string"><span class="hljs-string">$"\t</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{address}</span></span></span><span class="hljs-string">"</span></span>);
            }
        }
        <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>
        {
            System.Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"No Network Connection"</span></span>);
        }
    }
}
</code></pre>
  </li>
  <li>
    <p>Save the <strong>Program.cs</strong> file by using the menu in the graphical editor or the Ctrl+S keyboard shortcut.  Don’t close the graphical editor.</p>
  </li>
  <li>
    <p>Back at the command prompt, run the following command to run the application:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock20" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock20" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dotnet</span></span> run
</code></pre>
  </li>
  <li>
    <p>Review the results of the run. At least one IP address should be listed for the Cloud Shell instance.</p>
  </li>
  <li>
    <p>In the graphical editor, on the <strong>FILES</strong> pane of the editor, select the <strong>Dockerfile</strong> file to open it in the editor.</p>
  </li>
  <li>
    <p>Copy and paste the following code into the <strong>Dockerfile</strong> file:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock21" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock21" class="mt-0"><code class="hljs shell"><span class="hljs-meta"><span class="hljs-meta">#</span></span><span class="bash"><span class="bash"> Start using the .NET Core 3.1 SDK container image</span></span>
FROM mcr.microsoft.com/dotnet/sdk:3.1-alpine AS build
<span class="hljs-meta"><span class="hljs-meta">
#</span></span><span class="bash"><span class="bash"> Change current working directory</span></span>
WORKDIR /app
<span class="hljs-meta"><span class="hljs-meta">
#</span></span><span class="bash"><span class="bash"> Copy existing files from host machine</span></span>
COPY . ./
<span class="hljs-meta"><span class="hljs-meta">
#</span></span><span class="bash"><span class="bash"> Publish application to the </span><span class="hljs-string"><span class="bash"><span class="hljs-string">"out"</span></span></span><span class="bash"> folder</span></span>
RUN dotnet publish --configuration Release --output out
<span class="hljs-meta"><span class="hljs-meta">
#</span></span><span class="bash"><span class="bash"> Start container by running application DLL</span></span>
ENTRYPOINT ["dotnet", "out/ipcheck.dll"]
</code></pre>
  </li>
  <li>
    <p>Save the <strong>Dockerfile</strong> file by using the menu in the graphical editor or by using the Ctrl+S keyboard shortcut.</p>
  </li>
  <li>
    <p>Close the <strong>Cloud Shell</strong> pane in the portal.</p>
  </li>
</ol>

<h4 id="task-3-create-a-container-registry-resource">Task 3: Create a Container Registry resource</h4>

<ol>
  <li>
    <p>On the Azure portal’s navigation pane, select the <strong>Create a resource</strong> link.</p>
  </li>
  <li>
    <p>On the <strong>Create a resource</strong> blade, in the <strong>Search services and marketplace</strong> text box, enter <strong>Container Registry</strong>, and then select Enter.</p>
  </li>
  <li>
    <p>On the <strong>Marketplace</strong> search results blade, select the <strong>Container Registry</strong> result.</p>
  </li>
  <li>
    <p>On the <strong>Container Registry</strong> blade, select <strong>Create</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Create container registry</strong> blade, on the <strong>Basics</strong> tab, perform the following actions, and then select <strong>Review + create</strong>:</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Subscription</strong> drop-down list</td>
          <td>Retain the default value.</td>
        </tr>
        <tr>
          <td><strong>Resource group</strong> drop-down list</td>
          <td>Select the existing <strong>ContainerCompute</strong> option.</td>
        </tr>
        <tr>
          <td><strong>Registry name</strong> text box</td>
          <td>Enter a globally unique name. Azure will automatically check the name for uniqueness and inform you if you’re required to choose a different name.</td>
        </tr>
        <tr>
          <td><strong>Location</strong> drop-down list</td>
          <td>Select <strong>East US</strong>.</td>
        </tr>
        <tr>
          <td><strong>Availability zones</strong> check box</td>
          <td>Not selected.</td>
        </tr>
        <tr>
          <td><strong>SKU</strong> drop-down list</td>
          <td>Select <strong>Basic</strong>.</td>
        </tr>
      </tbody>
    </table>

    <p>The following screenshot displays the configured settings on the <strong>Create container registry</strong> blade.</p>

    <p><a href="media/l05_create_container_registry.png" target="_blank"><img src="media/l05_create_container_registry.png" alt="Create container registry blade"></a></p>
  </li>
  <li>
    <p>On the <strong>Review + Create</strong> tab, review the options that you selected in the previous steps.</p>
  </li>
  <li>
    <p>Select <strong>Create</strong> to create the container registry by using your specified configuration.</p>

    <blockquote>
      <p><strong>Note</strong>: Wait for the creation task to complete before you continue with this lab.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-4-open-azure-cloud-shell-and-store-container-registry-metadata">Task 4: Open Azure Cloud Shell and store Container Registry metadata</h4>

<ol>
  <li>
    <p>In the Azure portal, select the <strong>Cloud Shell</strong> icon to open a new shell instance.</p>

    <blockquote>
      <p><strong>Note</strong>: Wait for Cloud Shell to finish connecting to an instance before moving forward with the lab.</p>
    </blockquote>
  </li>
  <li>
    <p>At the <strong>Cloud Shell</strong> command prompt in the portal, run the following command to get a list of all container registries in your subscription:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock22" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock22" class="mt-0"><code class="hljs cpp">az acr <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock23" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock23" class="mt-0"><code class="hljs cpp">az acr <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> --query <span class="hljs-string"><span class="hljs-string">"max_by([], &amp;creationDate).name"</span></span> --output tsv
</code></pre>
  </li>
  <li>
    <p>Run the following command:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock24" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock24" class="mt-0"><code class="hljs ini"><span class="hljs-attr"><span class="hljs-attr">acrName</span></span>=$(az acr list --query <span class="hljs-string"><span class="hljs-string">"max_by([], &amp;creationDate).name"</span></span> --output tsv)
</code></pre>
  </li>
  <li>
    <p>Run the following command:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock25" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock25" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">$acrName</span></span>
</code></pre>
  </li>
</ol>

<h4 id="task-5-deploy-a-docker-container-image-to-container-registry">Task 5: Deploy a Docker container image to Container Registry</h4>

<ol>
  <li>
    <p>Run the following command to change the active directory from <strong>~/</strong> to <strong>~/clouddrive/ipcheck</strong>:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock26" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock26" class="mt-0"><code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/clouddrive/ipcheck
</code></pre>
  </li>
  <li>
    <p>Run the following command to get the contents of the current directory:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock27" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock27" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dir</span></span>
</code></pre>
  </li>
  <li>
    <p>Run the following command to upload the source code to your container registry and build the container image as a Container Registry task:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock28" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock28" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">az</span></span> acr build --registry <span class="hljs-variable"><span class="hljs-variable">$acrName</span></span> --image ipcheck:latest .
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Wait for the build task to complete before moving forward with this lab.</p>
    </blockquote>
  </li>
  <li>
    <p>Close the <strong>Cloud Shell</strong> pane in the portal.</p>
  </li>
</ol>

<h4 id="task-6-validate-your-container-image-in-container-registry">Task 6: Validate your container image in Container Registry</h4>

<ol>
  <li>
    <p>On the Azure portal’s <strong>navigation</strong> pane, select the <strong>Resource groups</strong> link.</p>
  </li>
  <li>
    <p>From the <strong>Resource groups</strong> blade, select the <strong>ContainerCompute</strong> resource group that you created previously in this lab.</p>
  </li>
  <li>
    <p>From the <strong>ContainerCompute</strong> blade, select the container registry that you created previously in this lab.</p>
  </li>
  <li>
    <p>From the <strong>Container Registry</strong> blade, in the <strong>Services</strong> section, select the <strong>Repositories</strong> link.</p>
  </li>
  <li>
    <p>In the <strong>Repositories</strong> section, select the <strong>ipcheck</strong> container image repository, and then select the <strong>latest</strong> tag.</p>
  </li>
  <li>
    <p>Review the metadata for the version of your container image with the <strong>latest</strong> tag.</p>

    <blockquote>
      <p><strong>Note</strong>: You can also select the <strong>Run ID</strong> link to find metadata about the build task.</p>
    </blockquote>
  </li>
</ol>

<h4 id="review-1">Review</h4>

<p>In this exercise, you created a .NET console application to display a machine’s current IP address. You then added the <strong>Dockerfile</strong> file to the application so that it could be converted into a Docker container image. Finally, you deployed the container image to Container Registry.</p>

<h3 id="exercise-3-deploy-an-azure-container-instance">Exercise 3: Deploy an Azure container instance</h3>

<h4 id="task-1-enable-the-admin-user-in-container-registry">Task 1: Enable the admin user in Container Registry</h4>

<ol>
  <li>
    <p>On the Azure portal’s <strong>navigation</strong> pane, select the <strong>Resource groups</strong> link.</p>
  </li>
  <li>
    <p>On the <strong>Resource groups</strong> blade, select the <strong>ContainerCompute</strong> resource group that you created previously in this lab.</p>
  </li>
  <li>
    <p>On the <strong>ContainerCompute</strong> blade, select the container registry that you created previously in this lab, and then select <strong>Update</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Update container registry</strong> blade, in the <strong>Admin user</strong> section, select <strong>Enable</strong>.</p>
  </li>
  <li>
    <p>Select <strong>Save</strong>, and then close the <strong>Update container registry</strong> blade.</p>
  </li>
</ol>

<h4 id="task-2-automatically-deploy-a-container-image-to-an-azure-container-instance">Task 2: Automatically deploy a container image to an Azure container instance</h4>

<ol>
  <li>
    <p>On the <strong>Container Registry</strong> blade, in the <strong>Services</strong> section, select the <strong>Repositories</strong> link.</p>
  </li>
  <li>
    <p>In the <strong>Repositories</strong> section, select the <strong>ipcheck</strong> container image repository.</p>
  </li>
  <li>
    <p>On the <strong>Repository</strong> blade, select the ellipsis menu associated with the <strong>latest</strong> tag entry, and then select <strong>Run instance</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Create container instance</strong> blade, perform the following actions, and then select <strong>OK</strong>:</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Container name</strong> text box</td>
          <td>Enter <strong>managedcompute</strong>.</td>
        </tr>
        <tr>
          <td><strong>Container image</strong> text box</td>
          <td>Retain the default value.</td>
        </tr>
        <tr>
          <td><strong>OS type</strong> section</td>
          <td>Select <strong>Linux</strong>.</td>
        </tr>
        <tr>
          <td><strong>Subscription</strong> text box</td>
          <td>Retain the default value.</td>
        </tr>
        <tr>
          <td><strong>Resource group</strong> drop-down list</td>
          <td>Select <strong>ContainerCompute</strong>.</td>
        </tr>
        <tr>
          <td><strong>Location</strong> drop-down list</td>
          <td>Select <strong>East US</strong>.</td>
        </tr>
        <tr>
          <td><strong>Number of cores</strong> drop-down list</td>
          <td>Select <strong>2</strong>.</td>
        </tr>
        <tr>
          <td><strong>Memory (GB)</strong> text box</td>
          <td>Enter <strong>4</strong>.</td>
        </tr>
        <tr>
          <td><strong>Public IP address</strong> section</td>
          <td>Select <strong>No</strong>.</td>
        </tr>
      </tbody>
    </table>

    <p>The following screenshot displays the configured settings on the <strong>Create container instance</strong> blade.</p>

    <p><a href="media/l05_create_container_instance.png" target="_blank"><img src="media/l05_create_container_instance.png" alt="Create container instance blade"></a></p>

    <blockquote>
      <p><strong>Note</strong>: Wait for the container instance to be created before you continue with this lab.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-3-manually-deploy-a-container-image-to-container-instances">Task 3: Manually deploy a container image to Container Instances</h4>

<ol>
  <li>
    <p>On the Azure portal’s <strong>navigation</strong> pane, select the <strong>Create a resource</strong> link.</p>
  </li>
  <li>
    <p>On the <strong>Create a resource</strong> blade, in the <strong>Search services and marketplace</strong> text box, enter <strong>container instances</strong>, and then select Enter.</p>
  </li>
  <li>
    <p>On the <strong>Marketplace</strong> search results blade, select the <strong>Container Instances</strong> result.</p>
  </li>
  <li>
    <p>On the <strong>Container Instances</strong> blade, select <strong>Create</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Create Container Instance</strong> blade, on the <strong>Basics</strong> tab, perform the following actions, and then select <strong>Review + create</strong>:</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Subscription</strong> drop-down list</td>
          <td>Retain the default value.</td>
        </tr>
        <tr>
          <td><strong>Resource group</strong> drop-down list</td>
          <td>Select <strong>ContainerCompute</strong>.</td>
        </tr>
        <tr>
          <td><strong>Container name</strong>&nbsp;text box</td>
          <td>Enter <strong>manualcompute</strong>.</td>
        </tr>
        <tr>
          <td><strong>Region</strong> drop-down list</td>
          <td>Select <strong>(US) East US</strong>.</td>
        </tr>
        <tr>
          <td><strong>Image source</strong> section</td>
          <td>Select <strong>Azure Container Registry</strong>.</td>
        </tr>
        <tr>
          <td><strong>Registry</strong> drop-down list</td>
          <td>Select the <strong>Azure Container Registry</strong> resource that you created previously in this lab.</td>
        </tr>
        <tr>
          <td><strong>Image</strong> drop-down list</td>
          <td>Select <strong>ipcheck</strong>.</td>
        </tr>
        <tr>
          <td><strong>Image tag</strong> drop-down list</td>
          <td>Select <strong>latest</strong>.</td>
        </tr>
      </tbody>
    </table>

    <p>The following screenshot displays the configured settings on the <strong>Create container instance</strong> blade.</p>

    <p><a href="media/l05_create_container_instance_manual.png" target="_blank"><img src="media/l05_create_container_instance_manual.png" alt="Create container instance blade"></a></p>
  </li>
  <li>
    <p>From the <strong>Review + create</strong> tab, review the selected options.</p>
  </li>
  <li>
    <p>Select <strong>Create</strong> to create the container instance by using your specified configuration.</p>

    <blockquote>
      <p><strong>Note</strong>: Wait for the container instance to be created before you continue with this lab.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-4-validate-that-the-container-instance-ran-successfully">Task 4: Validate that the container instance ran successfully</h4>

<ol>
  <li>
    <p>On the Azure portal’s navigation pane, select the <strong>Resource groups</strong> link.</p>
  </li>
  <li>
    <p>On the <strong>Resource groups</strong> blade, select the <strong>ContainerCompute</strong> resource group that you created previously in this lab.</p>
  </li>
  <li>
    <p>On the <strong>ContainerCompute</strong> blade, select the <strong>manualcompute</strong> container instance that you created previously in this lab.</p>
  </li>
  <li>
    <p>On the <strong>Container Instances</strong> blade, in the <strong>Settings</strong> section, select the <strong>Containers</strong> link.</p>
  </li>
  <li>
    <p>In the <strong>Containers</strong> section, review the list of <strong>Events</strong>.</p>
  </li>
  <li>
    <p>Select the <strong>Logs</strong> tab, and then review the text logs from the container instance.</p>
  </li>
</ol>

<blockquote>
  <p><strong>Note</strong>: You can also optionally find the <strong>Events</strong> and <strong>Logs</strong> from the <strong>managedcompute</strong> container instance.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>: After the application finishes running, the container terminates because it has completed its work. For the manually created container instance, you indicated that a successful exit was acceptable, so the container ran once. The automatically created instance didn’t offer this option, and it assumes the container should always be running, so you’ll notice repeated restarts of the container.</p>
</blockquote>

<h4 id="review-2">Review</h4>

<p>In this exercise, you used multiple methods to deploy a container image to an Azure container instance. By using the manual method, you were able to customize the deployment further and to run task-based applications as part of a container run.</p>

<h3 id="exercise-4-clean-up-your-subscription">Exercise 4: Clean up your subscription</h3>

<h4 id="task-1-open-azure-cloud-shell-and-list-resource-groups">Task 1: Open Azure Cloud Shell and list resource groups</h4>

<ol>
  <li>
    <p>In the Azure portal, select the <strong>Cloud Shell</strong> icon <a href="media/az204_lab_CloudShell.png" target="_blank"><img src="media/az204_lab_CloudShell.png" alt="Cloud Shell icon"></a> to open a new Bash session. If Cloud Shell defaults to a PowerShell session, select <strong>PowerShell</strong>, and then in the drop-down menu, select <strong>Bash</strong>.</p>

    <blockquote>
      <p><strong>Note</strong>: If this is the first time you’re starting <strong>Cloud Shell</strong>, when prompted to select either <strong>Bash</strong> or <strong>PowerShell</strong>, select <strong>PowerShell</strong>. When you’re presented with the <strong>You have no storage mounted</strong> message, select the subscription you’re using in this lab, and then select <strong>Create storage</strong>.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-2-delete-resource-groups">Task 2: Delete resource groups</h4>

<ol>
  <li>
    <p>On the <strong>Cloud Shell</strong> pane, run the following command to delete the <strong>ContainerCompute</strong> resource group:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock29" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock29" class="mt-0"><code class="hljs coffeescript">az group <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> --name ContainerCompute --<span class="hljs-literal"><span class="hljs-literal">no</span></span>-wait --<span class="hljs-literal"><span class="hljs-literal">yes</span></span>
</code></pre>
  </li>
</ol>

<blockquote>
  <p><strong>Note</strong>: The command executes asynchronously (as determined by the <em>–no-wait</em> parameter), so while you’ll be able to run another Azure CLI command immediately afterwards within the same Bash session, it’ll take a few minutes before the resource groups are actually removed.</p>
</blockquote>

<ol>
  <li>Close the <strong>Cloud Shell</strong> pane in the portal.</li>
</ol>

<h4 id="task-3-close-the-active-applications">Task 3: Close the active applications</h4>

<ul>
  <li>Close the currently running Microsoft Edge application.</li>
</ul>

<h4 id="review-3">Review</h4>

<p>In this exercise, you cleaned up your subscription by removing the resource groups used in this lab.</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-204-DevelopingSolutionsforMicrosoftAzure" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-204-DevelopingSolutionsforMicrosoftAzure
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D64f540ac7c8eef33997aaf23b6af9bd5b858530e.js"></script>



</body></html>