<!DOCTYPE html><html lang="en"><head>
        <title>
            PL-900ZH-Microsoft-Power-Platform-Fundamentals
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                PL-900ZH-Microsoft-Power-Platform-Fundamentals
            </a>
            <a href="https://github.com/MicrosoftLearning/PL-900ZH-Microsoft-Power-Platform-Fundamentals" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    </ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="模块-3power-apps-入门">模块 3：Power Apps 入门</h1>

<h2 id="实验室如何生成画布应用第-1-部分">实验室：如何生成画布应用，第 1 部分</h2>

<h1 id="应用场景">应用场景</h1>

<p>Bellows College 是一所教育机构，校园内有多座建筑。目前，校园访问记录在纸质日报上。无法始终如一地捕获信息，也无法收集和分析有关整个校园的访问数据。</p>

<p>校园管理部门希望对其访客登记系统进行现代化改造。在该系统中，由安全人员控制对建筑物的访问，所有访问都必须由主办人预先登记和记录。</p>

<p>在整个课程中，你将生成应用程序并执行自动化，以使 Bellows College 的管理和安全人员可以管理和控制校园建筑的出入情况。</p>

<p>在本实验室第 1 部分，你将设计一个 Power Apps 画布应用，供大学员工管理来宾访问。</p>

<h1 id="概要实验室步骤">概要实验室步骤</h1>

<p>我们将按照以下概要设计画布应用：</p>

<ul>
  <li>使用手机外形规格模板根据数据创建应用</li>
  <li>配置包含访问信息的“详细信息”页面</li>
  <li>配置用于创建访问的“编辑”页面</li>
  <li>配置显示访问的库控件</li>
  <li>在库数据源中添加筛选以仅显示将来的访问</li>
</ul>

<h2 id="先决条件">先决条件</h2>

<ul>
  <li>完成模块 <strong>0 实验 0 - 验证实验室环境</strong>
</li>
  <li>完成 <strong>“模块 2 实验室 1 - Microsoft Dataverse 简介”</strong>
</li>
</ul>

<h2 id="开始前要考虑的事项">开始前要考虑的事项</h2>

<ul>
  <li>目标受众中最普遍的外形规格是什么？</li>
  <li>估计系统中的记录数</li>
  <li>如何缩小所选记录的范围以提高应用的性能和用户采用率</li>
</ul>

<h1 id="练习-1创建员工画布应用">练习 #1：创建员工画布应用</h1>

<p><strong>目标：</strong> 在本练习中，要根据模板创建画布应用，然后对其进行修改以包括所需的数据。</p>

<h2 id="任务-1创建画布应用">任务 #1：创建画布应用</h2>

<p>在本任务中，你将使用基于 Microsoft Dataverse 的电话布局模板创建画布应用。使用 “Visits” 作为 Dataverse 中的选定表，模板将生成 “库 - 视图 - 编辑” 应用来管理校园访问。</p>

<ol>
  <li>
    <p>基于数据开始创建应用</p>

    <ul>
      <li>
        <p>登录 <a href="https://make.powerapps.com">https://make.powerapps.com</a></p>
      </li>
      <li>
        <p>在右上角选择你的“<strong>环境</strong>”（如果尚未将其设置为
你的“实践”环境）。</p>
      </li>
      <li>
        <p>在主屏幕上，选择“<strong>从数据开始</strong>”中的“<strong>Dataverse</strong>”图标。</p>
      </li>
    </ul>
  </li>
  <li>
    <p>连接到“访问”表</p>

    <ul>
      <li>
        <p>选择“<strong>+ 新建连接</strong>”</p>
      </li>
      <li>
        <p>选择“<strong>Microsoft Dataverse</strong>”，然后单击“<strong>创建</strong>”</p>
      </li>
      <li>
        <p>找到并选择“<strong>访问</strong>”表</p>
      </li>
      <li>
        <p>选择“<strong>连接</strong>”</p>
      </li>
    </ul>
  </li>
  <li>
    <p>可能会出现“<strong>欢迎使用 Power Apps Studio</strong>”窗口。单击“<strong>跳过</strong>”。</p>
  </li>
  <li>
    <p>保存应用程序</p>

    <ul>
      <li>
        <p>单击“<strong>文件</strong>”&gt;“<strong>保存</strong>”。</p>
      </li>
      <li>
        <p>输入“[你的姓氏] 校园职工”作为“<strong>应用名称</strong>”。</p>
      </li>
      <li>
        <p>按“<strong>保存</strong>”。</p>
      </li>
    </ul>
  </li>
</ol>

<h2 id="任务-2配置访问详细信息表单">任务 #2：配置“访问详细信息”表单</h2>

<p>在本任务中，你将配置“详细信息”表单以查看有关个人访问记录的信息。</p>

<ol>
  <li>
    <p>选择左上方的 <strong>“后退”</strong> 箭头以返回到应用定义。</p>
  </li>
  <li>
    <p>在 <strong>“树视图”</strong> 下展开 <strong>“DetailScreen1”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“DetailForm1”</strong></p>
  </li>
  <li>
    <p>在右侧面板中，选择 <strong>“字段”</strong> 旁边的 <strong>“编辑字段”</strong>。</p>
  </li>
  <li>
    <p>单击 <strong>“添加字段”</strong></p>
  </li>
  <li>
    <p>选择以下字段：</p>

    <ul>
      <li>
        <p>实际结束</p>
      </li>
      <li>
        <p>实际开始</p>
      </li>
      <li>
        <p>建筑物</p>
      </li>
      <li>
        <p>代码</p>
      </li>
      <li>
        <p>计划结束</p>
      </li>
      <li>
        <p>计划开始</p>
      </li>
      <li>
        <p>访问者</p>
      </li>
    </ul>
  </li>
  <li>
    <p>单击 <strong>“添加”</strong></p>
  </li>
  <li>在 <strong>“字段”</strong> 窗格中，通过上下拖放字段名称来重新排列字段。推荐的顺序是：
    <ul>
      <li>代码、名称、建筑物、访问者、计划开始时间、计划结束时间、实际开始时间、实际结束时间
        <blockquote>
          <p><strong>提示：</strong> 可以通过单击字段名称旁边的向下箭头来折叠每个字段。</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>
    <p>通过单击字段名称旁边的省略号 (<strong>…</strong>) 并选择 <strong>“删除”</strong> 来删除 <strong>“创建时间”</strong> 字段。</p>
  </li>
  <li>
    <p>关闭 <strong>“字段”</strong> 窗格。</p>
  </li>
  <li>要保留正在进行的作业，请单击 <strong>“文件”</strong>，然后单击 <strong>“保存”</strong>。使用后退箭头返回到应用。</li>
</ol>

<h2 id="任务-3配置访问编辑表单">任务 #3：配置“访问编辑”表单</h2>

<p>在此任务中，你将配置一个表单来编辑个人访问行相关信息。</p>

<ol>
  <li>
    <p>在 <strong>“树视图”</strong> 下展开 <strong>“EditScreen1”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“EditForm1”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“创建时间”</strong> 字段，然后按下 <strong>“Delete”</strong> 键删除字段</p>
  </li>
  <li>
    <p>在“属性”面板中选择 <strong>“编辑字段”</strong></p>
  </li>
  <li>
    <p>单击 <strong>“添加字段”</strong></p>
  </li>
  <li>
    <p>选择以下字段：</p>

    <ul>
      <li>
        <p>建筑物</p>
      </li>
      <li>
        <p>计划结束</p>
      </li>
      <li>
        <p>计划开始</p>
      </li>
      <li>
        <p>访问者</p>
      </li>
    </ul>
  </li>
  <li>
    <p>单击 <strong>“添加”</strong></p>
  </li>
  <li>
    <p>在 <strong>“字段”</strong> 窗格中，通过上下拖放字段名称来重新排列字段。推荐的顺序是：</p>

    <ul>
      <li>名称、建筑物、访问者、计划开始时间、计划结束时间
        <blockquote>
          <p><strong>提示：</strong> 可以通过单击字段名称旁边的向下箭头来折叠每个字段。</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>
    <p>关闭 <strong>“字段”</strong> 窗格。</p>
  </li>
  <li>
    <p>要保留正在进行的作业，请单击 <strong>“文件”</strong>，然后单击 <strong>“保存”</strong>。使用后退箭头返回到应用。</p>
  </li>
</ol>

<p>屏幕看起来应大致如下：</p>

<p><a href="media/2-canvas-edit-form.png" target="_blank"><img src="media/2-canvas-edit-form.png" alt="画布编辑表单"></a></p>

<h2 id="任务-4配置访问库">任务 #4：配置访问库</h2>

<p>在此任务中，你将配置预先生成的库以显示访问的标题、开始日期和结束日期。</p>

<ol>
  <li>
    <p>在 <strong>“树视图”</strong> 下展开 <strong>“BrowseScreen1”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“BrowseGallery1”</strong></p>
  </li>
  <li>
    <p>从右侧的“高级属性”面板中选择 <strong>“TemplateSize”</strong> 属性。</p>
  </li>
  <li>
    <p>将表达式替换为以下 <code>Min(150, BrowseGallery1.Height - 60)</code>。这样可以确保有足够的空间来容纳其他信息。</p>
  </li>
  <li>
    <p>在应用预览版中，选择库中的第一个“日期时间”字段。</p>
  </li>
  <li>
    <p>在顶部编辑栏中，将 <strong>ThisItem.’Created On’</strong> 更改为 <code>ThisItem.'Scheduled Start'</code></p>
  </li>
  <li>
    <p>再次选择字段</p>
  </li>
  <li>
    <p>按下 <strong>CTRL+C</strong>，然后按下 <strong>CTRL+V</strong>，以创建该字段的副本。</p>
  </li>
  <li>
    <p>使用鼠标或键盘，向下移动复制的控件，并将其与库中其他控件对齐，并位于其他“日期时间”字段下方。</p>
  </li>
  <li>
    <p>在顶部公式栏中，将 <strong>ThisItem.’Scheduled Start’</strong> 更改为 <code>ThisItem.'Scheduled End'</code></p>
  </li>
  <li>
    <p>要保留正在进行的作业，请单击 <strong>“文件”</strong>，然后单击 <strong>“保存”</strong>。使用后退箭头返回到应用。</p>
  </li>
</ol>

<h2 id="任务-5添加日期筛选器">任务 #5：添加日期筛选器</h2>

<p>由于访问量持续增长，因此用户需要一种可筛选访问库的功能。例如，用户可能只想查看将来的访问。在本任务中将添加一项功能，以便仅显示用户所选日期之后的访问。</p>

<ol>
  <li>
    <p>选择 <strong>“BrowseScreen1”</strong></p>
  </li>
  <li>
    <p>选择顶部的 <strong>“插入”</strong> 菜单。</p>
  </li>
  <li>
    <p>单击 <strong>“输入”</strong> 并选择 <strong>“日期选取器”</strong>。</p>
  </li>
  <li>
    <p>使用键盘或鼠标，将控件置于搜索框下方。</p>
  </li>
  <li>
    <p>选择 <strong>“BrowseGallery1”</strong></p>
  </li>
  <li>
    <p>调整库控件的大小并移动控件，使其位于日期选取器下方并覆盖屏幕。为此，可以单击库控件顶部中心的调整大小图标，然后调整控件的大小使其在日期选取器之后开始。</p>
  </li>
  <li>
    <p>选择 <strong>“BrowseGallery1”</strong> 后，单击“属性”窗格的 <strong>“高级”</strong> 选项卡。</p>
  </li>
  <li>
    <p>找到 <strong>“项”</strong> 属性，然后在文本框中单击。</p>
  </li>
  <li>
    <p>在表达式中，找到 <strong>[<a href="https://github.com/Visits" class="user-mention">@Visits</a>]</strong>，然后将其替换为 <code>Filter(Visits,'Scheduled End' &gt;= DatePicker1.SelectedDate)</code>。整个表达式应该如下所示：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs php">SortByColumns(
	Search(
     Filter(
     	Visits,
         <span class="hljs-string"><span class="hljs-string">'Scheduled End'</span></span> &gt;= DatePicker1.SelectedDate
        ),
        TextSearchBox1.Text,
    	<span class="hljs-string"><span class="hljs-string">"bc_code"</span></span>,<span class="hljs-string"><span class="hljs-string">"bc_name"</span></span>
    ),
  <span class="hljs-string"><span class="hljs-string">"bc_scheduledstart"</span></span>,
  <span class="hljs-keyword"><span class="hljs-keyword">If</span></span>(SortDescending1, Descending, Ascending)
)
</code></pre>
  </li>
  <li>
    <p>要保留正在进行的作业，请单击 <strong>“文件”</strong>，然后单击 <strong>“保存”</strong>。使用后退箭头返回到应用。</p>
  </li>
</ol>

<p>屏幕看起来应大致如下：</p>

<p><a href="media/2-canvas-browse.png" target="_blank"><img src="media/2-canvas-browse.png" alt="筛选库的画布"></a></p>

<h1 id="练习-2完成应用">练习 2：完成应用</h1>

<p>在本练习中，你将测试该应用程序，一旦成功，就将其添加到解决方案中。</p>

<h2 id="任务-1测试应用">任务 #1：测试应用</h2>

<ol>
  <li>
    <p>启动应用程序</p>

    <ul>
      <li>
        <p>选择 <strong>“BrowseScreen1”</strong> 并按功能键 <strong>F5</strong>，或单击右上角的 <strong>“播放”</strong> 图标来预览应用。</p>
      </li>
      <li>
        <p>该应用程序应加载并显示访问列表。</p>
      </li>
      <li>
        <p>通过在日期选取器控件中选择不同的日期来测试筛选器</p>
      </li>
      <li>
        <p>选择一个访问并验证显示表单是否正常工作</p>
      </li>
      <li>
        <p>返回库，然后按 <strong>+</strong> 以创建一次新访问。验证编辑表单是否包含必填列，包括访客、建筑物以及计划的开始日期和结束日期。</p>
      </li>
      <li>
        <p>填写信息并提交。验证新记录是否出现在库中。</p>
      </li>
      <li>
        <p>至少再创建 2 次访问。</p>
      </li>
      <li>
        <p>按下 <strong>“ESC”</strong> 键或单击 <strong>“X”</strong> 图标以关闭预览模式。</p>
      </li>
    </ul>
  </li>
  <li>
    <p>保存并发布应用程序</p>

    <ul>
      <li>
        <p>单击 <strong>“文件”</strong>，如果显示 <strong>“保存”</strong> 按钮，请单击“保存”。</p>
      </li>
      <li>
        <p>单击 <strong>“发布”</strong>。</p>
      </li>
      <li>
        <p>请点击 <strong>“发布此版本”</strong>。</p>
      </li>
      <li>
        <p>单击 <strong>“后退”</strong> 箭头，导航回该应用。</p>
      </li>
      <li>
        <p>关闭 <strong>“设计器”</strong> 浏览器窗口或选项卡。</p>
      </li>
      <li>
        <p>如果在尝试关闭浏览器窗口时出现提示，请单击 <strong>“离开”</strong>。</p>
      </li>
    </ul>
  </li>
</ol>

<h2 id="任务-2将应用添加到解决方案并发布">任务 #2：将应用添加到解决方案并发布</h2>

<ol>
  <li>
    <p>打开校园管理解决方案。</p>

    <ul>
      <li>
        <p>登录至 <a href="https://make.powerapps.com">https://make.powerapps.com</a></p>
      </li>
      <li>
        <p>如果右上角显示的环境不是你的练习环境，请选择你<strong>的环境</strong>。</p>
      </li>
      <li>
        <p>选择 <strong>“解决方案”</strong>。</p>
      </li>
      <li>
        <p>单击打开 <strong>“校园管理”</strong> 解决方案。</p>
      </li>
    </ul>
  </li>
  <li>
    <p>选择 <strong>“添加现有”</strong>，然后单击 <strong>“应用”</strong>，然后单击 <strong>“画布应用”</strong>。</p>
  </li>
  <li>
    <p>选择“<strong>外部 Dataverse</strong>”选项卡。</p>
  </li>
  <li>
    <p>选择你的 <strong>“校园职员”</strong> 应用，单击 <strong>“添加”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“发布所有自定义项”</strong>。</p>
  </li>
</ol>

<h1 id="挑战">挑战</h1>

<ul>
  <li>所有访问的日历视图，并按日期范围筛选</li>
  <li>能够创建和管理应用中的联系人</li>
  <li>如何在一次访问中显示多个会议</li>
</ul>


            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/PL-900ZH-Microsoft-Power-Platform-Fundamentals" target="_blank" class="ml-2">
                    MicrosoftLearning/PL-900ZH-Microsoft-Power-Platform-Fundamentals
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>