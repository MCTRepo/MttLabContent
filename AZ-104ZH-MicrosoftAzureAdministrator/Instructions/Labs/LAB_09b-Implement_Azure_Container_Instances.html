<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-104ZH-MicrosoftAzureAdministrator
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-104ZH-MicrosoftAzureAdministrator
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-104ZH-MicrosoftAzureAdministrator" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#练习-1">练习 1</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="实验室-09b---实现-azure-容器实例">实验室 09b - 实现 Azure 容器实例</h1>
<h1 id="学生实验室手册">学生实验室手册</h1>

<h2 id="实验室场景">实验室场景</h2>

<p>Contoso 希望为其虚拟化工作负荷找到一个新平台。你找到了大量可用于实现该目标的容器映像。由于你想要最大程度地减少容器管理，因此计划评估 Azure 容器实例在 Docker 映像部署中的使用。</p>

<h2 id="目标">目标</h2>

<p>在本实验室中，你将：</p>

<ul>
  <li>任务 1： 使用 Azure 容器实例部署 Docker 容器映像</li>
  <li>任务 2：查看 Azure 容器实例的功能</li>
</ul>

<h2 id="预计用时20-分钟">预计用时：20 分钟</h2>

<h2 id="体系结构图">体系结构图</h2>

<p><a href="../media/lab09b.png" target="_blank"><img src="../media/lab09b.png" alt="图像"></a></p>

<h2 id="说明">说明</h2>

<h3 id="练习-1">练习 1</h3>

<h4 id="任务-1-使用-azure-容器实例部署-docker-容器映像">任务 1： 使用 Azure 容器实例部署 Docker 容器映像</h4>

<p>在此任务中，你将为 Web 应用程序创建一个新的容器实例。</p>

<ol>
  <li>
    <p>登录到 <a href="https://portal.azure.com">Azure 门户</a>。</p>
  </li>
  <li>
    <p>在 Azure 门户中，搜索查找“<strong>容器实例</strong>”，然后在“<strong>容器实例</strong>”边栏选项卡中，单击“<strong>+ 创建</strong>”。</p>
  </li>
  <li>
    <p>在 <strong>“创建容器实例”</strong> 边栏选项卡的 <strong>“基本信息”</strong> 选项卡中，请指定以下设置（其他设置保留默认值）：</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>订阅</td>
          <td>在本实验室中使用的 Azure 订阅的名称</td>
        </tr>
        <tr>
          <td>资源组</td>
          <td>新资源组的名称 <strong>az104-09b-rg1</strong></td>
        </tr>
        <tr>
          <td>容器名称</td>
          <td><strong>az104-9b-c1</strong></td>
        </tr>
        <tr>
          <td>区域</td>
          <td>可预配 Azure 容器实例的区域的名称</td>
        </tr>
        <tr>
          <td>映像源</td>
          <td><strong>快速入门映像</strong></td>
        </tr>
        <tr>
          <td>映像</td>
          <td><strong>mcr.microsoft.com/azuredocs/aci-helloworld:latest (Linux)</strong></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>单击 <strong>“下一步: 网络 &gt;”</strong>，同时在 <strong>“创建容器实例”</strong> 边栏选项卡的 <strong>“网络”</strong> 选项卡，指定以下设置（其他设置保留默认值）：</p>

    <table>
      <thead>
        <tr>
          <th>设置</th>
          <th>值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>DNS 名称标签</td>
          <td>任何全局唯一的有效 DNS 主机名</td>
        </tr>
      </tbody>
    </table>

    <blockquote>
      <p><strong>备注</strong>： 可以在 dns-name-label.region.azurecontainer.io. 公开访问你的容器。如果你收到了 <strong>“DNS 名称标签不可用”</strong> 的错误消息，请指定其他值。</p>
    </blockquote>
  </li>
  <li>
    <p>单击 <strong>“下一步: 高级 &gt;”</strong>，查看 <strong>“创建容器实例”</strong> 边栏选项卡中的 <strong>“高级”</strong> 选项卡上的设置，但不要做任何更改，单击 <strong>“查看 + 创建”</strong>，确保验证通过并单击 <strong>“创建”</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>：等待部署完成。该操作需约 3 分钟。</p>
    </blockquote>

    <blockquote>
      <p><strong>备注</strong>：在等待期间，你可能有兴趣查看<a href="https://github.com/Azure-Samples/aci-helloworld">示例应用程序背后的代码</a>。若要查看，请浏览 \app 文件夹。</p>
    </blockquote>
  </li>
</ol>

<h4 id="任务-2查看-azure-容器实例的功能">任务 2：查看 Azure 容器实例的功能</h4>

<p>在此任务中，你将查看容器实例的部署。</p>

<ol>
  <li>
    <p>在部署边栏选项卡中，单击 <strong>“前往资源”</strong> 链接。</p>
  </li>
  <li>
    <p>在容器实例 <strong>“概述”</strong> 边栏选项卡中，验证 <strong>“状态”</strong> 是否报告为 <strong>“正在运行”</strong>。</p>
  </li>
  <li>
    <p>复制容器实例的值 <strong>“FQDN”</strong>，打开一个新的浏览器标签页，然后导航到相应的 URL。</p>
  </li>
  <li>
    <p>验证 <strong>“欢迎使用 Azure 容器实例”</strong> 的页面是否显示。</p>
  </li>
  <li>
    <p>关闭新的浏览器标签页，返回到 Azure 门户，在“容器实例”边栏选项卡的 <strong>“设置”</strong> 部分，单击 <strong>“容器”</strong>，然后单击 <strong>“日志”</strong>。</p>
  </li>
  <li>
    <p>验证你是否看到代表通过在浏览器中显示应用程序生成的 HTTP GET 请求的日志条目。</p>
  </li>
</ol>

<h4 id="清理资源">清理资源</h4>

<blockquote>
  <p><strong>备注</strong>：请记得删除任何新创建而不会再使用的 Azure 资源。删除未使用的资源，确保不产生意外费用。</p>
</blockquote>

<ol>
  <li>
    <p>在 Azure 门户中，在 <strong>Cloud Shell</strong> 窗格中打开 <strong>“PowerShell”</strong> 会话。</p>
  </li>
  <li>
    <p>运行以下命令，列出在本模块各实验室中创建的所有资源组：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="language-powershell">Get-AzResourceGroup -Name 'az104-09b*'
</code></pre>
  </li>
  <li>
    <p>运行以下命令，删除在本模块各个实验室中创建的所有资源组：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="language-powershell">Get-AzResourceGroup -Name 'az104-09b*' | Remove-AzResourceGroup -Force -AsJob
</code></pre>

    <blockquote>
      <p><strong>备注</strong>：该命令以异步方式执行（由 -AsJob 参数决定），因此，虽然你随后可在同一 PowerShell 会话中立即运行另一个 PowerShell 命令，但实际上要花几分钟才能删除资源组。</p>
    </blockquote>
  </li>
</ol>

<h4 id="回顾">回顾</h4>

<p>在本实验室中，你已：</p>

<ul>
  <li>使用 Azure 容器实例部署 Docker 映像</li>
  <li>查看 Azure 容器实例的功能</li>
</ul>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-104ZH-MicrosoftAzureAdministrator" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-104ZH-MicrosoftAzureAdministrator
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>