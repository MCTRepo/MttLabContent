<!DOCTYPE html><html lang="en"><head>
        <title>
            AI-102ZH-Designing-and-Implementing-a-Microsoft-Azure-AI-Solution
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../">
                AI-102ZH-Designing-and-Implementing-a-Microsoft-Azure-AI-Solution
            </a>
            <a href="https://github.com/MicrosoftLearning/AI-102ZH-Designing-and-Implementing-a-Microsoft-Azure-AI-Solution" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#c">C#</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="åˆ›å»º-azure-è®¤çŸ¥æœç´¢çš„è‡ªå®šä¹‰æŠ€èƒ½">åˆ›å»º Azure è®¤çŸ¥æœç´¢çš„è‡ªå®šä¹‰æŠ€èƒ½</h1>

<p>Azure è®¤çŸ¥æœç´¢ä½¿ç”¨è®¤çŸ¥æŠ€èƒ½çš„æ‰©å……ç®¡é“ä»æ–‡æ¡£ä¸­æå– AI ç”Ÿæˆçš„å­—æ®µå¹¶å°†è¿™äº›å­—æ®µåŒ…å«åœ¨æœç´¢ç´¢å¼•ä¸­ã€‚è¯¥æœåŠ¡æä¾›äº†ä¸€å¥—ç»¼åˆæ€§çš„å†…ç½®æŠ€èƒ½ä¾›ä½ ä½¿ç”¨ï¼Œä½†å¦‚æœä½ æœ‰è¿™äº›æŠ€èƒ½æ— æ³•æ»¡è¶³çš„ç‰¹å®šè¦æ±‚ï¼Œä½ å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½ã€‚</p>

<p>åœ¨æœ¬æ¬¡ç»ƒä¹ ä¸­ï¼Œä½ å°†åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰æŠ€èƒ½ï¼Œè¯¥æŠ€èƒ½å¯ä»¥å°†æ–‡æ¡£ä¸­å„å•è¯å‡ºç°çš„é¢‘ç‡åˆ¶è¡¨ä»¥ç”Ÿæˆå‰äº”ä¸ªæœ€å¸¸ç”¨å•è¯çš„åˆ—è¡¨ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ° Margieâ€™s Travelï¼ˆä¸€å®¶è™šæ„çš„æ—…è¡Œç¤¾ï¼‰çš„æœç´¢è§£å†³æ–¹æ¡ˆä¸­ã€‚</p>

<h2 id="å…‹éš†æœ¬è¯¾ç¨‹çš„å­˜å‚¨åº“">å…‹éš†æœ¬è¯¾ç¨‹çš„å­˜å‚¨åº“</h2>

<p>å¦‚æœå·²å°† <strong>AI-102-AIEngineer</strong> ä»£ç å­˜å‚¨åº“å…‹éš†åˆ°äº†è¦å®Œæˆæœ¬å®éªŒå®¤çš„ç¯å¢ƒï¼Œè¯·åœ¨ Visual Studio Code ä¸­å°†å…¶æ‰“å¼€ï¼›å¦åˆ™ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ç«‹å³å°†å…¶å…‹éš†ã€‚</p>

<ol>
  <li>å¯åŠ¨ Visual Studio Codeã€‚</li>
  <li>æ‰“å¼€é¢æ¿ (SHIFT+CTRL+P) å¹¶è¿è¡Œ <strong>Git: Clone</strong> å‘½ä»¤ï¼Œå°† <code>https://github.com/MicrosoftLearning/AI-102ZH-Designing-and-Implementing-a-Microsoft-Azure-AI-Solution</code> å­˜å‚¨åº“å…‹éš†åˆ°æœ¬åœ°æ–‡ä»¶å¤¹ï¼ˆå…·ä½“å…‹éš†åˆ°å“ªä¸ªæ–‡ä»¶å¤¹æ— å…³ç´§è¦ï¼‰ã€‚</li>
  <li>å…‹éš†å­˜å‚¨åº“åï¼Œåœ¨ Visual Studio Code ä¸­æ‰“å¼€æ–‡ä»¶å¤¹ã€‚</li>
  <li>
    <p>ç­‰å¾…å…¶ä»–æ–‡ä»¶å®‰è£…å®Œæ¯•ï¼Œä»¥æ”¯æŒå­˜å‚¨åº“ä¸­çš„ C# ä»£ç é¡¹ç›®ã€‚</p>

    <blockquote>
      <p><strong>å¤‡æ³¨</strong>ï¼š å¦‚æœç³»ç»Ÿæç¤ºä½ æ·»åŠ ç”Ÿæˆå’Œè°ƒè¯•æ‰€éœ€çš„èµ„äº§ï¼Œè¯·é€‰æ‹© <strong>â€œä»¥åå†è¯´â€</strong>ã€‚</p>
    </blockquote>
  </li>
</ol>

<h2 id="åˆ›å»º-azure-èµ„æº">åˆ›å»º Azure èµ„æº</h2>

<blockquote>
  <p><strong>å¤‡æ³¨</strong>ï¼š å¦‚æœä½ ä¹‹å‰å·²å®Œæˆäº† <strong><a href="22-azure-search.html">åˆ›å»º Azure è®¤çŸ¥æœç´¢è§£å†³æ–¹æ¡ˆ</a></strong> ç»ƒä¹ ï¼Œå¹¶ä¸”åœ¨è®¢é˜…ä¸­ä»æœ‰è¿™äº› Azure èµ„æºï¼Œåˆ™å¯ä»¥è·³è¿‡è¿™éƒ¨åˆ†ï¼Œä» <strong>â€œåˆ›å»ºæœç´¢è§£å†³æ–¹æ¡ˆâ€</strong> éƒ¨åˆ†å¼€å§‹ã€‚å¦åˆ™ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é¢„é…æ‰€éœ€çš„ Azure èµ„æºã€‚</p>
</blockquote>

<ol>
  <li>åœ¨ Web æµè§ˆå™¨ä¸­ï¼Œæ‰“å¼€ Azure é—¨æˆ· <code>https://portal.azure.com</code>ï¼Œå¹¶ä½¿ç”¨ä¸ä½ çš„ Azure è®¢é˜…å…³è”çš„ Microsoft å¸æˆ·ç™»å½•ã€‚</li>
  <li>æŸ¥çœ‹è®¢é˜…ä¸­çš„<strong>èµ„æºç»„</strong>ã€‚</li>
  <li>å¦‚æœä½¿ç”¨çš„å—é™è®¢é˜…å·²æä¾›äº†èµ„æºç»„ï¼Œè¯·é€‰æ‹©è¯¥èµ„æºç»„ä»¥æŸ¥çœ‹å…¶å±æ€§ã€‚å¦åˆ™ï¼Œè¯·ä½¿ç”¨é¦–é€‰åç§°åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºç»„ï¼Œå¹¶åœ¨åˆ›å»ºåè¿›å…¥è¯¥èµ„æºç»„ã€‚</li>
  <li>è®°ä¸‹èµ„æºç»„ <strong>â€œæ¦‚è¿°â€</strong> é¡µä¸Šçš„ <strong>â€œè®¢é˜… IDâ€</strong> å’Œ <strong>â€œä½ç½®â€</strong>ã€‚åœ¨åç»­æ­¥éª¤ä¸­ï¼Œä½ å°†éœ€è¦è¿™äº›å€¼ä»¥åŠèµ„æºç»„çš„åç§°ã€‚</li>
  <li>åœ¨ Visual Studio Code ä¸­ï¼Œå±•å¼€ <strong>23-custom-search-skill</strong> æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© <strong>setup.cmd</strong>ã€‚ä½ å°†ä½¿ç”¨æ­¤æ‰¹å¤„ç†è„šæœ¬æ¥è¿è¡Œåˆ›å»ºæ‰€éœ€ Azure èµ„æºæ—¶éœ€è¦çš„ Azure å‘½ä»¤è¡Œæ¥å£ (CLI) å‘½ä»¤ã€‚</li>
  <li>å³é”®å•å‡» <strong>23-custom-search-skill</strong>æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© <strong>â€œåœ¨é›†æˆç»ˆç«¯ä¸­æ‰“å¼€â€</strong>ã€‚</li>
  <li>
    <p>åœ¨ç»ˆç«¯çª—æ ¼ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥ä¸ Azure è®¢é˜…å»ºç«‹ç»è®¤è¯çš„è¿æ¥ã€‚</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs nginx"> <span class="hljs-attribute"><span class="hljs-attribute">az</span></span> login --output <span class="hljs-literal"><span class="hljs-literal">none</span></span>
</code></pre>
  </li>
  <li>æ ¹æ®æç¤ºç™»å½•åˆ° Azure è®¢é˜…ã€‚ç„¶åè¿”å› Visual Studio Codeï¼Œç­‰å¾…ç™»å½•è¿‡ç¨‹å®Œæˆã€‚</li>
  <li>
    <p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åˆ—å‡º Azure ä½ç½®ã€‚</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="hljs cpp"> az account <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>-locations -o table
</code></pre>
  </li>
  <li>åœ¨è¾“å‡ºä¸­ï¼Œæ‰¾åˆ°ä¸èµ„æºç»„ä½ç½®ç›¸å¯¹åº”çš„ <strong>â€œåç§°â€</strong> å€¼ï¼ˆä¾‹å¦‚ï¼Œå¯¹äº<em>ç¾å›½ä¸œéƒ¨</em>ï¼Œå¯¹åº”çš„åç§°æ˜¯ eastusï¼‰ã€‚</li>
  <li>åœ¨ <strong>setup.cmd</strong> è„šæœ¬ä¸­ï¼Œä½¿ç”¨è®¢é˜… IDã€èµ„æºç»„åç§°å’Œä½ç½®åç§°çš„é€‚å½“å€¼ä¿®æ”¹ <strong>subscription_id</strong>ã€ <strong>resource_group</strong> å’Œ <strong>location</strong> å˜é‡å£°æ˜ã€‚ç„¶åä¿å­˜æ›´æ”¹ã€‚</li>
  <li>
    <p>åœ¨ <strong>23-custom-search-skill</strong> æ–‡ä»¶å¤¹çš„ç»ˆç«¯ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿è¡Œè„šæœ¬ï¼š</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock2" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock2" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">setup</span></span>
</code></pre>

    <blockquote>
      <p><strong>å¤‡æ³¨</strong>ï¼š â€œæœç´¢ CLIâ€æ¨¡å—ä¸ºé¢„è§ˆç‰ˆï¼Œå¯èƒ½ä¼šå¡åœ¨ <em>â€œ- æ­£åœ¨è¿è¡Œâ€¦â€</em> è¿‡ç¨‹ä¸­ã€‚å¦‚æœè¿™ç§æƒ…å†µè¶…è¿‡ 2 åˆ†é’Ÿï¼Œè¯·æŒ‰ CTRL+C å–æ¶ˆè¯¥é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œï¼Œç„¶ååœ¨ç³»ç»Ÿè¯¢é—®æ˜¯å¦è¦ç»ˆæ­¢è„šæœ¬æ—¶é€‰æ‹© <strong>â€œNâ€</strong>ã€‚ç„¶åå°±åº”è¯¥å¯ä»¥æˆåŠŸå®Œæˆã€‚</p>

      <p>å¦‚æœè„šæœ¬å¤±è´¥ï¼Œè¯·ç¡®ä¿å·²ä½¿ç”¨æ­£ç¡®çš„å˜é‡åä¿å­˜è„šæœ¬ï¼Œç„¶åå†è¯•ä¸€æ¬¡ã€‚</p>
    </blockquote>
  </li>
  <li>è„šæœ¬å®Œæˆåï¼Œè¯·æŸ¥çœ‹å®ƒæ˜¾ç¤ºçš„è¾“å‡ºï¼Œå¹¶è®°ä¸‹ä»¥ä¸‹æœ‰å…³ Azure èµ„æºçš„ä¿¡æ¯ï¼ˆç¨åå°†éœ€è¦è¿™äº›å€¼ï¼‰ï¼š
    <ul>
      <li>å­˜å‚¨å¸æˆ·åç§°</li>
      <li>å­˜å‚¨è¿æ¥å­—ç¬¦ä¸²</li>
      <li>è®¤çŸ¥æœåŠ¡å¸æˆ·</li>
      <li>è®¤çŸ¥æœåŠ¡å¯†é’¥</li>
      <li>æœç´¢æœåŠ¡ç»ˆç»“ç‚¹</li>
      <li>æœç´¢æœåŠ¡ç®¡ç†å‘˜å¯†é’¥</li>
      <li>æœç´¢æœåŠ¡æŸ¥è¯¢å¯†é’¥</li>
    </ul>
  </li>
  <li>åœ¨ Azure é—¨æˆ·ä¸­ï¼Œåˆ·æ–°èµ„æºç»„å¹¶éªŒè¯å®ƒæ˜¯å¦åŒ…å« Azure å­˜å‚¨å¸æˆ·ã€Azure è®¤çŸ¥æœåŠ¡èµ„æºå’Œ Azure è®¤çŸ¥æœç´¢èµ„æºã€‚</li>
</ol>

<h2 id="åˆ›å»ºæœç´¢è§£å†³æ–¹æ¡ˆ">åˆ›å»ºæœç´¢è§£å†³æ–¹æ¡ˆ</h2>

<p>åœ¨è·å¾—å¿…è¦çš„ Azure èµ„æºåï¼Œå³å¯åˆ›å»ºç”±ä»¥ä¸‹ç»„ä»¶ç»„æˆçš„æœç´¢è§£å†³æ–¹æ¡ˆï¼š</p>

<ul>
  <li><strong>æ•°æ®æº</strong> - å¼•ç”¨ Azure å­˜å‚¨å®¹å™¨ä¸­çš„æ–‡æ¡£ã€‚</li>
  <li><strong>æŠ€èƒ½ç»„</strong> - å®šä¹‰ç”¨äºä»æ–‡æ¡£ä¸­æå– AI ç”Ÿæˆçš„å­—æ®µçš„æŠ€èƒ½æ‰©å……ç®¡é“ã€‚</li>
  <li><strong>ç´¢å¼•</strong> - å®šä¹‰ä¸€ç»„å¯æœç´¢çš„æ–‡æ¡£è®°å½•ã€‚</li>
  <li><strong>ç´¢å¼•å™¨</strong> - ä»æ•°æ®æºä¸­æå–æ–‡æ¡£ã€åº”ç”¨æŠ€èƒ½ç»„å¹¶å¡«å……ç´¢å¼•ã€‚</li>
</ul>

<p>åœ¨æœ¬æ¬¡ç»ƒä¹ ä¸­ï¼Œä½ å°†ä½¿ç”¨ Azure è®¤çŸ¥æœç´¢ REST æ¥å£é€šè¿‡æäº¤ JSON è¯·æ±‚æ¥åˆ›å»ºè¿™äº›ç»„ä»¶ã€‚</p>

<ol>
  <li>åœ¨ Visual Studio Code çš„ <strong>23-custom-search-skill</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œå±•å¼€ <strong>create-search</strong> æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© <strong>data_source.json</strong>ã€‚è¯¥æ–‡ä»¶åŒ…å«æ•°æ®æº <strong>â€œmargies-custom-dataâ€</strong> çš„ JSON å®šä¹‰ã€‚</li>
  <li>
    <p>å°† <strong>YOUR_CONNECTION_STRING</strong> å ä½ç¬¦æ›¿æ¢ä¸º Azure å­˜å‚¨å¸æˆ·çš„è¿æ¥å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock3" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock3" class="mt-0"><code class="hljs"> DefaultEndpointsProtocol=https;AccountName=ai102str123;AccountKey=12345abcdefg...==;EndpointSuffix=core.windows.net
</code></pre>

    <p><em>å¯ä»¥åœ¨ Azure é—¨æˆ·ä¸­å­˜å‚¨å¸æˆ·çš„ <strong>â€œè®¿é—®å¯†é’¥â€</strong> é¡µé¢ä¸Šæ‰¾åˆ°è¯¥è¿æ¥å­—ç¬¦ä¸²ã€‚</em></p>
  </li>
  <li>ä¿å­˜å¹¶å…³é—­æ›´æ–°åçš„ JSON æ–‡ä»¶ã€‚</li>
  <li>åœ¨ <strong>create-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>skillset.json</strong>ã€‚è¯¥æ–‡ä»¶åŒ…å«æŠ€èƒ½ç»„ <strong>â€œmargies-custom-skillsetâ€</strong> çš„ JSON å®šä¹‰ã€‚</li>
  <li>
    <p>åœ¨æŠ€èƒ½ç»„å®šä¹‰é¡¶éƒ¨çš„ <strong>cognitiveServices</strong> å…ƒç´ ä¸­ï¼Œå°† <strong>YOUR_COGNITIVE_SERVICES_KEY</strong> å ä½ç¬¦æ›¿æ¢ä¸ºè®¤çŸ¥æœåŠ¡èµ„æºçš„ä»»ä½•ä¸€ä¸ªå¯†é’¥ã€‚</p>

    <p><em>å¯ä»¥åœ¨ Azure é—¨æˆ·ä¸­è®¤çŸ¥æœåŠ¡èµ„æºçš„ <strong>â€œå¯†é’¥å’Œç»ˆç»“ç‚¹â€</strong> é¡µé¢ä¸­æ‰¾åˆ°è¿™äº›å¯†é’¥ã€‚</em></p>
  </li>
  <li>ä¿å­˜å¹¶å…³é—­æ›´æ–°åçš„ JSON æ–‡ä»¶ã€‚</li>
  <li>åœ¨ <strong>create-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>index.json</strong>ã€‚è¯¥æ–‡ä»¶åŒ…å«ç´¢å¼• <strong>â€œmargies-custom-indexâ€</strong> çš„ JSON å®šä¹‰ã€‚</li>
  <li>æŸ¥çœ‹è¯¥ç´¢å¼•çš„ JSONï¼Œç„¶åå…³é—­æ–‡ä»¶ï¼Œä¸åšä»»ä½•ä¿®æ”¹ã€‚</li>
  <li>åœ¨ <strong>create-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>indexer.json</strong>ã€‚è¯¥æ–‡ä»¶åŒ…å«ç´¢å¼•å™¨ <strong>â€œmargies-custom-indexerâ€</strong> çš„ JSON å®šä¹‰ã€‚</li>
  <li>æŸ¥çœ‹è¯¥ç´¢å¼•å™¨çš„ JSONï¼Œç„¶åå…³é—­æ–‡ä»¶ï¼Œä¸åšä»»ä½•ä¿®æ”¹ã€‚</li>
  <li>åœ¨ <strong>create-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>create-search.cmd</strong>ã€‚æ­¤æ‰¹å¤„ç†è„šæœ¬ä½¿ç”¨ cURL å®ç”¨ç¨‹åºå°† JSON å®šä¹‰æäº¤åˆ° Azure è®¤çŸ¥æœç´¢èµ„æºçš„ REST æ¥å£ã€‚</li>
  <li>
    <p>å°† <strong>YOUR_SEARCH_URL</strong> å’Œ <strong>YOUR_ADMIN_KEY</strong> å˜é‡å ä½ç¬¦æ›¿æ¢ä¸º Azure è®¤çŸ¥æœç´¢èµ„æºçš„ <strong>Url</strong> å’Œå…¶ä¸­ä¸€ä¸ªç®¡<strong>ç†å‘˜å¯†é’¥</strong>ã€‚</p>

    <p><em>å¯ä»¥åœ¨ Azure é—¨æˆ·ä¸­ Azure è®¤çŸ¥æœç´¢èµ„æºçš„ <strong>â€œæ¦‚è¿°â€</strong> å’Œ <strong>â€œå¯†é’¥â€</strong> é¡µé¢ä¸Šæ‰¾åˆ°è¿™äº›å€¼ã€‚</em></p>
  </li>
  <li>ä¿å­˜æ›´æ–°åçš„æ‰¹å¤„ç†æ–‡ä»¶ã€‚</li>
  <li>å³é”®å•å‡» <strong>create-search</strong> æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© <strong>â€œåœ¨é›†æˆç»ˆç«¯ä¸­æ‰“å¼€â€</strong>ã€‚</li>
  <li>
    <p>åœ¨ <strong>create-search</strong> æ–‡ä»¶å¤¹çš„ç»ˆç«¯çª—æ ¼ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿è¡Œæ‰¹å¤„ç†è„šæœ¬ã€‚</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock4" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock4" class="mt-0"><code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">search</span></span>
</code></pre>
  </li>
  <li>
    <p>è„šæœ¬å®Œæˆåï¼Œåœ¨ Azure é—¨æˆ·ä¸­ Azure è®¤çŸ¥æœç´¢èµ„æºçš„é¡µé¢ä¸Šï¼Œé€‰æ‹© <strong>â€œç´¢å¼•å™¨â€</strong> é¡µé¢ï¼Œç„¶åç­‰å¾…ç´¢å¼•è¿‡ç¨‹å®Œæˆã€‚</p>

    <p><em>ä½ å¯ä»¥é€‰æ‹© <strong>â€œåˆ·æ–°â€</strong> æ¥è·Ÿè¸ªç´¢å¼•æ“ä½œçš„è¿›åº¦ã€‚å¯èƒ½éœ€è¦ä¸€åˆ†é’Ÿå·¦å³çš„æ—¶é—´æ‰èƒ½å®Œæˆã€‚</em></p>
  </li>
</ol>

<h2 id="æœç´¢ç´¢å¼•">æœç´¢ç´¢å¼•</h2>

<p>ç°åœ¨ä½ å·²æ‹¥æœ‰ç´¢å¼•ï¼Œå¯ä»¥æœç´¢å®ƒã€‚</p>

<ol>
  <li>åœ¨ Azure è®¤çŸ¥æœç´¢èµ„æºè¾¹æ é€‰é¡¹å¡çš„é¡¶éƒ¨ï¼Œé€‰æ‹© <strong>â€œæœç´¢èµ„æºç®¡ç†å™¨â€</strong>ã€‚</li>
  <li>
    <p>åœ¨æœç´¢èµ„æºç®¡ç†å™¨çš„ <strong>â€œæŸ¥è¯¢å­—ç¬¦ä¸²â€</strong> æ¡†ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œç„¶åé€‰æ‹© <strong>â€œæœç´¢â€</strong>ã€‚</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock5" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock5" class="mt-0"><code class="hljs perl"> search=London&amp;$select=url,sentiment,keyphrases&amp;$filter=metadata_author eq <span class="hljs-string"><span class="hljs-string">'Reviewer'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> sentiment <span class="hljs-keyword"><span class="hljs-keyword">gt</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>
</code></pre>

    <p>è¯¥æŸ¥è¯¢å¯æ£€ç´¢è¯„è®ºå®¶ <em>Reviewer</em> æ’°å†™çš„æ‰€æœ‰æåŠä¼¦æ•¦ <em>London</em> æ—¶<strong>æƒ…ç»ª</strong>åˆ†æ•°å¤§äº <em>0.5</em>ï¼ˆæ¢å¥è¯è¯´ï¼ŒæåŠä¼¦æ•¦çš„æ­£é¢è¯„è®ºï¼‰çš„æ–‡æ¡£çš„ <strong>url</strong>ã€<strong>æƒ…ç»ª</strong>å’Œ<strong>å…³é”®è¯</strong></p>
  </li>
</ol>

<h2 id="ä¸ºè‡ªå®šä¹‰æŠ€èƒ½åˆ›å»º-azure-å‡½æ•°">ä¸ºè‡ªå®šä¹‰æŠ€èƒ½åˆ›å»º Azure å‡½æ•°</h2>

<p>æœç´¢è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ä¸€äº›å†…ç½®çš„è®¤çŸ¥æŠ€èƒ½ï¼Œè¿™äº›æŠ€èƒ½å¯ä»¥ä½¿ç”¨æ–‡æ¡£ä¸­çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚åœ¨ä¹‹å‰çš„ä»»åŠ¡ä¸­çœ‹åˆ°çš„æƒ…ç»ªåˆ†æ•°å’Œå…³é”®çŸ­è¯­åˆ—è¡¨ï¼‰æ¥æ‰©å……ç´¢å¼•ã€‚</p>

<p>ä½ å¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½æ¥è¿›ä¸€æ­¥å¢å¼ºç´¢å¼•ã€‚ä¾‹å¦‚ï¼Œè¯†åˆ«æ¯ä¸ªæ–‡æ¡£ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å•è¯å¯èƒ½å¾ˆæœ‰ç”¨ï¼Œä½†æ— å†…ç½®æŠ€èƒ½å¯æä¾›æ­¤åŠŸèƒ½ã€‚</p>

<p>è¦ä»¥è‡ªå®šä¹‰æŠ€èƒ½çš„å½¢å¼å®ç°å­—æ•°ç»Ÿè®¡åŠŸèƒ½ï¼Œä½ éœ€è¦ä½¿ç”¨é¦–é€‰è¯­è¨€åˆ›å»ºä¸€ä¸ª Azure å‡½æ•°ã€‚</p>

<ol>
  <li>åœ¨ Visual Studio Code ä¸­ï¼ŒæŸ¥çœ‹ Azure æ‰©å±•é€‰é¡¹å¡ (<strong>&amp;boxplus;</strong>)ï¼Œå¹¶éªŒè¯ <strong>Azure Functions</strong> æ‰©å±•æ˜¯å¦å·²å®‰è£…ã€‚åˆ©ç”¨æ­¤æ‰©å±•ï¼Œä½ å¯ä»¥åœ¨ Visual Studio Code ä¸­åˆ›å»ºå’Œéƒ¨ç½² Azure Functionsã€‚</li>
  <li>
    <p>åœ¨ Azure é€‰é¡¹å¡ (<strong>Î”</strong>) ä¸Šçš„ <strong>Azure Functions</strong> çª—æ ¼ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® (ğŸ“‚)ï¼Œå¹¶æ ¹æ®é¦–é€‰è¯­è¨€è¿›è¡Œä»¥ä¸‹è®¾ç½®ï¼š</p>

    <p>### <strong>C#</strong></p>

    <ul>
      <li><strong>æ–‡ä»¶å¤¹</strong>ï¼š æµè§ˆè‡³ <strong>23-custom-search-skill/C-Sharp/wordcount</strong></li>
      <li><strong>è¯­è¨€</strong>ï¼š C#</li>
      <li><strong>æ¨¡æ¿</strong>ï¼š HTTP è§¦å‘å™¨</li>
      <li><strong>å‡½æ•°åç§°</strong>ï¼š wordcount</li>
      <li><strong>å‘½åç©ºé—´</strong>ï¼š margies.search</li>
      <li><strong>æˆæƒçº§åˆ«</strong>ï¼š å‡½æ•°</li>
    </ul>

    <p>### <strong>Python</strong></p>

    <ul>
      <li><strong>æ–‡ä»¶å¤¹</strong>ï¼š æµè§ˆè‡³ <strong>23-custom-search-skill/Python/wordcount</strong></li>
      <li><strong>è¯­è¨€</strong>ï¼š Python</li>
      <li><strong>è™šæ‹Ÿç¯å¢ƒ</strong>ï¼š è·³è¿‡è™šæ‹Ÿç¯å¢ƒ</li>
      <li><strong>æ¨¡æ¿</strong>ï¼š HTTP è§¦å‘å™¨</li>
      <li><strong>å‡½æ•°åç§°</strong>ï¼š wordcount</li>
      <li><strong>æˆæƒçº§åˆ«</strong>ï¼š å‡½æ•°</li>
    </ul>

    <p><em>å¦‚æœç³»ç»Ÿæç¤ºè¦†ç›– <strong>launch.json</strong>ï¼Œè¯·æ‰§è¡Œæ­¤æ“ä½œï¼</em></p>
  </li>
  <li>
    <p>åˆ‡æ¢å›èµ„æº<strong>ç®¡ç†å™¨</strong> (<strong>ğŸ—</strong>) é€‰é¡¹å¡ï¼ŒéªŒè¯ <strong>wordcount</strong> æ–‡ä»¶å¤¹ç°åœ¨æ˜¯å¦åŒ…å« Azure å‡½æ•°çš„ä»£ç æ–‡ä»¶ã€‚</p>

    <p><em>å¦‚æœé€‰æ‹© Pythonï¼Œä»£ç æ–‡ä»¶å¯èƒ½ä¼šåœ¨å­æ–‡ä»¶å¤¹ä¸­ï¼Œåç§°ä¹Ÿä¸º <strong>wordcount</strong></em></p>
  </li>
  <li>å‡½æ•°çš„ä¸»ä»£ç æ–‡ä»¶åº”è¯¥å·²è‡ªåŠ¨æ‰“å¼€ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·ä¸ºæ‰€é€‰è¯­è¨€æ‰“å¼€ç›¸åº”æ–‡ä»¶ï¼š
    <ul>
      <li><strong>C#</strong>ï¼š wordcount.cs</li>
      <li><strong>Python</strong>ï¼š __init__.py</li>
    </ul>
  </li>
  <li>å°†æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹æ‰€é€‰è¯­è¨€çš„ä»£ç ï¼š</li>
</ol>

<h3 id="c"><strong>C#</strong></h3>

<div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock6" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock6" class="mt-0"><code class="language-C# hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.AspNetCore.Mvc;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.Azure.WebJobs;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.Azure.WebJobs.Extensions.Http;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.AspNetCore.Http;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Newtonsoft.Json;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.Extensions.Logging;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text.RegularExpressions;
<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq;

<span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> margies.search
{
    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wordcount</span></span></span><span class="hljs-class">
    {</span></span>

        <span class="hljs-comment"><span class="hljs-comment">//å®šä¹‰å“åº”çš„ç±»</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebApiResponseError</span></span></span><span class="hljs-class">
        {</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> message { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
        }

        <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebApiResponseWarning</span></span></span><span class="hljs-class">
        {</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> message { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
        }

        <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebApiResponseRecord</span></span></span><span class="hljs-class">
        {</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> recordId { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Dictionary&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>, object&gt; data { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;WebApiResponseError&gt; errors { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;WebApiResponseWarning&gt; warnings { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
        }

        <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebApiEnricherResponse</span></span></span><span class="hljs-class">
        {</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;WebApiResponseRecord&gt; values { get; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>; }
        }

        <span class="hljs-comment"><span class="hljs-comment">//è‡ªå®šä¹‰æŠ€èƒ½çš„å‡½æ•°</span></span>
        [FunctionName(<span class="hljs-string"><span class="hljs-string">"wordcount"</span></span>)]
        <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(
            [HttpTrigger(AuthorizationLevel.Function, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"post"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Route = null)</span></span></span><span class="hljs-function">]HttpRequest req, ILogger </span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">log</span></span></span><span class="hljs-function">)
        </span></span>{
            <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>.LogInformation(<span class="hljs-string"><span class="hljs-string">"Function initiated."</span></span>);

            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> recordId = null;
            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> originalText = null;

            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> requestBody = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamReader(req.Body).ReadToEnd();
            dynamic data = JsonConvert.DeserializeObject(requestBody);

            <span class="hljs-comment"><span class="hljs-comment">// éªŒè¯</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data?.values == null)
            {
                <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BadRequestObjectResult(<span class="hljs-string"><span class="hljs-string">" Could not find values array"</span></span>);
            }
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data?.values.HasValues == <span class="hljs-literal"><span class="hljs-literal">false</span></span> || data?.values.First.HasValues == <span class="hljs-literal"><span class="hljs-literal">false</span></span>)
            {
                <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BadRequestObjectResult(<span class="hljs-string"><span class="hljs-string">"Could not find valid records in values array"</span></span>);
            }

            WebApiEnricherResponse response = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebApiEnricherResponse();
            response.values = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;WebApiResponseRecord&gt;();
            foreach (var record in data?.values)
            {
                recordId = record.recordId?.Value as <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>;
                originalText = record.data?.text?.Value as <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>;

                <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (recordId == null)
                {
                    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BadRequestObjectResult(<span class="hljs-string"><span class="hljs-string">"recordId cannot be null"</span></span>);
                }

                <span class="hljs-comment"><span class="hljs-comment">// æ±‡é›†å“åº”ã€‚</span></span>
                WebApiResponseRecord responseRecord = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebApiResponseRecord();
                responseRecord.data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>, object&gt;();
                responseRecord.recordId = recordId;
                responseRecord.data.Add(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, Count(originalText));

                response.values.Add(responseRecord);
            }

            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (ActionResult)<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OkObjectResult(response); 
        }


            <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RemoveHtmlTags</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> html)</span></span></span><span class="hljs-function">
        </span></span>{
            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> htmlRemoved = Regex.Replace(html, @<span class="hljs-string"><span class="hljs-string">"&lt;script[^&gt;]*&gt;[\s\S]*?&lt;/script&gt;|&lt;[^&gt;]+&gt;|&nbsp;"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>).Trim();
            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> normalised = Regex.Replace(htmlRemoved, @<span class="hljs-string"><span class="hljs-string">"\s{2,}"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>);
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> normalised;
        }

        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; Count(<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> text)
        {
            
            <span class="hljs-comment"><span class="hljs-comment">//åˆ é™¤ html å…ƒç´ </span></span>
            text=text.ToLowerInvariant();
            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> html = RemoveHtmlTags(text);
            
            <span class="hljs-comment"><span class="hljs-comment">//æ‹†åˆ†ä¸ºå•è¯åˆ—è¡¨</span></span>
            List&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = html.Split(<span class="hljs-string"><span class="hljs-string">" "</span></span>).ToList();
            
            <span class="hljs-comment"><span class="hljs-comment">//åˆ é™¤ä»»ä½•éå­æ¯å­—ç¬¦</span></span>
            var onlyAlphabetRegEx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Regex(@<span class="hljs-string"><span class="hljs-string">"^[A-z]+$"</span></span>);
            <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>.Where(f =&gt; onlyAlphabetRegEx.IsMatch(f)).ToList();

            <span class="hljs-comment"><span class="hljs-comment">//åˆ é™¤éç´¢å¼•å­—</span></span>
            <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>[] stopwords = { <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"i"</span></span>, <span class="hljs-string"><span class="hljs-string">"me"</span></span>, <span class="hljs-string"><span class="hljs-string">"my"</span></span>, <span class="hljs-string"><span class="hljs-string">"myself"</span></span>, <span class="hljs-string"><span class="hljs-string">"we"</span></span>, <span class="hljs-string"><span class="hljs-string">"our"</span></span>, <span class="hljs-string"><span class="hljs-string">"ours"</span></span>, <span class="hljs-string"><span class="hljs-string">"ourselves"</span></span>, <span class="hljs-string"><span class="hljs-string">"you"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"you're"</span></span>, <span class="hljs-string"><span class="hljs-string">"you've"</span></span>, <span class="hljs-string"><span class="hljs-string">"you'll"</span></span>, <span class="hljs-string"><span class="hljs-string">"you'd"</span></span>, <span class="hljs-string"><span class="hljs-string">"your"</span></span>, <span class="hljs-string"><span class="hljs-string">"yours"</span></span>, <span class="hljs-string"><span class="hljs-string">"yourself"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"yourselves"</span></span>, <span class="hljs-string"><span class="hljs-string">"he"</span></span>, <span class="hljs-string"><span class="hljs-string">"him"</span></span>, <span class="hljs-string"><span class="hljs-string">"his"</span></span>, <span class="hljs-string"><span class="hljs-string">"himself"</span></span>, <span class="hljs-string"><span class="hljs-string">"she"</span></span>, <span class="hljs-string"><span class="hljs-string">"she's"</span></span>, <span class="hljs-string"><span class="hljs-string">"her"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"hers"</span></span>, <span class="hljs-string"><span class="hljs-string">"herself"</span></span>, <span class="hljs-string"><span class="hljs-string">"it"</span></span>, <span class="hljs-string"><span class="hljs-string">"it's"</span></span>, <span class="hljs-string"><span class="hljs-string">"its"</span></span>, <span class="hljs-string"><span class="hljs-string">"itself"</span></span>, <span class="hljs-string"><span class="hljs-string">"they"</span></span>, <span class="hljs-string"><span class="hljs-string">"them"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"their"</span></span>, <span class="hljs-string"><span class="hljs-string">"theirs"</span></span>, <span class="hljs-string"><span class="hljs-string">"themselves"</span></span>, <span class="hljs-string"><span class="hljs-string">"what"</span></span>, <span class="hljs-string"><span class="hljs-string">"which"</span></span>, <span class="hljs-string"><span class="hljs-string">"who"</span></span>, <span class="hljs-string"><span class="hljs-string">"whom"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"this"</span></span>, <span class="hljs-string"><span class="hljs-string">"that"</span></span>, <span class="hljs-string"><span class="hljs-string">"that'll"</span></span>, <span class="hljs-string"><span class="hljs-string">"these"</span></span>, <span class="hljs-string"><span class="hljs-string">"those"</span></span>, <span class="hljs-string"><span class="hljs-string">"am"</span></span>, <span class="hljs-string"><span class="hljs-string">"is"</span></span>, <span class="hljs-string"><span class="hljs-string">"are"</span></span>, <span class="hljs-string"><span class="hljs-string">"was"</span></span>,
                    <span class="hljs-string"><span class="hljs-string">"were"</span></span>, <span class="hljs-string"><span class="hljs-string">"be"</span></span>, <span class="hljs-string"><span class="hljs-string">"been"</span></span>, <span class="hljs-string"><span class="hljs-string">"being"</span></span>, <span class="hljs-string"><span class="hljs-string">"have"</span></span>, <span class="hljs-string"><span class="hljs-string">"has"</span></span>, <span class="hljs-string"><span class="hljs-string">"had"</span></span>, <span class="hljs-string"><span class="hljs-string">"having"</span></span>, <span class="hljs-string"><span class="hljs-string">"do"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"does"</span></span>, <span class="hljs-string"><span class="hljs-string">"did"</span></span>, <span class="hljs-string"><span class="hljs-string">"doing"</span></span>, <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"an"</span></span>, <span class="hljs-string"><span class="hljs-string">"the"</span></span>, <span class="hljs-string"><span class="hljs-string">"and"</span></span>, <span class="hljs-string"><span class="hljs-string">"but"</span></span>, <span class="hljs-string"><span class="hljs-string">"if"</span></span>, <span class="hljs-string"><span class="hljs-string">"or"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"because"</span></span>, <span class="hljs-string"><span class="hljs-string">"as"</span></span>, <span class="hljs-string"><span class="hljs-string">"until"</span></span>, <span class="hljs-string"><span class="hljs-string">"while"</span></span>, <span class="hljs-string"><span class="hljs-string">"of"</span></span>, <span class="hljs-string"><span class="hljs-string">"at"</span></span>, <span class="hljs-string"><span class="hljs-string">"by"</span></span>, <span class="hljs-string"><span class="hljs-string">"for"</span></span>, <span class="hljs-string"><span class="hljs-string">"with"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"about"</span></span>, <span class="hljs-string"><span class="hljs-string">"against"</span></span>, <span class="hljs-string"><span class="hljs-string">"between"</span></span>, <span class="hljs-string"><span class="hljs-string">"into"</span></span>, <span class="hljs-string"><span class="hljs-string">"through"</span></span>, <span class="hljs-string"><span class="hljs-string">"during"</span></span>, <span class="hljs-string"><span class="hljs-string">"before"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"after"</span></span>, <span class="hljs-string"><span class="hljs-string">"above"</span></span>, <span class="hljs-string"><span class="hljs-string">"below"</span></span>, <span class="hljs-string"><span class="hljs-string">"to"</span></span>, <span class="hljs-string"><span class="hljs-string">"from"</span></span>, <span class="hljs-string"><span class="hljs-string">"up"</span></span>, <span class="hljs-string"><span class="hljs-string">"down"</span></span>, <span class="hljs-string"><span class="hljs-string">"in"</span></span>, <span class="hljs-string"><span class="hljs-string">"out"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"on"</span></span>, <span class="hljs-string"><span class="hljs-string">"off"</span></span>, <span class="hljs-string"><span class="hljs-string">"over"</span></span>, <span class="hljs-string"><span class="hljs-string">"under"</span></span>, <span class="hljs-string"><span class="hljs-string">"again"</span></span>, <span class="hljs-string"><span class="hljs-string">"further"</span></span>, <span class="hljs-string"><span class="hljs-string">"then"</span></span>, <span class="hljs-string"><span class="hljs-string">"once"</span></span>, <span class="hljs-string"><span class="hljs-string">"here"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"there"</span></span>, <span class="hljs-string"><span class="hljs-string">"when"</span></span>, <span class="hljs-string"><span class="hljs-string">"where"</span></span>, <span class="hljs-string"><span class="hljs-string">"why"</span></span>, <span class="hljs-string"><span class="hljs-string">"how"</span></span>, <span class="hljs-string"><span class="hljs-string">"all"</span></span>, <span class="hljs-string"><span class="hljs-string">"any"</span></span>, <span class="hljs-string"><span class="hljs-string">"both"</span></span>, <span class="hljs-string"><span class="hljs-string">"each"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"few"</span></span>, <span class="hljs-string"><span class="hljs-string">"more"</span></span>, <span class="hljs-string"><span class="hljs-string">"most"</span></span>, <span class="hljs-string"><span class="hljs-string">"other"</span></span>, <span class="hljs-string"><span class="hljs-string">"some"</span></span>, <span class="hljs-string"><span class="hljs-string">"such"</span></span>, <span class="hljs-string"><span class="hljs-string">"no"</span></span>, <span class="hljs-string"><span class="hljs-string">"nor"</span></span>, <span class="hljs-string"><span class="hljs-string">"not"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"only"</span></span>, <span class="hljs-string"><span class="hljs-string">"own"</span></span>, <span class="hljs-string"><span class="hljs-string">"same"</span></span>, <span class="hljs-string"><span class="hljs-string">"so"</span></span>, <span class="hljs-string"><span class="hljs-string">"than"</span></span>, <span class="hljs-string"><span class="hljs-string">"too"</span></span>, <span class="hljs-string"><span class="hljs-string">"very"</span></span>, <span class="hljs-string"><span class="hljs-string">"s"</span></span>, <span class="hljs-string"><span class="hljs-string">"t"</span></span>, <span class="hljs-string"><span class="hljs-string">"can"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"will"</span></span>, <span class="hljs-string"><span class="hljs-string">"just"</span></span>, <span class="hljs-string"><span class="hljs-string">"don"</span></span>, <span class="hljs-string"><span class="hljs-string">"don't"</span></span>, <span class="hljs-string"><span class="hljs-string">"should"</span></span>, <span class="hljs-string"><span class="hljs-string">"should've"</span></span>, <span class="hljs-string"><span class="hljs-string">"now"</span></span>, <span class="hljs-string"><span class="hljs-string">"d"</span></span>, <span class="hljs-string"><span class="hljs-string">"ll"</span></span>,
                    <span class="hljs-string"><span class="hljs-string">"m"</span></span>, <span class="hljs-string"><span class="hljs-string">"o"</span></span>, <span class="hljs-string"><span class="hljs-string">"re"</span></span>, <span class="hljs-string"><span class="hljs-string">"ve"</span></span>, <span class="hljs-string"><span class="hljs-string">"y"</span></span>, <span class="hljs-string"><span class="hljs-string">"ain"</span></span>, <span class="hljs-string"><span class="hljs-string">"aren"</span></span>, <span class="hljs-string"><span class="hljs-string">"aren't"</span></span>, <span class="hljs-string"><span class="hljs-string">"couldn"</span></span>, <span class="hljs-string"><span class="hljs-string">"couldn't"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"didn"</span></span>, <span class="hljs-string"><span class="hljs-string">"didn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"doesn"</span></span>, <span class="hljs-string"><span class="hljs-string">"doesn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"hadn"</span></span>, <span class="hljs-string"><span class="hljs-string">"hadn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"hasn"</span></span>, <span class="hljs-string"><span class="hljs-string">"hasn't"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"haven"</span></span>, <span class="hljs-string"><span class="hljs-string">"haven't"</span></span>, <span class="hljs-string"><span class="hljs-string">"isn"</span></span>, <span class="hljs-string"><span class="hljs-string">"isn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"ma"</span></span>, <span class="hljs-string"><span class="hljs-string">"mightn"</span></span>, <span class="hljs-string"><span class="hljs-string">"mightn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"mustn"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"mustn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"needn"</span></span>, <span class="hljs-string"><span class="hljs-string">"needn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"shan"</span></span>, <span class="hljs-string"><span class="hljs-string">"shan't"</span></span>, <span class="hljs-string"><span class="hljs-string">"shouldn"</span></span>, <span class="hljs-string"><span class="hljs-string">"shouldn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"wasn"</span></span>, 
                    <span class="hljs-string"><span class="hljs-string">"wasn't"</span></span>, <span class="hljs-string"><span class="hljs-string">"weren"</span></span>, <span class="hljs-string"><span class="hljs-string">"weren't"</span></span>, <span class="hljs-string"><span class="hljs-string">"won"</span></span>, <span class="hljs-string"><span class="hljs-string">"won't"</span></span>, <span class="hljs-string"><span class="hljs-string">"wouldn"</span></span>, <span class="hljs-string"><span class="hljs-string">"wouldn't"</span></span>}; 
            <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>.Where(x =&gt; x.Length &gt; <span class="hljs-number"><span class="hljs-number">2</span></span>).Where(x =&gt; !stopwords.Contains(x)).ToList();
            
            <span class="hljs-comment"><span class="hljs-comment">//æŒ‰é”®å’Œè®¡æ•°è·å–ä¸åŒå•è¯ï¼Œç„¶åæŒ‰è®¡æ•°æ’åº</span></span>
            var keywords = <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>.GroupBy(x =&gt; x).OrderByDescending(x =&gt; x.Count());
            var klist = keywords.ToList();

            <span class="hljs-comment"><span class="hljs-comment">// è¿”å›å‰ 10 ä¸ªå•è¯</span></span>
            var numofWords = <span class="hljs-number"><span class="hljs-number">10</span></span>;
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(klist.Count&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>)
                numofWords=klist.Count;
            List&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; resList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt;();
            <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; numofWords; i++)
            {
                resList.Add(klist[i].Key);
            }
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> resList;
        }
    }
}
</code></pre>

<h2 id="python"><strong>Python</strong></h2>

<div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock7" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock7" class="mt-0"><code class="language-Python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> logging
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> punctuation
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> collections <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Counter
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> azure.functions <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> func


<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req: func.HttpRequest)</span></span></span><span class="hljs-function"> -&gt; func.HttpResponse:</span></span>
    logging.info(<span class="hljs-string"><span class="hljs-string">'Wordcount function initiated.'</span></span>)

    <span class="hljs-comment"><span class="hljs-comment"># ç»“æœå°†ä¸ºâ€œvaluesâ€å£è¢‹</span></span>
    result = {
        <span class="hljs-string"><span class="hljs-string">"values"</span></span>: []
    }
    statuscode = <span class="hljs-number"><span class="hljs-number">200</span></span>

    <span class="hljs-comment"><span class="hljs-comment"># æˆ‘ä»¬å°†åœ¨å•è¯è®¡æ•°ä¸­æ’é™¤æ­¤åˆ—è¡¨ä¸­çš„å•è¯</span></span>
    stopwords = [<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'i'</span></span>, <span class="hljs-string"><span class="hljs-string">'me'</span></span>, <span class="hljs-string"><span class="hljs-string">'my'</span></span>, <span class="hljs-string"><span class="hljs-string">'myself'</span></span>, <span class="hljs-string"><span class="hljs-string">'we'</span></span>, <span class="hljs-string"><span class="hljs-string">'our'</span></span>, <span class="hljs-string"><span class="hljs-string">'ours'</span></span>, <span class="hljs-string"><span class="hljs-string">'ourselves'</span></span>, <span class="hljs-string"><span class="hljs-string">'you'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">"you're"</span></span>, <span class="hljs-string"><span class="hljs-string">"you've"</span></span>, <span class="hljs-string"><span class="hljs-string">"you'll"</span></span>, <span class="hljs-string"><span class="hljs-string">"you'd"</span></span>, <span class="hljs-string"><span class="hljs-string">'your'</span></span>, <span class="hljs-string"><span class="hljs-string">'yours'</span></span>, <span class="hljs-string"><span class="hljs-string">'yourself'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'yourselves'</span></span>, <span class="hljs-string"><span class="hljs-string">'he'</span></span>, <span class="hljs-string"><span class="hljs-string">'him'</span></span>, <span class="hljs-string"><span class="hljs-string">'his'</span></span>, <span class="hljs-string"><span class="hljs-string">'himself'</span></span>, <span class="hljs-string"><span class="hljs-string">'she'</span></span>, <span class="hljs-string"><span class="hljs-string">"she's"</span></span>, <span class="hljs-string"><span class="hljs-string">'her'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'hers'</span></span>, <span class="hljs-string"><span class="hljs-string">'herself'</span></span>, <span class="hljs-string"><span class="hljs-string">'it'</span></span>, <span class="hljs-string"><span class="hljs-string">"it's"</span></span>, <span class="hljs-string"><span class="hljs-string">'its'</span></span>, <span class="hljs-string"><span class="hljs-string">'itself'</span></span>, <span class="hljs-string"><span class="hljs-string">'they'</span></span>, <span class="hljs-string"><span class="hljs-string">'them'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'their'</span></span>, <span class="hljs-string"><span class="hljs-string">'theirs'</span></span>, <span class="hljs-string"><span class="hljs-string">'themselves'</span></span>, <span class="hljs-string"><span class="hljs-string">'what'</span></span>, <span class="hljs-string"><span class="hljs-string">'which'</span></span>, <span class="hljs-string"><span class="hljs-string">'who'</span></span>, <span class="hljs-string"><span class="hljs-string">'whom'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'this'</span></span>, <span class="hljs-string"><span class="hljs-string">'that'</span></span>, <span class="hljs-string"><span class="hljs-string">"that'll"</span></span>, <span class="hljs-string"><span class="hljs-string">'these'</span></span>, <span class="hljs-string"><span class="hljs-string">'those'</span></span>, <span class="hljs-string"><span class="hljs-string">'am'</span></span>, <span class="hljs-string"><span class="hljs-string">'is'</span></span>, <span class="hljs-string"><span class="hljs-string">'are'</span></span>, <span class="hljs-string"><span class="hljs-string">'was'</span></span>,
                <span class="hljs-string"><span class="hljs-string">'were'</span></span>, <span class="hljs-string"><span class="hljs-string">'be'</span></span>, <span class="hljs-string"><span class="hljs-string">'been'</span></span>, <span class="hljs-string"><span class="hljs-string">'being'</span></span>, <span class="hljs-string"><span class="hljs-string">'have'</span></span>, <span class="hljs-string"><span class="hljs-string">'has'</span></span>, <span class="hljs-string"><span class="hljs-string">'had'</span></span>, <span class="hljs-string"><span class="hljs-string">'having'</span></span>, <span class="hljs-string"><span class="hljs-string">'do'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'does'</span></span>, <span class="hljs-string"><span class="hljs-string">'did'</span></span>, <span class="hljs-string"><span class="hljs-string">'doing'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'an'</span></span>, <span class="hljs-string"><span class="hljs-string">'the'</span></span>, <span class="hljs-string"><span class="hljs-string">'and'</span></span>, <span class="hljs-string"><span class="hljs-string">'but'</span></span>, <span class="hljs-string"><span class="hljs-string">'if'</span></span>, <span class="hljs-string"><span class="hljs-string">'or'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'because'</span></span>, <span class="hljs-string"><span class="hljs-string">'as'</span></span>, <span class="hljs-string"><span class="hljs-string">'until'</span></span>, <span class="hljs-string"><span class="hljs-string">'while'</span></span>, <span class="hljs-string"><span class="hljs-string">'of'</span></span>, <span class="hljs-string"><span class="hljs-string">'at'</span></span>, <span class="hljs-string"><span class="hljs-string">'by'</span></span>, <span class="hljs-string"><span class="hljs-string">'for'</span></span>, <span class="hljs-string"><span class="hljs-string">'with'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'about'</span></span>, <span class="hljs-string"><span class="hljs-string">'against'</span></span>, <span class="hljs-string"><span class="hljs-string">'between'</span></span>, <span class="hljs-string"><span class="hljs-string">'into'</span></span>, <span class="hljs-string"><span class="hljs-string">'through'</span></span>, <span class="hljs-string"><span class="hljs-string">'during'</span></span>, <span class="hljs-string"><span class="hljs-string">'before'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'after'</span></span>, <span class="hljs-string"><span class="hljs-string">'above'</span></span>, <span class="hljs-string"><span class="hljs-string">'below'</span></span>, <span class="hljs-string"><span class="hljs-string">'to'</span></span>, <span class="hljs-string"><span class="hljs-string">'from'</span></span>, <span class="hljs-string"><span class="hljs-string">'up'</span></span>, <span class="hljs-string"><span class="hljs-string">'down'</span></span>, <span class="hljs-string"><span class="hljs-string">'in'</span></span>, <span class="hljs-string"><span class="hljs-string">'out'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'on'</span></span>, <span class="hljs-string"><span class="hljs-string">'off'</span></span>, <span class="hljs-string"><span class="hljs-string">'over'</span></span>, <span class="hljs-string"><span class="hljs-string">'under'</span></span>, <span class="hljs-string"><span class="hljs-string">'again'</span></span>, <span class="hljs-string"><span class="hljs-string">'further'</span></span>, <span class="hljs-string"><span class="hljs-string">'then'</span></span>, <span class="hljs-string"><span class="hljs-string">'once'</span></span>, <span class="hljs-string"><span class="hljs-string">'here'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'there'</span></span>, <span class="hljs-string"><span class="hljs-string">'when'</span></span>, <span class="hljs-string"><span class="hljs-string">'where'</span></span>, <span class="hljs-string"><span class="hljs-string">'why'</span></span>, <span class="hljs-string"><span class="hljs-string">'how'</span></span>, <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-string"><span class="hljs-string">'any'</span></span>, <span class="hljs-string"><span class="hljs-string">'both'</span></span>, <span class="hljs-string"><span class="hljs-string">'each'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'few'</span></span>, <span class="hljs-string"><span class="hljs-string">'more'</span></span>, <span class="hljs-string"><span class="hljs-string">'most'</span></span>, <span class="hljs-string"><span class="hljs-string">'other'</span></span>, <span class="hljs-string"><span class="hljs-string">'some'</span></span>, <span class="hljs-string"><span class="hljs-string">'such'</span></span>, <span class="hljs-string"><span class="hljs-string">'no'</span></span>, <span class="hljs-string"><span class="hljs-string">'nor'</span></span>, <span class="hljs-string"><span class="hljs-string">'not'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'only'</span></span>, <span class="hljs-string"><span class="hljs-string">'own'</span></span>, <span class="hljs-string"><span class="hljs-string">'same'</span></span>, <span class="hljs-string"><span class="hljs-string">'so'</span></span>, <span class="hljs-string"><span class="hljs-string">'than'</span></span>, <span class="hljs-string"><span class="hljs-string">'too'</span></span>, <span class="hljs-string"><span class="hljs-string">'very'</span></span>, <span class="hljs-string"><span class="hljs-string">'s'</span></span>, <span class="hljs-string"><span class="hljs-string">'t'</span></span>, <span class="hljs-string"><span class="hljs-string">'can'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'will'</span></span>, <span class="hljs-string"><span class="hljs-string">'just'</span></span>, <span class="hljs-string"><span class="hljs-string">'don'</span></span>, <span class="hljs-string"><span class="hljs-string">"don't"</span></span>, <span class="hljs-string"><span class="hljs-string">'should'</span></span>, <span class="hljs-string"><span class="hljs-string">"should've"</span></span>, <span class="hljs-string"><span class="hljs-string">'now'</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>, <span class="hljs-string"><span class="hljs-string">'ll'</span></span>,
                <span class="hljs-string"><span class="hljs-string">'m'</span></span>, <span class="hljs-string"><span class="hljs-string">'o'</span></span>, <span class="hljs-string"><span class="hljs-string">'re'</span></span>, <span class="hljs-string"><span class="hljs-string">'ve'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>, <span class="hljs-string"><span class="hljs-string">'ain'</span></span>, <span class="hljs-string"><span class="hljs-string">'aren'</span></span>, <span class="hljs-string"><span class="hljs-string">"aren't"</span></span>, <span class="hljs-string"><span class="hljs-string">'couldn'</span></span>, <span class="hljs-string"><span class="hljs-string">"couldn't"</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'didn'</span></span>, <span class="hljs-string"><span class="hljs-string">"didn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'doesn'</span></span>, <span class="hljs-string"><span class="hljs-string">"doesn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'hadn'</span></span>, <span class="hljs-string"><span class="hljs-string">"hadn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'hasn'</span></span>, <span class="hljs-string"><span class="hljs-string">"hasn't"</span></span>, 
                <span class="hljs-string"><span class="hljs-string">'haven'</span></span>, <span class="hljs-string"><span class="hljs-string">"haven't"</span></span>, <span class="hljs-string"><span class="hljs-string">'isn'</span></span>, <span class="hljs-string"><span class="hljs-string">"isn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'ma'</span></span>, <span class="hljs-string"><span class="hljs-string">'mightn'</span></span>, <span class="hljs-string"><span class="hljs-string">"mightn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'mustn'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">"mustn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'needn'</span></span>, <span class="hljs-string"><span class="hljs-string">"needn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'shan'</span></span>, <span class="hljs-string"><span class="hljs-string">"shan't"</span></span>, <span class="hljs-string"><span class="hljs-string">'shouldn'</span></span>, <span class="hljs-string"><span class="hljs-string">"shouldn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'wasn'</span></span>, 
                <span class="hljs-string"><span class="hljs-string">"wasn't"</span></span>, <span class="hljs-string"><span class="hljs-string">'weren'</span></span>, <span class="hljs-string"><span class="hljs-string">"weren't"</span></span>, <span class="hljs-string"><span class="hljs-string">'won'</span></span>, <span class="hljs-string"><span class="hljs-string">"won't"</span></span>, <span class="hljs-string"><span class="hljs-string">'wouldn'</span></span>, <span class="hljs-string"><span class="hljs-string">"wouldn't"</span></span>]

    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:
        values = req.get_json().get(<span class="hljs-string"><span class="hljs-string">'values'</span></span>)
        logging.info(values)

        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rec <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> values:
            <span class="hljs-comment"><span class="hljs-comment"># æ„é€ æ­¤è®°å½•çš„åŸºæœ¬ JSON å“åº”</span></span>
            val = {
                    <span class="hljs-string"><span class="hljs-string">"recordId"</span></span>: rec[<span class="hljs-string"><span class="hljs-string">'recordId'</span></span>],
                    <span class="hljs-string"><span class="hljs-string">"data"</span></span>: {
                        <span class="hljs-string"><span class="hljs-string">"text"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>
                    },
                    <span class="hljs-string"><span class="hljs-string">"errors"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>,
                    <span class="hljs-string"><span class="hljs-string">"warnings"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>
                }
            <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:
                <span class="hljs-comment"><span class="hljs-comment"># ä»è¾“å…¥è®°å½•ä¸­è·å–è¦å¤„ç†çš„æ–‡æœ¬</span></span>
                txt = rec[<span class="hljs-string"><span class="hljs-string">'data'</span></span>][<span class="hljs-string"><span class="hljs-string">'text'</span></span>]
                <span class="hljs-comment"><span class="hljs-comment"># åˆ é™¤æ•°å­—</span></span>
                txt = <span class="hljs-string"><span class="hljs-string">''</span></span>.join(c <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> txt <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> c.isdigit())
                <span class="hljs-comment"><span class="hljs-comment"># åˆ é™¤æ ‡ç‚¹å¹¶æ”¹ä¸ºå°å†™</span></span>
                txt = <span class="hljs-string"><span class="hljs-string">''</span></span>.join(c <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> txt <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> punctuation).lower()
                <span class="hljs-comment"><span class="hljs-comment"># åˆ é™¤éç´¢å¼•å­—</span></span>
                txt = <span class="hljs-string"><span class="hljs-string">' '</span></span>.join(w <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> txt.split() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> stopwords)
                <span class="hljs-comment"><span class="hljs-comment"># è®¡ç®—å•è¯æ•°é‡å¹¶è·å–æœ€å¸¸è§çš„ 10 ä¸ªå•è¯</span></span>
                wordcount = Counter(txt.split()).most_common(<span class="hljs-number"><span class="hljs-number">10</span></span>)
                words = [w[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> wordcount]
                <span class="hljs-comment"><span class="hljs-comment"># å°†æœ€å¸¸è§çš„ 10 ä¸ªå•è¯æ·»åŠ åˆ°æ­¤æ–‡æœ¬è®°å½•çš„è¾“å‡ºä¸­</span></span>
                val[<span class="hljs-string"><span class="hljs-string">"data"</span></span>][<span class="hljs-string"><span class="hljs-string">"text"</span></span>] = words
            <span class="hljs-keyword"><span class="hljs-keyword">except</span></span>:
                <span class="hljs-comment"><span class="hljs-comment"># è¿™æ¡æ–‡æœ¬è®°å½•å‘ç”Ÿäº†é”™è¯¯ï¼Œå› æ­¤è¯·æ·»åŠ é”™è¯¯å’Œè­¦å‘Šåˆ—è¡¨</span></span>
                val[<span class="hljs-string"><span class="hljs-string">"errors"</span></span>] =[{<span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"å¤„ç†æ–‡æœ¬æ—¶å‘ç”Ÿäº†é”™è¯¯ã€‚"</span></span>}]
                val[<span class="hljs-string"><span class="hljs-string">"warnings"</span></span>] = [{<span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥æ— æ³•å¤„ç†ã€‚"</span></span>}]
            <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>:
                <span class="hljs-comment"><span class="hljs-comment"># å°†æ­¤è®°å½•çš„å€¼æ·»åŠ åˆ°å“åº”</span></span>
                result[<span class="hljs-string"><span class="hljs-string">"values"</span></span>].append(val)
    <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ex:
        statuscode = <span class="hljs-number"><span class="hljs-number">500</span></span>
        <span class="hljs-comment"><span class="hljs-comment"># å‘ç”Ÿäº†å…¨å±€é”™è¯¯ï¼Œå› æ­¤è¿”å›é”™è¯¯å“åº”</span></span>
        val = {
                <span class="hljs-string"><span class="hljs-string">"recordId"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>,
                <span class="hljs-string"><span class="hljs-string">"data"</span></span>: {
                    <span class="hljs-string"><span class="hljs-string">"text"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>
                },
                <span class="hljs-string"><span class="hljs-string">"errors"</span></span>: [{<span class="hljs-string"><span class="hljs-string">"message"</span></span>: ex.args}],
                <span class="hljs-string"><span class="hljs-string">"warnings"</span></span>: [{<span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"The request failed to process."</span></span>}]
            }
        result[<span class="hljs-string"><span class="hljs-string">"values"</span></span>].append(val)
    <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>:
        <span class="hljs-comment"><span class="hljs-comment"># è¿”å›å“åº”</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> func.HttpResponse(body=json.dumps(result), mimetype=<span class="hljs-string"><span class="hljs-string">"application/json"</span></span>, status_code=statuscode)
</code></pre>

<ol>
  <li>ä¿å­˜æ›´æ–°çš„æ–‡ä»¶ã€‚</li>
  <li>
    <p>å³é”®å•å‡»åŒ…å«ä»£ç æ–‡ä»¶çš„ <strong>wordcount</strong> æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© <strong>â€œéƒ¨ç½²åˆ°å‡½æ•°åº”ç”¨â€</strong>ã€‚ç„¶åä½¿ç”¨ä»¥ä¸‹ç‰¹å®šäºè¯­è¨€çš„è®¾ç½®éƒ¨ç½²è¯¥å‡½æ•°ï¼ˆå¦‚æœ‰æç¤ºï¼Œè¯·ç™»å½• Azureï¼‰ï¼š</p>

    <p>### <strong>C#</strong></p>

    <ul>
      <li><strong>è®¢é˜…</strong> ï¼ˆå¦‚æœ‰æç¤ºï¼‰ï¼šé€‰æ‹© Azure è®¢é˜…ã€‚</li>
      <li><strong>å‡½æ•°</strong>ï¼š åœ¨ Azure ä¸­æ–°å»ºå‡½æ•°åº”ç”¨ï¼ˆé«˜çº§ï¼‰</li>
      <li><strong>å‡½æ•°åº”ç”¨åç§°</strong>ï¼š è¾“å…¥å…¨å±€å”¯ä¸€åç§°ã€‚</li>
      <li><strong>è¿è¡Œæ—¶</strong>ï¼š .NET Core 3.1</li>
      <li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼š Linux</li>
      <li><strong>æ‰˜ç®¡è®¡åˆ’</strong>ï¼š ä½¿ç”¨</li>
      <li><strong>èµ„æºç»„</strong>ï¼š åŒ…å« Azure è®¤çŸ¥æœç´¢èµ„æºçš„èµ„æºç»„ã€‚
        <ul>
          <li>å¤‡æ³¨ï¼šå¦‚æœæ­¤èµ„æºç»„å·²ç»åŒ…å«ä¸€ä¸ªåŸºäº Windows çš„ Web åº”ç”¨ï¼Œä½ å°†æ— æ³•åœ¨å…¶ä¸­éƒ¨ç½²ä¸€ä¸ªåŸºäº Linux çš„å‡½æ•°ã€‚è¦ä¹ˆåˆ é™¤ç°æœ‰ Web åº”ç”¨ï¼Œè¦ä¹ˆå°†è¯¥å‡½æ•°éƒ¨ç½²åˆ°å…¶ä»–èµ„æºç»„ã€‚</li>
        </ul>
      </li>
      <li><strong>å­˜å‚¨å¸æˆ·</strong>ï¼š å­˜å‚¨ Margieâ€™s Travel æ–‡æ¡£çš„å­˜å‚¨å¸æˆ·ã€‚</li>
      <li><strong>Application Insights</strong>ï¼š æš‚æ—¶è·³è¿‡</li>
    </ul>

    <p><em>Visual Studio Code å°†æ ¹æ®åˆ›å»ºå‡½æ•°é¡¹ç›®æ—¶ä¿å­˜çš„ <strong>.vscode</strong> æ–‡ä»¶å¤¹ä¸­çš„é…ç½®è®¾ç½®ï¼Œï¼ˆåœ¨ <strong>bin</strong> å­æ–‡ä»¶å¤¹ä¸­ï¼‰éƒ¨ç½²å‡½æ•°çš„ç¼–è¯‘ç‰ˆæœ¬ã€‚</em></p>

    <p>### <strong>Python</strong></p>

    <ul>
      <li><strong>è®¢é˜…</strong> ï¼ˆå¦‚æœ‰æç¤ºï¼‰ï¼šé€‰æ‹© Azure è®¢é˜…ã€‚</li>
      <li><strong>å‡½æ•°</strong>ï¼š åœ¨ Azure ä¸­æ–°å»ºå‡½æ•°åº”ç”¨ï¼ˆé«˜çº§ï¼‰</li>
      <li><strong>å‡½æ•°åº”ç”¨åç§°</strong>ï¼š è¾“å…¥å…¨å±€å”¯ä¸€åç§°ã€‚</li>
      <li><strong>è¿è¡Œæ—¶</strong>ï¼š Python 3.8</li>
      <li><strong>æ‰˜ç®¡è®¡åˆ’</strong>ï¼š ä½¿ç”¨</li>
      <li><strong>èµ„æºç»„</strong>ï¼š åŒ…å« Azure è®¤çŸ¥æœç´¢èµ„æºçš„èµ„æºç»„ã€‚
        <ul>
          <li>å¤‡æ³¨ï¼šå¦‚æœæ­¤èµ„æºç»„å·²ç»åŒ…å«ä¸€ä¸ªåŸºäº Windows çš„ Web åº”ç”¨ï¼Œä½ å°†æ— æ³•åœ¨å…¶ä¸­éƒ¨ç½²ä¸€ä¸ªåŸºäº Linux çš„å‡½æ•°ã€‚è¦ä¹ˆåˆ é™¤ç°æœ‰ Web åº”ç”¨ï¼Œè¦ä¹ˆå°†è¯¥å‡½æ•°éƒ¨ç½²åˆ°å…¶ä»–èµ„æºç»„ã€‚</li>
        </ul>
      </li>
      <li><strong>å­˜å‚¨å¸æˆ·</strong>ï¼š å­˜å‚¨ Margieâ€™s Travel æ–‡æ¡£çš„å­˜å‚¨å¸æˆ·ã€‚</li>
      <li><strong>Application Insights</strong>ï¼š æš‚æ—¶è·³è¿‡</li>
    </ul>
  </li>
  <li>ç­‰å¾… Visual Studio Code éƒ¨ç½²å‡½æ•°ã€‚éƒ¨ç½²å®Œæˆåï¼Œå°†æ˜¾ç¤ºä¸€æ¡é€šçŸ¥ã€‚</li>
</ol>

<h2 id="æµ‹è¯•å‡½æ•°">æµ‹è¯•å‡½æ•°</h2>

<p>å°†å‡½æ•°éƒ¨ç½²åˆ° Azure åï¼Œå³å¯åœ¨ Azure é—¨æˆ·ä¸­è¿›è¡Œæµ‹è¯•ã€‚</p>

<ol>
  <li>æ‰“å¼€ <a href="https://portal.azure.com">Azure é—¨æˆ·</a>ï¼Œæµè§ˆåˆ°åœ¨å…¶ä¸­åˆ›å»ºå‡½æ•°åº”ç”¨çš„èµ„æºç»„ã€‚ç„¶åæ‰“å¼€å‡½æ•°åº”ç”¨çš„åº”ç”¨æœåŠ¡ã€‚</li>
  <li>åœ¨åº”ç”¨æœåŠ¡çš„è¾¹æ é€‰é¡¹å¡çš„ <strong>â€œå‡½æ•°â€</strong> é¡µé¢ä¸Šï¼Œæ‰“å¼€ <strong>wordcount</strong> å‡½æ•°ã€‚</li>
  <li>åœ¨ <strong>wordcount</strong> å‡½æ•°è¾¹æ é€‰é¡¹å¡ä¸Šï¼ŒæŸ¥çœ‹ <strong>â€œä»£ç  + æµ‹è¯•â€</strong> é¡µé¢å¹¶æ‰“å¼€ <strong>â€œæµ‹è¯•/è¿è¡Œâ€</strong> çª—æ ¼ã€‚</li>
  <li>
    <p>åœ¨ <strong>â€œæµ‹è¯•/è¿è¡Œâ€</strong> çª—æ ¼ä¸­ï¼Œå°†ç°æœ‰çš„æ­£æ–‡æ›¿æ¢ä¸ºä»¥ä¸‹ <strong>Body</strong>ï¼Œè¯¥ JSON åæ˜ äº† Azure è®¤çŸ¥æœç´¢æŠ€èƒ½æœŸæœ›çš„æ¨¡å¼ï¼Œå³æäº¤åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£æ•°æ®çš„è®°å½•è¿›è¡Œå¤„ç†ï¼š</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock8" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock8" class="mt-0"><code class="hljs json"> {
     <span class="hljs-attr"><span class="hljs-attr">"values"</span></span>: [
         {
             <span class="hljs-attr"><span class="hljs-attr">"recordId"</span></span>: <span class="hljs-string"><span class="hljs-string">"a1"</span></span>,
             <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>:
             {
             <span class="hljs-attr"><span class="hljs-attr">"text"</span></span>:  <span class="hljs-string"><span class="hljs-string">"Tiger, tiger burning bright in the darkness of the night."</span></span>,
             <span class="hljs-attr"><span class="hljs-attr">"language"</span></span>: <span class="hljs-string"><span class="hljs-string">"en"</span></span>
             }
         },
         {
             <span class="hljs-attr"><span class="hljs-attr">"recordId"</span></span>: <span class="hljs-string"><span class="hljs-string">"a2"</span></span>,
             <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>:
             {
             <span class="hljs-attr"><span class="hljs-attr">"text"</span></span>:  <span class="hljs-string"><span class="hljs-string">"The rain in spain stays mainly in the plains! That's where you'll find the rain!"</span></span>,
             <span class="hljs-attr"><span class="hljs-attr">"language"</span></span>: <span class="hljs-string"><span class="hljs-string">"en"</span></span>
             }
         }
     ]
 }
</code></pre>
  </li>
  <li>
    <p>å•å‡» <strong>â€œè¿è¡Œâ€</strong> å¹¶æŸ¥çœ‹å‡½æ•°è¿”å›çš„ HTTP å“åº”å†…å®¹ã€‚è¿™åæ˜ äº† Azure è®¤çŸ¥æœç´¢åœ¨ä½¿ç”¨æŠ€èƒ½æ—¶æœŸæœ›çš„æ¨¡å¼ï¼Œå³è¿”å›æ¯ä¸ªæ–‡æ¡£çš„å“åº”ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå“åº”æœ€å¤šåŒ…å«å„æ–‡æ¡£ä¸­çš„ 10 ä¸ªæœ¯è¯­ï¼Œå¹¶æŒ‰å…¶å‡ºç°é¢‘ç‡é™åºæ’åˆ—ï¼š</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock9" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock9" class="mt-0"><code class="hljs json"> {
 <span class="hljs-attr"><span class="hljs-attr">"values"</span></span>: [
     {
     <span class="hljs-attr"><span class="hljs-attr">"recordId"</span></span>: <span class="hljs-string"><span class="hljs-string">"a1"</span></span>,
     <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>: {
         <span class="hljs-attr"><span class="hljs-attr">"text"</span></span>: [
         <span class="hljs-string"><span class="hljs-string">"tiger"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"burning"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"bright"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"darkness"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"night"</span></span>
         ]
     },
     <span class="hljs-attr"><span class="hljs-attr">"errors"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>,
     <span class="hljs-attr"><span class="hljs-attr">"warnings"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>
     },
     {
     <span class="hljs-attr"><span class="hljs-attr">"recordId"</span></span>: <span class="hljs-string"><span class="hljs-string">"a2"</span></span>,
     <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>: {
         <span class="hljs-attr"><span class="hljs-attr">"text"</span></span>: [
         <span class="hljs-string"><span class="hljs-string">"rain"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"spain"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"stays"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"mainly"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"plains"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"thats"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"youll"</span></span>,
         <span class="hljs-string"><span class="hljs-string">"find"</span></span>
         ]
     },
     <span class="hljs-attr"><span class="hljs-attr">"errors"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>,
     <span class="hljs-attr"><span class="hljs-attr">"warnings"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>
     }
 ]
 }
</code></pre>
  </li>
  <li>å…³é—­ <strong>â€œæµ‹è¯•/è¿è¡Œâ€</strong> çª—æ ¼ï¼Œåœ¨ <strong>wordcount</strong> å‡½æ•°è¾¹æ é€‰é¡¹å¡ä¸­ï¼Œå•å‡» <strong>â€œè·å–å‡½æ•° URLâ€</strong>ã€‚ç„¶åå°†é»˜è®¤é”®çš„ URL å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚ä¸‹ä¸€è¿‡ç¨‹å°†éœ€è¦æ­¤ URLã€‚</li>
</ol>

<h2 id="å°†è‡ªå®šä¹‰æŠ€èƒ½æ·»åŠ åˆ°æœç´¢è§£å†³æ–¹æ¡ˆ">å°†è‡ªå®šä¹‰æŠ€èƒ½æ·»åŠ åˆ°æœç´¢è§£å†³æ–¹æ¡ˆ</h2>

<p>ç°åœ¨éœ€è¦å°†å‡½æ•°ä½œä¸ºè‡ªå®šä¹‰æŠ€èƒ½åŒ…å«åœ¨æœç´¢è§£å†³æ–¹æ¡ˆæŠ€èƒ½ç»„ä¸­ï¼Œå¹¶å°†å…¶ç”Ÿæˆçš„ç»“æœæ˜ å°„åˆ°ç´¢å¼•ä¸­çš„å­—æ®µã€‚</p>

<ol>
  <li>åœ¨ Visual Studio Code çš„ <strong>23-custom-search-skill/update-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>update-skillset.json</strong> æ–‡ä»¶ã€‚è¿™åŒ…å«æŠ€èƒ½ç»„çš„ JSON å®šä¹‰ã€‚</li>
  <li>æŸ¥çœ‹æŠ€èƒ½ç»„å®šä¹‰ã€‚å®ƒåŒ…æ‹¬ä¸ä¹‹å‰ç›¸åŒçš„æŠ€èƒ½ï¼Œä»¥åŠä¸€ä¸ªåä¸º <strong>get-top-words</strong> çš„æ–° <strong>WebApiSkill</strong> æŠ€èƒ½ã€‚</li>
  <li>ç¼–è¾‘ <strong>get-top-words</strong> æŠ€èƒ½å®šä¹‰ï¼Œå°† <strong>uri</strong> å€¼è®¾ç½®ä¸º Azure å‡½æ•°çš„ URLï¼ˆåœ¨ä¹‹å‰çš„è¿‡ç¨‹ä¸­å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼‰ï¼Œä»è€Œæ›¿æ¢ <strong>YOUR-FUNCTION-APP-URL</strong>ã€‚</li>
  <li>
    <p>åœ¨æŠ€èƒ½ç»„å®šä¹‰é¡¶éƒ¨çš„ <strong>cognitiveServices</strong> å…ƒç´ ä¸­ï¼Œå°† <strong>YOUR_COGNITIVE_SERVICES_KEY</strong>å ä½ç¬¦æ›¿æ¢ä¸ºè®¤çŸ¥æœåŠ¡èµ„æºçš„ä»»ä½•ä¸€ä¸ªå¯†é’¥ã€‚</p>

    <p><em>å¯ä»¥åœ¨ Azure é—¨æˆ·ä¸­è®¤çŸ¥æœåŠ¡èµ„æºçš„ <strong>â€œå¯†é’¥å’Œç»ˆç»“ç‚¹â€</strong> é¡µé¢ä¸­æ‰¾åˆ°è¿™äº›å¯†é’¥ã€‚</em></p>
  </li>
  <li>ä¿å­˜å¹¶å…³é—­æ›´æ–°åçš„ JSON æ–‡ä»¶ã€‚</li>
  <li>åœ¨ <strong>update-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>update-index.json</strong>ã€‚æ­¤æ–‡ä»¶åŒ…å« <strong>margies-custom-index</strong> ç´¢å¼•çš„ JSON å®šä¹‰ï¼Œå¹¶åœ¨ç´¢å¼•å®šä¹‰çš„åº•éƒ¨æœ‰ä¸€ä¸ªåä¸º <strong>top_words</strong> çš„é™„åŠ å­—æ®µã€‚</li>
  <li>æŸ¥çœ‹è¯¥ç´¢å¼•çš„ JSONï¼Œç„¶åå…³é—­æ–‡ä»¶ï¼Œä¸åšä»»ä½•ä¿®æ”¹ã€‚</li>
  <li>åœ¨ <strong>update-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>update-indexer.json</strong>ã€‚æ­¤æ–‡ä»¶åŒ…å« <strong>margies-custom-indexer</strong> çš„ JSON å®šä¹‰ï¼Œå¹¶å…·æœ‰ <strong>top_words</strong> å­—æ®µçš„é™„åŠ æ˜ å°„ã€‚</li>
  <li>æŸ¥çœ‹è¯¥ç´¢å¼•å™¨çš„ JSONï¼Œç„¶åå…³é—­æ–‡ä»¶ï¼Œä¸åšä»»ä½•ä¿®æ”¹ã€‚</li>
  <li>åœ¨ <strong>update-search</strong> æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€ <strong>update-search.cmd</strong>ã€‚æ­¤æ‰¹å¤„ç†è„šæœ¬ä½¿ç”¨ cURL å®ç”¨ç¨‹åºå°†æ›´æ–°åçš„ JSON å®šä¹‰æäº¤åˆ° Azure è®¤çŸ¥æœç´¢èµ„æºçš„ REST æ¥å£ã€‚</li>
  <li>
    <p>å°† <strong>YOUR_SEARCH_URL</strong> å’Œ <strong>YOUR_ADMIN_KEY</strong> å˜é‡å ä½ç¬¦æ›¿æ¢ä¸º Azure è®¤çŸ¥æœç´¢èµ„æºçš„ <strong>Url</strong> å’Œå…¶ä¸­ä¸€ä¸ªç®¡<strong>ç†å‘˜å¯†é’¥</strong>ã€‚</p>

    <p><em>å¯ä»¥åœ¨ Azure é—¨æˆ·ä¸­ Azure è®¤çŸ¥æœç´¢èµ„æºçš„ <strong>â€œæ¦‚è¿°â€</strong> å’Œ <strong>â€œå¯†é’¥â€</strong> é¡µé¢ä¸Šæ‰¾åˆ°è¿™äº›å€¼ã€‚</em></p>
  </li>
  <li>ä¿å­˜æ›´æ–°åçš„æ‰¹å¤„ç†æ–‡ä»¶ã€‚</li>
  <li>å³é”®å•å‡» <strong>update-search</strong> æ–‡ä»¶å¤¹ï¼Œé€‰æ‹© <strong>â€œåœ¨é›†æˆç»ˆç«¯ä¸­æ‰“å¼€â€</strong>ã€‚</li>
  <li>
    <p>åœ¨ <strong>update-search</strong>æ–‡ä»¶å¤¹çš„ç»ˆç«¯çª—æ ¼ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿è¡Œæ‰¹å¤„ç†è„šæœ¬ã€‚</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock10" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock10" class="mt-0"><code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">update</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">search</span></span>
</code></pre>
  </li>
  <li>
    <p>è„šæœ¬å®Œæˆåï¼Œåœ¨ Azure é—¨æˆ·ä¸­ Azure è®¤çŸ¥æœç´¢èµ„æºçš„é¡µé¢ä¸Šï¼Œé€‰æ‹© <strong>â€œç´¢å¼•å™¨â€</strong> é¡µé¢ï¼Œç„¶åç­‰å¾…ç´¢å¼•è¿‡ç¨‹å®Œæˆã€‚</p>

    <p><em>ä½ å¯ä»¥é€‰æ‹© <strong>â€œåˆ·æ–°â€</strong> æ¥è·Ÿè¸ªç´¢å¼•æ“ä½œçš„è¿›åº¦ã€‚å¯èƒ½éœ€è¦ä¸€åˆ†é’Ÿå·¦å³çš„æ—¶é—´æ‰èƒ½å®Œæˆã€‚</em></p>
  </li>
</ol>

<h2 id="æœç´¢ç´¢å¼•-1">æœç´¢ç´¢å¼•</h2>

<p>ç°åœ¨ä½ å·²æ‹¥æœ‰ç´¢å¼•ï¼Œå¯ä»¥æœç´¢å®ƒã€‚</p>

<ol>
  <li>åœ¨ Azure è®¤çŸ¥æœç´¢èµ„æºè¾¹æ é€‰é¡¹å¡çš„é¡¶éƒ¨ï¼Œé€‰æ‹© <strong>â€œæœç´¢èµ„æºç®¡ç†å™¨â€</strong>ã€‚</li>
  <li>
    <p>åœ¨æœç´¢èµ„æºç®¡ç†å™¨çš„ <strong>â€œæŸ¥è¯¢å­—ç¬¦ä¸²â€</strong> æ¡†ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œç„¶åé€‰æ‹© <strong>â€œæœç´¢â€</strong>ã€‚</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock11" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock11" class="mt-0"><code class="hljs sql"> search=Las Vegas&amp;$<span class="hljs-keyword"><span class="hljs-keyword">select</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">url</span></span>,top_words
</code></pre>

    <p>æ­¤æŸ¥è¯¢æ£€ç´¢æåˆ°æ‹‰æ–¯ç»´åŠ æ–¯ <strong>Las Vegas</strong> çš„æ‰€æœ‰æ–‡æ¡£çš„ <strong>url</strong> å’Œ <strong>top_words</strong> å­—æ®µã€‚</p>
  </li>
</ol>

<h2 id="æ›´å¤šä¿¡æ¯">æ›´å¤šä¿¡æ¯</h2>

<p>è¦äº†è§£æœ‰å…³ä¸º Azure è®¤çŸ¥æœç´¢åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://docs.microsoft.com/azure/search/cognitive-search-custom-skill-interface">Azure è®¤çŸ¥æœç´¢æ–‡æ¡£</a>ã€‚</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AI-102ZH-Designing-and-Implementing-a-Microsoft-Azure-AI-Solution" target="_blank" class="ml-2">
                    MicrosoftLearning/AI-102ZH-Designing-and-Implementing-a-Microsoft-Azure-AI-Solution
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../assets/js/script_v%3D.js"></script>



</body></html>