<!DOCTYPE html><html lang="en"><head>
        <title>
            AI-102-AIEngineer
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../">
                AI-102-AIEngineer
            </a>
            <a href="https://github.com/MicrosoftLearning/AI-102-AIEngineer" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#create-an-azure-cognitive-search-resource">Create an Azure Cognitive Search resource</a></li><li class="nav-item"><a class="nav-link" href="#create-a-cognitive-services-resource">Create a Cognitive Services resource</a></li><li class="nav-item"><a class="nav-link active" href="#create-a-storage-account">Create a storage account</a></li><li class="nav-item"><a class="nav-link" href="#get-the-endpoint-and-key-for-your-azure-cognitive-search-resource">Get the endpoint and key for your Azure Cognitive Search resource</a></li><li class="nav-item"><a class="nav-link" href="#review-and-modify-the-skillset">Review and modify the skillset</a></li><li class="nav-item"><a class="nav-link" href="#review-and-modify-the-index">Review and modify the index</a></li><li class="nav-item"><a class="nav-link" href="#review-and-modify-the-indexer">Review and modify the indexer</a></li><li class="nav-item"><a class="nav-link" href="#use-the-rest-api-to-update-the-search-solution">Use the REST API to update the search solution</a></li><li class="nav-item"><a class="nav-link" href="#query-the-modified-index">Query the modified index</a></li><li class="nav-item"><a class="nav-link" href="#get-the-endpoint-and-keys-for-your-search-resource">Get the endpoint and keys for your search resource</a></li><li class="nav-item"><a class="nav-link" href="#prepare-to-use-the-azure-cognitive-search-sdk">Prepare to use the Azure Cognitive Search SDK</a></li><li class="nav-item"><a class="nav-link" href="#explore-code-to-search-an-index">Explore code to search an index</a></li><li class="nav-item"><a class="nav-link" href="#explore-code-to-render-search-results">Explore code to render search results</a></li><li class="nav-item"><a class="nav-link" href="#run-the-web-app">Run the web app</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="create-an-azure-cognitive-search-solution">Create an Azure Cognitive Search solution</h1>

<p>All organizations rely on information to make decisions, answer questions, and function efficiently. The problem for most organizations is not a lack of information, but the challenge of finding and  extracting the information from the massive set of documents, databases, and other sources in which the information is stored.</p>

<p>For example, suppose <em>Margie‚Äôs Travel</em> is a travel agency that specializes in organizing trips to cities around the world. Over time, the company has amassed a huge amount of information in documents such as brochures, as well as reviews of hotels submitted by customers. This data is a valuable source of insights for travel agents and customers as they plan trips, but the sheer volume of data can make it difficult to find relevant information to answer a specific customer question.</p>

<p>To address this challenge, Margie‚Äôs Travel can use Azure Cognitive Search to implement a solution in which the documents are indexed and enriched by using AI-based cognitive skills to make them easier to search.</p>

<h2 id="clone-the-repository-for-this-course">Clone the repository for this course</h2>

<p>If you have not already cloned <strong>AI-102-AIEngineer</strong> code repository to the environment where you‚Äôre working on this lab, follow these steps to do so. Otherwise, open the cloned folder in Visual Studio Code.</p>

<ol>
  <li>Start Visual Studio Code.</li>
  <li>Open the palette (SHIFT+CTRL+P) and run a <strong>Git: Clone</strong> command to clone the <code>https://github.com/MicrosoftLearning/AI-102-AIEngineer</code> repository to a local folder (it doesn‚Äôt matter which folder).</li>
  <li>When the repository has been cloned, open the folder in Visual Studio Code.</li>
  <li>
    <p>Wait while additional files are installed to support the C# code projects in the repo.</p>

    <blockquote>
      <p><strong>Note</strong>: If you are prompted to add required assets to build and debug, select <strong>Not Now</strong>.</p>
    </blockquote>
  </li>
</ol>

<h2 id="create-azure-resources">Create Azure resources</h2>

<p>The solution you will create for Margie‚Äôs Travel requires the following resources in your Azure subscription:</p>

<ul>
  <li>An <strong>Azure Cognitive Search</strong> resource, which will manage indexing and querying.</li>
  <li>A <strong>Cognitive Services</strong> resource, which provides AI services for skills that your search solution can use to enrich the data in the data source with AI-generated insights.</li>
  <li>A <strong>Storage account</strong> with a blob container in which the documents to be searched are stored.</li>
</ul>

<blockquote>
  <p><strong>Important</strong>: Your Azure Cognitive Search and Cognitive Services resources must be in the same location!</p>
</blockquote>

<h3 id="create-an-azure-cognitive-search-resource">Create an Azure Cognitive Search resource</h3>

<ol>
  <li>In a web browser, open the Azure portal at <code>https://portal.azure.com</code>, and sign in using the Microsoft account associated with your Azure subscription.</li>
  <li>Select the <strong>ÔºãCreate a resource</strong> button, search for <em>search</em>, and create a <strong>Azure Cognitive Search</strong> resource with the following settings:
    <ul>
      <li><strong>Subscription</strong>: <em>Your Azure subscription</em></li>
      <li><strong>Resource group</strong>: <em>Create a new resource group (if you are using a restricted subscription, you may not have permission to create a new resource group - use the one provided)</em></li>
      <li><strong>Service name</strong>: <em>Enter a unique name</em></li>
      <li><strong>Location</strong>: <em>Select a location - note that your Azure Cognitive Search and Cognitive Services resources must be in the same location</em></li>
      <li><strong>Pricing tier</strong>: Basic</li>
    </ul>
  </li>
  <li>Wait for deployment to complete, and then go to the deployed resource.</li>
  <li>Review the <strong>Overview</strong> page on the blade for your Azure Cognitive Search resource in the Azure portal. Here, you can use a visual interface to create, test, manage, and monitor the various components of a search solution; including data sources, indexes, indexers, and skillsets.</li>
</ol>

<h3 id="create-a-cognitive-services-resource">Create a Cognitive Services resource</h3>

<p>If you don‚Äôt already have one in your subscription, you‚Äôll need to provision a <strong>Cognitive Services</strong> resource. Your search solution will use this to enrich the data in the datastore with AI-generated insights.</p>

<ol>
  <li>Return to the home page of the Azure portal, and then select the <strong>ÔºãCreate a resource</strong> button, search for <em>cognitive services</em>, and create a <strong>Cognitive Services</strong> resource with the following settings:
    <ul>
      <li><strong>Subscription</strong>: <em>Your Azure subscription</em></li>
      <li><strong>Resource group</strong>: <em>The same resource group as your Azure Cognitive Search resource</em></li>
      <li><strong>Region</strong>: <em>The same location as your Azure Cognitive Search resource</em></li>
      <li><strong>Name</strong>: <em>Enter a unique name</em></li>
      <li><strong>Pricing tier</strong>: Standard S0</li>
    </ul>
  </li>
  <li>Select the required checkboxes and create the resource.</li>
  <li>Wait for deployment to complete, and then view the deployment details.</li>
</ol>

<h3 id="create-a-storage-account">Create a storage account</h3>

<ol>
  <li>Return to the home page of the Azure portal, and then select the <strong>ÔºãCreate a resource</strong> button, search for <em>storage account</em>, and create a <strong>Storage account</strong> resource with the following settings:
    <ul>
      <li><strong>Subscription</strong>: <em>Your Azure subscription</em></li>
      <li><strong>Resource group</strong>: <em>*The same resource group as your Azure Cognitive Search and Cognitive Services resources</em></li>
      <li><strong>Storage account name</strong>: <em>Enter a unique name</em></li>
      <li><strong>Region</strong>: <em>Choose any available region</em></li>
      <li><strong>Performance</strong>: Standard</li>
      <li><strong>Replication</strong>: Locally-redundant storage (LRS)</li>
    </ul>
  </li>
  <li>Wait for deployment to complete, and then go to the deployed resource.</li>
  <li>On the <strong>Overview</strong> page, note the <strong>Subscription ID</strong> -this identifies the subscription in which the storage account is provisioned.</li>
  <li>
    <p>On the <strong>Access keys</strong> page, note that two keys have been generated for your storage account. Then select <strong>Show keys</strong> to view the keys.</p>

    <blockquote>
      <p><strong>Tip</strong>: Keep the <strong>Storage Account</strong> blade open - you will need the subscription ID and one of the keys in the next procedure.</p>
    </blockquote>
  </li>
</ol>

<h2 id="upload-documents-to-azure-storage">Upload Documents to Azure Storage</h2>

<p>Now that you have the required resources, you can upload some documents to your Azure Storage account.</p>

<ol>
  <li>In Visual Studio Code, in the <strong>Explorer</strong> pane, expand the <strong>22-create-a-search-solution</strong> folder and select <strong>UploadDocs.cmd</strong>.</li>
  <li>Edit the batch file to replace the <strong>YOUR_SUBSCRIPTION_ID</strong>, <strong>YOUR_AZURE_STORAGE_ACCOUNT_NAME</strong>, and <strong>YOUR_AZURE_STORAGE_KEY</strong> placeholders with the appropriate subscription ID, Azure storage account name, and Azure storage account key values for the storage account you created previously.</li>
  <li>Save your changes, and then right-click the <strong>22-create-a-search-solution</strong> folder and open an integrated terminal.</li>
  <li>
    <p>Enter the following command to sign into your Azure subscription by using the Azure CLI.</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs nginx"> <span class="hljs-attribute">az</span> login
</code></pre>
  </li>
</ol>

<p>A web browser tab will open and prompt you to sign into Azure. Do so, and then close the browser tab and return to Visual Studio Code.</p>

<ol>
  <li>
    <p>Enter the following command to run the batch file. This will create a blob container in your storage account and upload the documents in the <strong>data</strong> folder to it.</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="hljs nginx"> <span class="hljs-attribute">UploadDocs</span>
</code></pre>
  </li>
</ol>

<h2 id="index-the-documents">Index the documents</h2>

<p>Now that you have the documents in place, you can create a search solution by indexing them.</p>

<ol>
  <li>In the Azure portal, browse to your Azure Cognitive Search resource. Then, on its <strong>Overview</strong> page, select <strong>Import data</strong>.</li>
  <li>On the <strong>Connect to your data</strong> page, in the <strong>Data Source</strong> list, select <strong>Azure Blob Storage</strong>. Then complete the data store details with the following values:
    <ul>
      <li><strong>Data Source</strong>: Azure Blob Storage</li>
      <li><strong>Data source name</strong>: margies-data</li>
      <li><strong>Data to extract</strong>: Content and metadata</li>
      <li><strong>Parsing mode</strong>: Default</li>
      <li><strong>Connection string</strong>: <em>Select <strong>Choose an existing connection</strong>. Then select your storage account, and finally select the <strong>margies</strong> container that was created by the UploadDocs.cmd script.</em></li>
      <li><strong>Managed identity authentication</strong>: None</li>
      <li><strong>Container name</strong>: margies</li>
      <li><strong>Blob folder</strong>: <em>Leave this blank</em></li>
      <li><strong>Description</strong>: Brochures and reviews in Margie‚Äôs Travel web site.</li>
    </ul>
  </li>
  <li>Proceed to the next step (<em>Add cognitive skills</em>).</li>
  <li>in the <strong>Attach Cognitive Services</strong> section, select your cognitive services resource.</li>
  <li>In the <strong>Add enrichments</strong> section:
    <ul>
      <li>Change the <strong>Skillset name</strong> to <strong>margies-skillset</strong>.</li>
      <li>Select the option <strong>Enable OCR and merge all text into merged_content field</strong>.</li>
      <li>Ensure that the <strong>Source data field</strong> is set to <strong>merged_content</strong>.</li>
      <li>Leave the <strong>Enrichment granularity level</strong> as <strong>Source field</strong>, which is set the entire contents of the document being indexed; but note that you can change this to extract information at more granular levels, like pages or sentences.</li>
      <li>
        <p>Select the following enriched fields:</p>

        <table>
          <thead>
            <tr>
              <th>Cognitive Skill</th>
              <th>Parameter</th>
              <th>Field name</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Extract location names</td>
              <td>&nbsp;</td>
              <td>locations</td>
            </tr>
            <tr>
              <td>Extract key phrases</td>
              <td>&nbsp;</td>
              <td>keyphrases</td>
            </tr>
            <tr>
              <td>Detect language</td>
              <td>&nbsp;</td>
              <td>language</td>
            </tr>
            <tr>
              <td>Generate tags from images</td>
              <td>&nbsp;</td>
              <td>imageTags</td>
            </tr>
            <tr>
              <td>Generate captions from images</td>
              <td>&nbsp;</td>
              <td>imageCaption</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
  </li>
  <li>Double-check your selections (it can be difficult to change them later). Then proceed to the next step (<em>Customize target index</em>).</li>
  <li>Change the <strong>Index name</strong> to <strong>margies-index</strong>.</li>
  <li>Ensure that the <strong>Key</strong> is set to <strong>metadata_storage_path</strong> and leave the <strong>Suggester name</strong> blank and <strong>Search mode</strong> at its default.</li>
  <li>
    <p>Make the following changes to the index fields, leaving all other fields with their default settings (<strong>IMPORTANT</strong>: you may need to scroll to the right to see the entire table):</p>

    <table>
      <thead>
        <tr>
          <th>Field name</th>
          <th>Retrievable</th>
          <th>Filterable</th>
          <th>Sortable</th>
          <th>Facetable</th>
          <th>Searchable</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>metadata_storage_size</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>metadata_storage_last_modified</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>metadata_storage_name</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
        </tr>
        <tr>
          <td>metadata_author</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
        </tr>
        <tr>
          <td>locations</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
        </tr>
        <tr>
          <td>keyphrases</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
        </tr>
        <tr>
          <td>language</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚úî</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Double-check your selections, paying particular attention to ensure that the correct <strong>Retrievable</strong>, <strong>Filterable</strong>, <strong>Sortable</strong>, <strong>Facetable</strong>, and <strong>Searchable</strong> options are selected for each field  (it can be difficult to change them later). Then proceed to the next step (<em>Create an indexer</em>).</li>
  <li>Change the <strong>Indexer name</strong> to <strong>margies-indexer</strong>.</li>
  <li>Leave the <strong>Schedule</strong> set to <strong>Once</strong>.</li>
  <li>Expand the <strong>Advanced</strong> options, and ensure that the <strong>Base-64 encode keys</strong> option is selected (generally encoding keys make the index more efficient).</li>
  <li>Select <strong>Submit</strong> to create the data source, skillset, index, and indexer. The indexer is run automatically and runs the indexing pipeline, which:
    <ol>
      <li>Extracts the document metadata fields and content from the data source</li>
      <li>Runs the skillset of cognitive skills to generate additional enriched fields</li>
      <li>Maps the extracted fields to the index.</li>
    </ol>
  </li>
  <li>In the bottom half of the <strong>Overview</strong> page for your Azure Cognitive Search resource, view the <strong>Indexers</strong> tab, which should show the newly created <strong>margies-indexer</strong>. Wait a few minutes, and click <strong>&amp;orarr; Refresh</strong> until the <strong>Status</strong> indicates success.</li>
</ol>

<h2 id="search-the-index">Search the index</h2>

<p>Now that you have an index, you can search it.</p>

<ol>
  <li>At the top of the <strong>Overview</strong> page for your Azure Cognitive Search resource, select <strong>Search explorer</strong>.</li>
  <li>
    <p>In Search explorer, in the <strong>Query string</strong> box, enter <code>*</code> (a single asterisk), and then select <strong>Search</strong>.</p>

    <p>This query retrieves all documents in the index in JSON format. Examine the results and note the fields for each document, which contain document content, metadata, and enriched data extracted by the cognitive skills you selected.</p>
  </li>
  <li>
    <p>Modify the query string to <code>search=*&amp;$count=true</code> and submit the search.</p>

    <p>This time, the results include a <strong>@odata.count</strong> field at the top of the results that indicates the number of documents returned by the search.</p>
  </li>
  <li>
    <p>Try the following query string:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock2" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock2" class="mt-0"><code class="hljs bash"> search=*&amp;<span class="hljs-variable">$count</span>=<span class="hljs-literal">true</span>&amp;<span class="hljs-variable">$select</span>=metadata_storage_name,metadata_author,locations
</code></pre>

    <p>This time the results include only the file name, author, and any locations mentioned in the document content. The file name and author are in the <strong>metadata_storage_name</strong> and <strong>metadata_author</strong> fields, which were extracted from the source document. The <strong>locations</strong> field was generated by a cognitive skill.</p>
  </li>
  <li>
    <p>Now try the following query string:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock3" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock3" class="mt-0"><code class="hljs bash"> search=<span class="hljs-string">"New York"</span>&amp;<span class="hljs-variable">$count</span>=<span class="hljs-literal">true</span>&amp;<span class="hljs-variable">$select</span>=metadata_storage_name,keyphrases
</code></pre>

    <p>This search finds documents that mention ‚ÄúNew York‚Äù in any of the searchable fields, and returns the file name and key phrases in the document.</p>
  </li>
  <li>
    <p>Let‚Äôs try one more query string:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock4" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock4" class="mt-0"><code class="hljs bash"> search=<span class="hljs-string">"New York"</span>&amp;<span class="hljs-variable">$count</span>=<span class="hljs-literal">true</span>&amp;<span class="hljs-variable">$select</span>=metadata_storage_name&amp;<span class="hljs-variable">$filter</span>=metadata_author eq <span class="hljs-string">'Reviewer'</span>
</code></pre>

    <p>This query returns the filename of any documents authored by <em>Reviewer</em> that mention ‚ÄúNew York‚Äù.</p>
  </li>
</ol>

<h2 id="explore-and-modify-definitions-of-search-components">Explore and modify definitions of search components</h2>

<p>The components of the search solution are based on JSON definitions, which you can view and edit in the Azure portal.</p>

<p>While you can use the portal to create and modify search solutions, it‚Äôs often desirable to define the search objects in JSON and use the Azure Cognitive Service REST interface to create and modify them.</p>

<h3 id="get-the-endpoint-and-key-for-your-azure-cognitive-search-resource">Get the endpoint and key for your Azure Cognitive Search resource</h3>

<ol>
  <li>In the Azure portal, return to the <strong>Overview</strong> page for your Azure Cognitive Search resource; and in the top section of the page, find the <strong>Url</strong> for your resource (which looks like <strong>https://resource_name.search.windows.net</strong>) and copy it to the clipboard.</li>
  <li>In Visual Studio Code, in the Explorer pane, expand the <strong>22-create-a-search-solution</strong> folder and its <strong>modify-search</strong> subfolder, and select <strong>modify-search.cmd</strong> to open it. You will use this script file to run <em>cURL</em> commands that submit JSON to the Azure Cognitive Service REST interface.</li>
  <li>In <strong>modify-search.cmd</strong>, replace the <strong>YOUR_SEARCH_URL</strong> placeholder with the URL you copied to the clipboard.</li>
  <li>In the Azure portal, view the <strong>Keys</strong> page for your Azure Cognitive Search resource, and copy the <strong>Primary admin key</strong> to the clipboard.</li>
  <li>In Visual Studio Code, replace the <strong>YOUR_ADMIN_KEY</strong> placeholder with the key you copied to the clipboard.</li>
  <li>Save the changes to <strong>modify-search.cmd</strong> (but don‚Äôt run it yet!)</li>
</ol>

<h3 id="review-and-modify-the-skillset">Review and modify the skillset</h3>

<ol>
  <li>In Visual studio Code, in the <strong>modify-search</strong> folder, open <strong>skillset.json</strong>. This shows a JSON definition for <strong>margies-skillset</strong>.</li>
  <li>At the top of the skillset definition, note the <strong>cognitiveServices</strong> object, which is used to connect your Cognitive Services resource to the skillset.</li>
  <li>In the Azure portal, open your Cognitive Services resource (<u>not</u> your Azure Cognitive Search resource!) and view its <strong>Keys</strong> page. Then copy <strong>Key 1</strong> to the clipboard.</li>
  <li>In Visual Studio Code, in <strong>skillset.json</strong>, replace the <strong>YOUR_COGNITIVE_SERVICES_KEY</strong> placeholder with the Cognitive Services key you copied to the clipboard.</li>
  <li>
    <p>Scroll through the JSON file, noting that it includes definitions for the skills you created using the Azure Cognitive Search user interface in the Azure portal. At the bottom of the list of skills, an additional skill has been added with the following definition:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock5" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock5" class="mt-0"><code class="hljs json"> {
     <span class="hljs-attr">"@odata.type"</span>: <span class="hljs-string">"#Microsoft.Skills.Text.SentimentSkill"</span>,
     <span class="hljs-attr">"defaultLanguageCode"</span>: <span class="hljs-string">"en"</span>,
     <span class="hljs-attr">"name"</span>: <span class="hljs-string">"get-sentiment"</span>,
     <span class="hljs-attr">"description"</span>: <span class="hljs-string">"New skill to evaluate sentiment"</span>,
     <span class="hljs-attr">"context"</span>: <span class="hljs-string">"/document"</span>,
     <span class="hljs-attr">"inputs"</span>: [
         {
             <span class="hljs-attr">"name"</span>: <span class="hljs-string">"text"</span>,
             <span class="hljs-attr">"source"</span>: <span class="hljs-string">"/document/merged_content"</span>
         },
         {
             <span class="hljs-attr">"name"</span>: <span class="hljs-string">"languageCode"</span>,
             <span class="hljs-attr">"source"</span>: <span class="hljs-string">"/document/language"</span>
         }
     ],
     <span class="hljs-attr">"outputs"</span>: [
         {
             <span class="hljs-attr">"name"</span>: <span class="hljs-string">"score"</span>,
             <span class="hljs-attr">"targetName"</span>: <span class="hljs-string">"sentimentScore"</span>
         }
     ]
 }
</code></pre>
  </li>
</ol>

<p>The new skill is named <strong>get-sentiment</strong>, and for each <strong>document</strong> level in a document, it, will evaluate the text found in the <strong>merged_content</strong> field of the document being indexed (which includes the source content as well as any text extracted from images in the content). It uses the extracted <strong>language</strong> of the document (with a default of English), and evaluates a score for the sentiment of the content. This score is then output as a new field named <strong>sentimentScore</strong>.</p>

<ol>
  <li>Save the changes you‚Äôve made to <strong>skillset.json</strong>.</li>
</ol>

<h3 id="review-and-modify-the-index">Review and modify the index</h3>

<ol>
  <li>In Visual studio Code, in the <strong>modify-search</strong> folder, open <strong>index.json</strong>. This shows a JSON definition for <strong>margies-index</strong>.</li>
  <li>Scroll through the index and view the field definitions. Some fields are based on metadata and content in the source document, and others are the results of skills in the skillset.</li>
  <li>
    <p>At the end of the list of fields that you defined in the Azure portal, note that two additional fields have been added:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock6" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock6" class="mt-0"><code class="hljs bash"> {
     <span class="hljs-string">"name"</span>: <span class="hljs-string">"sentiment"</span>,
     <span class="hljs-string">"type"</span>: <span class="hljs-string">"Edm.Double"</span>,
     <span class="hljs-string">"facetable"</span>: <span class="hljs-literal">false</span>,
     <span class="hljs-string">"filterable"</span>: <span class="hljs-literal">true</span>,
     <span class="hljs-string">"retrievable"</span>: <span class="hljs-literal">true</span>,
     <span class="hljs-string">"sortable"</span>: <span class="hljs-literal">true</span>
 },
 {
     <span class="hljs-string">"name"</span>: <span class="hljs-string">"url"</span>,
     <span class="hljs-string">"type"</span>: <span class="hljs-string">"Edm.String"</span>,
     <span class="hljs-string">"facetable"</span>: <span class="hljs-literal">false</span>,
     <span class="hljs-string">"filterable"</span>: <span class="hljs-literal">true</span>,
     <span class="hljs-string">"retrievable"</span>: <span class="hljs-literal">true</span>,
     <span class="hljs-string">"searchable"</span>: <span class="hljs-literal">false</span>,
     <span class="hljs-string">"sortable"</span>: <span class="hljs-literal">false</span>
 }
</code></pre>
  </li>
  <li>The <strong>sentiment</strong> field will be used to add the output from the <strong>get-sentiment</strong> skill that was added the skillset. The <strong>url</strong> field will be used to add the URL for each indexed document to the index, based on the <strong>metadata_storage_path</strong> value extracted from the data source. Note that index already includes the <strong>metadata_storage_path</strong> field, but it‚Äôs used as the index key and Base-64 encoded, making it efficient as a key but requiring client applications to decode it if they want to use the actual URL value as a field. Adding a second field for the unencoded value resolves this problem.</li>
</ol>

<h3 id="review-and-modify-the-indexer">Review and modify the indexer</h3>

<ol>
  <li>In Visual studio Code, in the <strong>modify-search</strong> folder, open <strong>indexer.json</strong>. This shows a JSON definition for <strong>margies-indexer</strong>, which maps fields extracted from document content and metadata (in the <strong>fieldMappings</strong> section), and values extracted by skills in the skillset (in the <strong>outputFieldMappings</strong> section), to fields in the index.</li>
  <li>
    <p>In the <strong>fieldMappings</strong> list, note the mapping for the <strong>metadata_storage_path</strong> value to the base-64 encoded key field. This was created when you assigned the <strong>metadata_storage_path</strong> as the key and selected the option to encode the key in the Azure portal. Additionally, a new mapping explicitly maps the same value to the <strong>url</strong> field, but without the Base-64 encoding:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock7" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock7" class="mt-0"><code class="hljs json"> {
     <span class="hljs-attr">"sourceFieldName"</span> : <span class="hljs-string">"metadata_storage_path"</span>,
     <span class="hljs-attr">"targetFieldName"</span> : <span class="hljs-string">"url"</span>
 }
    
</code></pre>
  </li>
</ol>

<p>All of the other metadata and content fields in the source document are implicitly mapped to fields of the same name in the index.</p>

<ol>
  <li>
    <p>Review the <strong>ouputFieldMappings</strong> section, which maps outputs from the skills in the skillset to index fields. Most of these reflect the choices you made in the user interface, but the following mapping has been added to map the <strong>sentimentScore</strong> value extracted by your sentiment skill to the <strong>sentiment</strong> field you added to the index:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock8" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock8" class="mt-0"><code class="hljs json"> {
     <span class="hljs-attr">"sourceFieldName"</span>: <span class="hljs-string">"/document/sentimentScore"</span>,
     <span class="hljs-attr">"targetFieldName"</span>: <span class="hljs-string">"sentiment"</span>
 }
</code></pre>
  </li>
</ol>

<h3 id="use-the-rest-api-to-update-the-search-solution">Use the REST API to update the search solution</h3>

<ol>
  <li>Right-click the <strong>modify-search</strong> folder and open an integrated terminal.</li>
  <li>
    <p>In the terminal pane for the <strong>modify-search</strong> folder, enter the following command to run the <strong>modify-search.cmd</strong> script, which submits the JSON definitions to the REST interface and initiates the indexing.</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock9" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock9" class="mt-0"><code class="hljs"> modify-search
</code></pre>
  </li>
  <li>
    <p>When the script has finished, return to the <strong>Overview</strong> page for your Azure Cognitive Search resource in the Azure portal and view the <strong>Indexers</strong> page. The periodically select <strong>Refresh</strong> to track the progress of the indexing operation. It may take a minute or so to complete.</p>

    <p><em>There may be some warnings for a few documents that are too large to evaluate sentiment. Often sentiment analysis is performed at the page or sentence level rather than the full document; but in this case scenario, most of the documents - particularly the hotel reviews, are short enough for useful document-level sentiment scores to be evaluated.</em></p>
  </li>
</ol>

<h3 id="query-the-modified-index">Query the modified index</h3>

<ol>
  <li>At the top of the blade for your Azure Cognitive Search resource, select <strong>Search explorer</strong>.</li>
  <li>
    <p>In Search explorer, in the <strong>Query string</strong> box, enter the following query string, and then select <strong>Search</strong>.</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock10" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock10" class="mt-0"><code class="hljs perl"> search=London&amp;$select=url,sentiment,keyphrases&amp;$filter=metadata_author eq <span class="hljs-string">'Reviewer'</span> <span class="hljs-keyword">and</span> sentiment <span class="hljs-keyword">gt</span> <span class="hljs-number">0</span>.<span class="hljs-number">5</span>
</code></pre>

    <p>This query retrieves the <strong>url</strong>, <strong>sentiment</strong>, and <strong>keyphrases</strong> for all documents that mention <em>London</em> authored by <em>Reviewer</em> that have a <strong>sentiment</strong> score greater than <em>0.5</em> (in other words, positive reviews that mention London)</p>
  </li>
  <li>Close the <strong>Search explorer</strong> page to return to the <strong>Overview</strong> page.</li>
</ol>

<h2 id="create-a-search-client-application">Create a search client application</h2>

<p>Now that you have a useful index, you can use it from a client application. You can do this by consuming the REST interface, submitting requests and receiving responses in JSON format over HTTP; or you can use the software development kit (SDK) for your preferred programming language. In this exercise, we‚Äôll use the SDK.</p>

<blockquote>
  <p><strong>Note</strong>: You can choose to use the SDK for either <strong>C#</strong> or <strong>Python</strong>. In the steps below, perform the actions appropriate for your preferred language.</p>
</blockquote>

<h3 id="get-the-endpoint-and-keys-for-your-search-resource">Get the endpoint and keys for your search resource</h3>

<ol>
  <li>In the Azure portal, on the <strong>Overview</strong> page for your Azure Cognitive Search resource, note the <strong>Url</strong> value, which should be similar to <strong>https://<em>your_resource_name</em>.search.windows.net</strong>. This is the endpoint for your search resource.</li>
  <li>
    <p>On the <strong>Keys</strong> page, note that there are two <strong>admin</strong> keys, and a single <strong>query</strong> key. An <em>admin</em> key is used to create and manage search resources; a <em>query</em> key is used by client applications that only need to perform search queries.</p>

    <p><em>You will need the endpoint and query key for your client application.</em></p>
  </li>
</ol>

<h3 id="prepare-to-use-the-azure-cognitive-search-sdk">Prepare to use the Azure Cognitive Search SDK</h3>

<ol>
  <li>In Visual Studio Code, in the <strong>Explorer</strong> pane, browse to the <strong>22-create-a-search-solution</strong> folder and expand the <strong>C-Sharp</strong> or <strong>Python</strong> folder depending on your language preference.</li>
  <li>
    <p>Right-click the <strong>margies-travel</strong> folder and open an integrated terminal. Then install the Azure Cognitive Search SDK package by running the appropriate command for your language preference:</p>

    <p><strong>C#</strong></p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock11" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock11" class="mt-0"><code class="hljs css"> <span class="hljs-selector-tag">dotnet</span> <span class="hljs-selector-tag">add</span> <span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">Azure</span><span class="hljs-selector-class">.Search</span><span class="hljs-selector-class">.Documents</span> <span class="hljs-selector-tag">--version</span> 11<span class="hljs-selector-class">.1</span><span class="hljs-selector-class">.1</span>
</code></pre>

    <p><strong>Python</strong></p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock12" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock12" class="mt-0"><code class="hljs sql"> pip <span class="hljs-keyword">install</span> azure-<span class="hljs-keyword">search</span>-documents==<span class="hljs-number">11.0</span><span class="hljs-number">.0</span>
</code></pre>
  </li>
  <li>View the contents of the <strong>margies-travel</strong> folder, and note that it contains a file for configuration settings:
    <ul>
      <li><strong>C#</strong>: appsettings.json</li>
      <li><strong>Python</strong>: .env</li>
    </ul>

    <p>Open the configuration file and update the configuration values it contains to reflect the <strong>endpoint</strong> and <strong>query key</strong> for your Azure Cognitive Search resource. Save your changes.</p>
  </li>
</ol>

<h3 id="explore-code-to-search-an-index">Explore code to search an index</h3>

<p>The <strong>margies-travel</strong> folder contains code files for a web application (a Microsoft C# <em>ASP.NET Razor</em> web application or a Python <em>Flask</em> application), which includes search functionality.</p>

<ol>
  <li>Open the following code file in the web application, depending on your choice of programming language:
    <ul>
      <li><strong>C#</strong>:Pages/Index.cshtml.cs</li>
      <li><strong>Python</strong>: app.py</li>
    </ul>
  </li>
  <li>Near the top of the code file, find the comment <strong>Import search namespaces</strong>, and note the namespaces that have been imported to work with the Azure Cognitive Search SDK:</li>
  <li>In the <strong>search_query</strong> function, find the comment <strong>Create a search client</strong>, and note that the code creates a <strong>SearchClient</strong> object using the endpoint and query key for your Azure Cognitive Search resource:</li>
  <li>In the <strong>search_query</strong> function, find the comment <strong>Submit search query</strong>, and review the code to submit a search for the specified text with the following options:
    <ul>
      <li>A <em>search mode</em> that requires <strong>all</strong> of the individual words in the search text are found.</li>
      <li>The total number of documents found by the search is included in the results.</li>
      <li>The results are filtered to include only documents that match the provided filter expression.</li>
      <li>The results are sorted into the specified sort order.</li>
      <li>Each discrete value of the <strong>metadata_author</strong> field is returned as a <em>facet</em> that can be used to display pre-defined values for filtering.</li>
      <li>Up to three extracts of the <strong>merged_content</strong> and <strong>imageCaption</strong> fields with the search terms highlighted are included in the results.</li>
      <li>The results include only the fields specified.</li>
    </ul>
  </li>
</ol>

<h3 id="explore-code-to-render-search-results">Explore code to render search results</h3>

<p>The web app already includes code to process and render the search results.</p>

<ol>
  <li>Open the following code file in the web application, depending on your choice of programming language:
    <ul>
      <li><strong>C#</strong>:Pages/Index.cshtml</li>
      <li><strong>Python</strong>: templates/search.html</li>
    </ul>
  </li>
  <li>Examine the code, which renders the page on which the search results are displayed. Observe that:
    <ul>
      <li>The page begins with a search form that the user can use to submit a new search (in the Python version of the application, this form is defined in the <strong>base.html</strong> template), which is referenced at the beginning of the page.</li>
      <li>A second form is then rendered, enabling the user to refine the search results. The code for this form:
        <ul>
          <li>Retrieves and displays the count of documents from the search results.</li>
          <li>Retrieves the facet values for the <strong>metadata_author</strong> field and displays them as an option list for filtering.</li>
          <li>Creates a drop-down list of sort options for the results.</li>
        </ul>
      </li>
      <li>The code then iterates through the search results, rendering each result as follows:
        <ul>
          <li>Display the <strong>metadata_storage_name</strong> (file name) field as a link to the address in the <strong>url</strong> field.</li>
          <li>Displaying <em>highlights</em> for search terms found in the <strong>merged_content</strong> and <strong>imageCaption</strong> fields to help show the search terms in context.</li>
          <li>Display the <strong>metadata_author</strong>, <strong>metadata_storage_size</strong>, <strong>metadata_storage_last_modified</strong>, and <strong>language</strong> fields.</li>
          <li>Indicate the <strong>sentiment</strong> using an emoticon (üôÇ for scores of 0.5 or higher, and üôÅ for scores less than 0.5).</li>
          <li>Display the first five <strong>keyphrases</strong> (if any).</li>
          <li>Display the first five <strong>locations</strong> (if any).</li>
          <li>Display the first five <strong>imageTags</strong> (if any).</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h3 id="run-the-web-app">Run the web app</h3>

<ol>
  <li>
    <p>return to the integrated terminal for the <strong>margies-travel</strong> folder, and enter the following command to run the program:</p>

    <p><strong>C#</strong></p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock13" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock13" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute">dotnet</span> run
</code></pre>

    <p><strong>Python</strong></p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock14" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock14" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute">flask</span> run
</code></pre>
  </li>
  <li>In the message that is displayed when the app starts successfully, follow the link to the running web application (<em>http://localhost:5000/</em> or <em>http://127.0.0.1:5000/</em>) to open the Margies Travel site in a web browser.</li>
  <li>In the Margie‚Äôs Travel website, enter <strong>London hotel</strong> into the search box and click <strong>Search</strong>.</li>
  <li>Review the search results. They include the file name (with a hyperlink to the file URL), an extract of the file content with the search terms (<em>London</em> and <em>hotel</em>) emphasized, and other attributes of the file from the index fields.</li>
  <li>Observe that the results page includes some user interface elements that enable you to refine the results. These include:
    <ul>
      <li>A <em>filter</em> based on a facet value for the <strong>metadata_author</strong> field. This demonstrates how you can use <em>facetable</em> fields to return a list of <em>facets</em> - fields with a small set of discrete values that can displayed as potential filter values in the user interface.</li>
      <li>The ability to <em>order</em> the results based on a specified field and sort direction (ascending or descending). The default order is based on <em>relevancy</em>, which is calculated as a <strong>search.score()</strong> value based on a <em>scoring profile</em> that evaluates the frequency and importance of search terms in the index fields.</li>
    </ul>
  </li>
  <li>Select the <strong>Reviewer</strong> filter and the <strong>Positive to negative</strong> sort option, and then select <strong>Refine Results</strong>.</li>
  <li>Observe that the results are filtered to include only reviews, and sorted into descending order of sentiment.</li>
  <li>In the <strong>Search</strong> box, enter a new search for <strong>quiet hotel in New York</strong> and review the results.</li>
  <li>Try the following search terms:
    <ul>
      <li><strong>Tower of London</strong> (observe that this term is identified as a <em>key phrase</em> in some documents).</li>
      <li><strong>skyscraper</strong> (observe that this word doesn‚Äôt appear in the actual content of any documents, but is found in the <em>image captions</em> and <em>image tags</em> that were generated for images in some documents).</li>
      <li><strong>Mojave desert</strong> (observe that this term is identified as a <em>location</em> in some documents).</li>
    </ul>
  </li>
  <li>Close the browser tab containing the Margie‚Äôs Travel web site and return to Visual Studio Code. Then in the Python terminal for the <strong>margies-travel</strong> folder (where the dotnet or flask application is running), enter Ctrl+C to stop the app.</li>
</ol>

<h2 id="more-information">More information</h2>

<p>To learn more about Azure Cognitive Search, see the <a href="https://docs.microsoft.com/azure/search/search-what-is-azure-search">Azure Cognitive Search documentation</a>.</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AI-102-AIEngineer" target="_blank" class="ml-2">
                    MicrosoftLearning/AI-102-AIEngineer
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../assets/js/script_v%3D.js"></script>



</body></html>