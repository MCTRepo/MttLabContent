<!DOCTYPE html><html lang="en"><head>
        <title>
            PL-200-Power-Platform-Functional-Consultant
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D052d4faec0274a5ce0802fc07e6fc2ae0bd6de9b.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                PL-200-Power-Platform-Functional-Consultant
            </a>
            <a href="https://github.com/MicrosoftLearning/PL-200-Power-Platform-Functional-Consultant" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#important-notice-effective-november-2020">Important Notice (Effective November 2020):</a></li><li class="nav-item"><a class="nav-link" href="#task-1--create-a-flow">Task 1 – Create a flow</a></li><li class="nav-item"><a class="nav-link" href="#task-2--test-your-flow">Task 2 – Test your flow</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="module-7-build-power-automate-cloud-flows">Module 7: Build Power Automate cloud flows</h1>

<h2 id="lab-71-practice-lab--create-a-flow">Lab 7.1: Practice Lab – Create a flow</h2>

<h3 id="important-notice-effective-november-2020">Important Notice (Effective November 2020):</h3>
<p>Common Data Service has been renamed to Microsoft Dataverse. Some terminology in Microsoft Dataverse has been updated. For example, entity is now table and field is now column.</p>

<p>While the application is in the process of updating its user experience, some references to terminology like the Common Data Service (now <strong>Dataverse</strong>), entity (now <strong>table</strong>), field (now <strong>column</strong>), and record (now <strong>row</strong>) may be out of date. Please keep this in mind as you work through the labs. We expect to have our content fully up to date very soon.</p>

<p>For more information and for a complete list of affected terms, please visit <a href="https://docs.microsoft.com/en-us/powerapps/maker/common-data-service/data-platform-intro#terminology-updates">What is Microsoft Dataverse?</a></p>

<h2 id="scenario">Scenario</h2>

<p>As a functional consultant at Contoso, you are continuing to work on a
model-driven Knowledge Admin app for your client Fabrikam. Your client has
requested an automation that should run weekly without user involvement. You
can’t schedule a workflow without custom code so you will need to use a
Microsoft Power Automate cloud flow. In this lab, you will create a cloud flow
to run weekly and test the flow.</p>

<h2 id="exercise-1--create-microsoft-power-automate-cloud-flow">Exercise 1 – Create Microsoft Power Automate cloud flow</h2>

<p>In this exercise, you will create a cloud flow that will run once a week. This
flow will check if there are Knowledge Assessment with End Date of today or
older and deactivate them.</p>

<h3 id="task-1--create-a-flow">Task 1 – Create a flow</h3>

<ol>
  <li>
    <p>Navigate to <a href="https://make.powerapps.com">https://make.powerapps.com</a>.</p>
  </li>
  <li>
    <p>Make sure you have your <strong>Practice</strong> environment selected.</p>
  </li>
  <li>
    <p>Select <strong>Solutions</strong> and click to open the <strong>Common Data Services Default
Solution.</strong></p>
  </li>
  <li>
    <p>Locate the <strong>Name</strong> column and make a note of the name <strong>Prefix</strong>. The
prefix will look like <strong>crXXX_</strong>.</p>
  </li>
  <li>
    <p>From the left hand menu, select <strong>Flows.</strong> (If you get a pop-up here, just
choose your country/region and select <strong>Get started.</strong>)</p>
  </li>
  <li>
    <p>Click <strong>+ New Flow</strong> and select <strong>+ Automated cloud flow</strong>.</p>
  </li>
  <li>
    <p>The pop-up will show common triggers that you can easily select to
jump-start your flow configuration. Scroll through the options, but do not
select anything. When you are ready, press <strong>Skip.</strong></p>
  </li>
  <li>
    <p>In the box that says <strong>Search connectors and triggers</strong>, type <strong>Recurrence</strong>
Select the <strong>Recurrence</strong> option from the <strong>Triggers</strong> tab.</p>
  </li>
  <li>
    <p>Select <strong>+ New step.</strong></p>
  </li>
  <li>
    <p>Type <strong>Microsoft Dataverse</strong> into the search box.</p>
  </li>
  <li>
    <p>Select <strong>List rows</strong> from the <strong>Actions</strong> box.</p>
  </li>
  <li>
    <p>Select <strong>Knowledge Assessments</strong> for <strong>Table name</strong>.</p>
  </li>
  <li>
    <p>Click on <strong>Show advanced options.</strong></p>
  </li>
  <li>
    <p>Select the <strong>Filter rows</strong> field and type the following:</p>
  </li>
</ol>

<div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">crXXX_enddate</span></span> lt 
</code></pre>

<blockquote>
  <p>Replace crXXX_ with your unique prefix and type a <strong>space</strong> at the end of
  the expression.</p>
</blockquote>

<ol>
  <li>
    <p>Select the <strong>Expression</strong> tab of the <strong>Dynamics Content</strong> pane. If you do not see the Dynamic Content pane pop up at this time, you may need to zoom out.</p>
  </li>
  <li>
    <p>Type <strong>utcNow()</strong> and click <strong>OK.</strong> (There should be a space before the
    utcnow() expression in your formula.)</p>
  </li>
  <li>
    <p>Click on the ellipses (<strong>…</strong>) on the <strong>List Rows</strong> step and select <strong>Rename</strong>.</p>
  </li>
  <li>
    <p>Rename the step <strong>Get Assessments</strong>.</p>
  </li>
  <li>
    <p>Click <strong>+ New Step</strong>.</p>
  </li>
  <li>
    <p>Search for <strong>Microsoft Dataverse</strong> and select <strong>Update a row</strong>.</p>
  </li>
  <li>
    <p>Select <strong>Knowledge Assessments</strong> for <strong>Table name</strong>.</p>
  </li>
  <li>
    <p>Click to select the <strong>Row ID</strong> field.</p>
  </li>
  <li>
    <p>Select <strong>Knowledge Assessment</strong> from the <strong>Dynamic Content</strong> pane.</p>
  </li>
  <li>
    <p><strong>Apply to Each</strong> step will be added and <strong>Value</strong> will be selected for
Output. Click on <strong>Update a row</strong> and then click <strong>Show Advanced
Options</strong>.</p>
  </li>
  <li>
    <p>Locate the <strong>Status</strong> option set and select <strong>Inactive</strong>.</p>
  </li>
  <li>
    <p>Click on the ellipses (<strong>…</strong>) for the <strong>Update a row</strong> step and select <strong>Rename</strong>.</p>
  </li>
  <li>
    <p>Rename the step <strong>Deactivate Assessment</strong>.</p>
  </li>
  <li>
    <p>Scroll up and click on the name of the flow by clicking <strong>Untitled.</strong></p>
  </li>
  <li>
    <p>Rename the flow <strong>Deactivate Old Assessments</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>. Don’t navigate away from the flow.</p>
  </li>
</ol>

<h3 id="task-2--test-your-flow">Task 2 – Test your flow</h3>

<ol>
  <li>
    <p>Start a new browser window and navigate to <a href="https://make.powerapps.com">https://make.powerapps.com</a>.</p>
  </li>
  <li>
    <p>Make sure you are in your <strong>Practice</strong> environment.</p>
  </li>
  <li>
    <p>Select <strong>Apps</strong> and click to open the <strong>Knowledge Admin</strong> model-driven
application.</p>
  </li>
  <li>
    <p>Navigate to <strong>Knowledge Assessments</strong> and click to open the <strong>Test Assessment Four</strong>.</p>
  </li>
  <li>
    <p>Locate the <strong>End Date</strong> field and select today’s date.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
  <li>
    <p>Go back to the flow you created.</p>
  </li>
  <li>
    <p>Click <strong>Test</strong>.</p>
  </li>
  <li>
    <p>Select <strong>Automatically</strong>, and then select <strong>With a recently used trigger</strong>.</p>
  </li>
  <li>
    <p>Select the latest run and click <strong>Test</strong>.</p>
  </li>
  <li>
    <p>The flow should run and succeed.</p>
  </li>
  <li>
    <p>Go back to the <strong>Knowledge Admin</strong> application.</p>
  </li>
  <li>
    <p>Select <strong>Knowledge Assessments</strong>.</p>
  </li>
  <li>
    <p><strong>Test Assessment Four</strong> should now be missing from the view.</p>
  </li>
  <li>
    <p>Click on the view name and select the <strong>Inactive Knowledge Assessments</strong>
view.</p>
  </li>
  <li>
    <p>The deactivated rows will now be in this view.</p>
  </li>
  <li>
    <p>Go back to flow and click <strong>Edit</strong>.</p>
  </li>
  <li>
    <p>Click on the <strong>Recurrence</strong> trigger.</p>
  </li>
  <li>
    <p>Change the <strong>Recurrence</strong> from <strong>Minute</strong> to <strong>Week</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
  <li>
    <p>Go back to the <strong>Knowledge Admin</strong> application.</p>
  </li>
  <li>
    <p>Select <strong>Knowledge Assessments</strong>.</p>
  </li>
  <li>
    <p>Click on the view name and select the <strong>Inactive Knowledge Assessments</strong>
view.</p>
  </li>
  <li>
    <p>Click to open the <strong>Test Assessment Four</strong> record.</p>
  </li>
  <li>
    <p>Click <strong>Activate</strong>.</p>
  </li>
  <li>
    <p>Confirm activation.</p>
  </li>
  <li>
    <p>Change the <strong>End Date</strong> to one month from today.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/PL-200-Power-Platform-Functional-Consultant" target="_blank" class="ml-2">
                    MicrosoftLearning/PL-200-Power-Platform-Functional-Consultant
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D052d4faec0274a5ce0802fc07e6fc2ae0bd6de9b.js"></script>



</body></html>