<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-400ZH-Designing-and-Implementing-Microsoft-DevOps-solutions
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-400ZH-Designing-and-Implementing-Microsoft-DevOps-solutions
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-400ZH-Designing-and-Implementing-Microsoft-DevOps-solutions" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#准备工作">准备工作</a></li><li class="nav-item"><a class="nav-link" href="#练习-0配置实验室先决条件">练习 0：配置实验室先决条件</a></li><li class="nav-item"><a class="nav-link" href="#练习-1集成-azure-boards-与-microsoft-teams">练习 1：集成 Azure Boards 与 Microsoft Teams</a></li><li class="nav-item"><a class="nav-link" href="#练习-2集成-azure-pipelines-与-microsoft-teams">练习 2：集成 Azure Pipelines 与 Microsoft Teams</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="实验室-18-azure-devops-和-teams-的集成">实验室 18： Azure DevOps 和 Teams 的集成</h1>
<h1 id="学生实验室手册">学生实验室手册</h1>

<h2 id="实验室概述">实验室概述</h2>

<p><strong><a href="https://teams.microsoft.com/start">Microsoft Teams</a></strong> 是 Office 365 中团队合作的中心。使用它，可以在一处管理和使用团队的所有聊天、会议、文件和应用。它为软件开发团队提供了一个协作中心，使其能够跨 Office 365 和 Azure DevOps 实现团队合作、沟通交流、共享内容和使用工具。</p>

<p>在本实验室中，你将实现 Azure DevOps 服务和 Microsoft Teams 之间的集成方案。</p>

<blockquote>
  <p><strong>备注</strong>：<strong>Azure DevOps 服务</strong>与 Microsoft Teams 集成，在整个开发周期中提供复合聊天和协作体验。通过工作项、拉取请求、代码提交以及生成和发布事件的通知和警报，可使团队随时了解 Azure DevOps 团队项目中的重要活动。</p>
</blockquote>

<h2 id="目标">目标</h2>

<p>完成本实验室后，你将能够：</p>

<ul>
  <li>集成 Microsoft Teams 与 Azure DevOps</li>
  <li>集成 Azure DevOps 看板和 Teams 中的仪表板</li>
  <li>集成 Azure Pipelines 与 Microsoft Teams</li>
  <li>在 Microsoft Teams 中安装 Azure Pipelines 应用</li>
  <li>订阅 Azure Pipelines 通知</li>
</ul>

<h2 id="实验室持续时间">实验室持续时间</h2>

<ul>
  <li>预计用时：<strong>60 分钟</strong>
</li>
</ul>

<h2 id="说明">说明</h2>

<h3 id="准备工作">准备工作</h3>

<h4 id="登录到实验室虚拟机">登录到实验室虚拟机</h4>

<p>确保已使用以下凭据登录到 Windows 10 计算机：</p>

<ul>
  <li>用户名：<strong>Student</strong>
</li>
  <li>密码：<strong>Pa55w.rd</strong>
</li>
</ul>

<h4 id="查看本实验室所需的应用程序">查看本实验室所需的应用程序</h4>

<p>确定你将在本实验室中使用的应用程序：</p>

<ul>
  <li>Microsoft Edge</li>
  <li>Microsoft Teams。此应用程序将作为本实验室先决条件安装。</li>
</ul>

<h4 id="设置-office-365-订阅">设置 Office 365 订阅</h4>

<p>从 <a href="https://teams.microsoft.com/start">Microsoft Teams 注册页</a>创建免费试用版订阅。</p>

<h4 id="设置-azure-devops-组织">设置 Azure DevOps 组织。</h4>

<p>遵循<a href="https://docs.microsoft.com/zh-cn/azure/devops/organizations/accounts/create-organization?view=azure-devops">创建组织或项目集合</a>中的说明。创建 Azure DevOps 组织时，使用你用于设置 Office 365 订阅的用户帐户登录。</p>

<blockquote>
  <p><strong>备注</strong>：你的 Office 365 订阅和 Azure DevOps 组织必须共享相同的 Azure Active Directory (Azure AD) 租户。</p>
</blockquote>

<h3 id="练习-0配置实验室先决条件">练习 0：配置实验室先决条件</h3>

<p>在本练习中，你将设置实验室先决条件，包括预先配置的 <strong>Tailwind Traders</strong> 团队项目，它基于 Azure DevOps 演示生成器模板和在 Microsoft Teams 中创建的团队。</p>

<h4 id="任务-1配置团队项目">任务 1：配置团队项目</h4>

<p>在此任务中，你将使用 Azure DevOps 演示生成器，基于 <strong>Tailwind Traders</strong> 模板生成新项目。</p>

<ol>
  <li>
    <p>在实验室计算机上，启动 Web 浏览器并导航到 <a href="https://azuredevopsdemogenerator.azurewebsites.net">Azure DevOps 演示生成器</a>。此实用工具将对以下过程进行自动化：在你的帐户中创建预填充了实验室所需内容（工作项、存储库等）的 Azure DevOps 项目。</p>

    <blockquote>
      <p><strong>备注</strong>：有关该站点的详细信息，请参阅 https://docs.microsoft.com/zh-cn/azure/devops/demo-gen。</p>
    </blockquote>
  </li>
  <li>单击“<strong>登录</strong>”，并使用与你的 Azure DevOps 订阅相关联的 Microsoft 帐户登录。</li>
  <li>如果需要，在“<strong>Azure DevOps 演示生成器</strong>”页面上，单击“<strong>接受</strong>”以接受访问 Azure DevOps 订阅的权限请求。</li>
  <li>在“<strong>创建新项目</strong>”页面上，单击“<strong>选择模板</strong>”。</li>
  <li>在模板列表中，单击工具栏中的“<strong>常规</strong>”，选择“<strong>Tailwind Traders</strong>”，然后单击“<strong>选择模板</strong>”。</li>
  <li>返回“<strong>创建新项目</strong>”页面，在“<strong>新建项目名称</strong>”文本框中键入“<strong>Tailwind Traders</strong>”，然后在“<strong>选择组织</strong>”下拉列表中选择你的 Azure DevOps 组织。</li>
  <li>
    <p>在“<strong>创建新项目</strong>”页面上，如果系统提示你安装缺少的扩展，请选中“<strong>ARM 输出</strong>”下方的复选框，然后单击“<strong>创建项目</strong>”（忽略 GitHub 分支）。</p>

    <blockquote>
      <p><strong>备注</strong>：等待此过程完成。该过程大约需要 2 分钟。如果该过程失败，请导航到你的 DevOps 组织，删除项目并重试。</p>
    </blockquote>
  </li>
  <li>在 <strong>“新建项目”</strong> 页面上，单击 <strong>“导航到项目”</strong>。</li>
</ol>

<h4 id="任务-2在-microsoft-teams-中创建团队">任务 2：在 Microsoft Teams 中创建团队。</h4>

<p>在此任务中，你将在 Microsoft Teams 中创建团队。</p>

<ol>
  <li>在实验室计算机上，启动 Web 浏览器，导航到 <a href="https://www.microsoft.com/zh-cn/microsoft-365/microsoft-teams/download-app">Microsoft Teams 下载页</a>，然后从该页面下载 Microsoft Teams 并以默认设置安装它。</li>
  <li>
    <p>在实验室计算机上，使用桌面应用启动 <strong>Microsoft Teams</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>：你还可以使用 Web 浏览器并导航到 <a href="https://teams.microsoft.com/dl/launcher/launcher.html?url=/_%23/l/home/0/0&amp;type=home">Microsoft Teams 登录页</a></p>
    </blockquote>
  </li>
  <li>提示登录时，使用属于 Office 365 订阅且有权访问你的 Azure DevOps 组织的用户帐户登录。</li>
  <li>
    <p>在 Microsoft Teams 中，在页面左侧的工具栏中单击 <strong>“Teams”</strong>，然后在团队列表底部单击 <strong>“加入或创建团队”</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>：团队即围绕共同目标进行协作的一群人。</p>
    </blockquote>
  </li>
  <li>在 <strong>“加入或创建团队”</strong> 窗格上，单击 <strong>“创建团队”</strong>。</li>
  <li>在 <strong>“创建团队”</strong> 窗格上单击 <strong>“从头开始”</strong>，在 <strong>“这会是什么类型的团队？”</strong> 窗格上单击 <strong>“私密”</strong>
</li>
  <li>在 <strong>“有关私密团队的简要信息”</strong> 面板上，将 <strong>“为你的团队命名”</strong> 替换为 <strong>“Tailwind Traders”</strong> 并单击 <strong>“创建”</strong>。</li>
  <li>在 <strong>“向 Tailwind Traders 添加成员”</strong> 面板上，单击 <strong>“跳过”</strong>。</li>
</ol>

<h3 id="练习-1集成-azure-boards-与-microsoft-teams">练习 1：集成 Azure Boards 与 Microsoft Teams</h3>

<p>在此练习中，你将实现 Azure Boards和 Microsoft Teams 之间的集成。</p>

<h4 id="任务-1在-microsoft-teams-中安装并配置-azure-boards-应用">任务 1：在 Microsoft Teams 中安装并配置 Azure Boards 应用</h4>

<p>在此任务中，你将在 Microsoft Teams 中新创建的团队中安装并配置 Azure Boards 应用。</p>

<ol>
  <li>在 Microsoft Teams 窗口的左下角，单击 <strong>“应用”</strong> 图标。这将打开 <strong>“应用”</strong> 窗格。</li>
  <li>在 <strong>“应用”</strong> 窗格上的 <strong>“搜索所有应用”</strong> 文本框中键入 <strong>“Azure Boards”</strong>，然后在应用列表中单击 <strong>“Azure Boards”</strong>。
单击“<strong>打开</strong>”按钮右侧的向下箭头，然后在下拉列表中选择“<strong>添加到团队</strong>”条目。</li>
  <li>
    <p>在“<strong>为团队设置 Azure Boards</strong>”面板的“<strong>搜索</strong>”文本框中，键入“<strong>Tailwind Traders</strong>”。从搜索结果中选择“<strong>Tailwind Traders</strong>”&gt;“<strong>常规</strong>”条目，然后单击“<strong>设置机器人</strong>”。</p>
  </li>
  <li>
    <p>从“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道的帖子列表中，选择标题为“<strong>Azure Boards</strong>”的帖子，然后按 <strong>Enter</strong> 键查看机器人发布的其他消息，如下所示：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="hljs sql">Here are some of the things you can <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>:
<span class="hljs-keyword"><span class="hljs-keyword">link</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">project</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>] - <span class="hljs-keyword"><span class="hljs-keyword">Link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">project</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span> items <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> receive notifications
subscriptions - <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> remove subscriptions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> this channel
addAreapath [area <span class="hljs-keyword"><span class="hljs-keyword">path</span></span>] - <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> an area <span class="hljs-keyword"><span class="hljs-keyword">path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> your <span class="hljs-keyword"><span class="hljs-keyword">project</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> this channel
signin - <span class="hljs-keyword"><span class="hljs-keyword">Sign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> your Azure Boards <span class="hljs-keyword"><span class="hljs-keyword">account</span></span>
signout - <span class="hljs-keyword"><span class="hljs-keyword">Sign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> your Azure Boards <span class="hljs-keyword"><span class="hljs-keyword">account</span></span>
unlink - Unlink a <span class="hljs-keyword"><span class="hljs-keyword">project</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> this channel
feedback - Report a problem <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> suggest a feature
<span class="hljs-keyword"><span class="hljs-keyword">To</span></span> know more see documentation.
</code></pre>
  </li>
  <li>打开“<strong>新对话</strong>”并键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Boards</strong>”，然后在命令面板中选择“<strong>登录</strong>”。按照以下步骤，确保你有权访问 Azure DevOps 组织。</li>
  <li>
    <p>复制 Azure DevOps“<strong>Tailwind Traders</strong>”项目的 url。例如：https://dev.azure.com/myorg/myproject。在 Teams 频道中打开“<strong>新对话</strong>”并键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Boards</strong>”，然后在命令面板中选择“<strong>链接</strong>”。此时，粘贴已复制的项目 url。你的帖子应如下所示： 
´<strong>Azure Boards</strong> link https://dev.azure.com/myorg/myproject ´。按 <strong>Enter</strong>。</p>

    <p>查看收到的消息：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="hljs sql">NAME has linked this channel to project  Tailwind Traders. <span class="hljs-keyword"><span class="hljs-keyword">Create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span> items <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> @Azure         Boards create.
<span class="hljs-keyword"><span class="hljs-keyword">To</span></span> monitor <span class="hljs-keyword"><span class="hljs-keyword">work</span></span> items, please <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> subscription
<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> subscription
</code></pre>
  </li>
  <li>单击“<strong>添加订阅</strong>”。在下拉列表中，从事件列表中选择“<strong>创建的工作项</strong>”并单击“<strong>下一步</strong>”。保留默认值并单击“<strong>提交</strong>”。单击“<strong>确定</strong>”并关闭。频道中将发布一条消息，其中包含关于新添加的订阅的详细信息。</li>
  <li>切换到在 Azure DevOps 门户中显示“<strong>Tailwind Traders</strong>”项目的 Web 浏览器，单击“<strong>Boards</strong>”&gt;“<strong>工作项</strong>”。单击“<strong>新建工作项</strong>”，然后从下拉列表中选择“<strong>用户情景</strong>”。为用户情景提供一个标题（例如“<strong>测试 Azure Boards 与 Teams 的集成</strong>”）并<strong>保存</strong>。我们最近设置的 Teams 频道会发布一个通知/卡片，其中包含关于创建的用户情景的信息。</li>
</ol>

<h4 id="任务-2-将-azure-boards-看板添加到-microsoft-teams">任务 2： 将 Azure Boards 看板添加到 Microsoft Teams</h4>

<p>在此任务中，你要将 Azure Boards 看板添加到 Microsoft Teams 中的选项卡。</p>

<blockquote>
  <p><strong>备注</strong>：看板会将你的积压工作 (backlog) 变为交互式布告板，提供视觉工作流。随着工作从创意阶段进行到完成，你将更新面板上的项。每一列代表一个工作阶段，每张卡片代表该工作阶段的一个用户故事（蓝色卡片）或 bug（红色卡片）。可以使用选项卡，将 Teams 看板或你收藏的仪表板直接加入到 Microsoft Teams 中。通过 <strong>选项卡</strong>，团队成员可以在频道或用户个人应用空间中的专用画布上访问你的服务。你可以利用现有 Web 应用在 Teams 中创建优秀的选项卡体验。</p>
</blockquote>

<ol>
  <li>在实验室计算机上，切换到显示 Azure DevOps 门户中 <strong>“Tailwind Traders”</strong> 项目的 Web 浏览器，在 Azure DevOps 门户最左侧的垂直菜单栏中单击 <strong>“面板”</strong>，然后并在 <strong>“面板”</strong> 部分单击 <strong>“面板”</strong>。</li>
  <li>在 <strong>“面板”</strong> 窗格上的 <strong>“我的团队面板(1)”</strong> 部分，单击 <strong>“Tailwind Traders Team 面板”</strong> 项。</li>
  <li>在 <strong>“Tailwind Traders 团队”</strong> 面板上，在 Web 浏览器窗口中，将其 URL 复制到剪贴板。</li>
  <li>切换到“Microsoft Teams”窗口，确保选中新创建的团队“<strong>Tailwind Traders</strong>”的“<strong>常规</strong>”频道，并在“<strong>常规</strong>”窗格的上半部分中单击 <strong>“帖子”、“文件”和“Wiki”选项卡</strong> 旁边的加号。这将显示“<strong>添加选项卡</strong>”窗格。</li>
  <li>在 <strong>“添加选项卡”</strong> 面板上单击 <strong>“网站”</strong>，在 <strong>“网站”</strong> 面板上将 <strong>“选项卡名称”</strong> 设置为 <strong>“Tailwind Traders 团队面板”</strong>，将 <strong>URL</strong> 设置为你刚才复制到剪贴板的 URL，然后单击 <strong>“保存”</strong>。</li>
  <li>在“Microsoft Teams”窗口中，选中“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道，在顶部菜单的选项卡列表中，单击新添加的“<strong>Tailwind Traders 团队板</strong>”选项卡，确保其中包含的内容与 Azure DevOps 门户中提供的“<strong>Tailwind Traders 团队</strong>”板一致（可能需要登录）。</li>
</ol>

<blockquote>
  <p><strong>备注</strong>：可在日站会中监视所有工作，当相应工作项状态更改时，将实时反应更新。还可以从 Microsoft Teams 修改看板。</p>
</blockquote>

<h3 id="练习-2集成-azure-pipelines-与-microsoft-teams">练习 2：集成 Azure Pipelines 与 Microsoft Teams</h3>

<p>在此练习中，你将实现 Azure Pipelines 和 Microsoft Teams 之间的集成。</p>

<h4 id="任务-1在-microsoft-teams-中安装并配置-azure-pipelines-应用">任务 1：在 Microsoft Teams 中安装并配置 Azure Pipelines 应用</h4>

<p>在此任务中，你将在 Microsoft Teams 中的指定团队中安装并配置 Azure Pipelines 应用。</p>

<blockquote>
  <p><strong>备注</strong>：通过针对 Microsoft Teams 的 Azure Pipelines 应用，可以监视管道的活动。可以为发布、等待批准和已完成生成等事件设置和管理订阅，将通知直接发布到你的 Teams 频道。还可以从 Teams 频道中批准发布。</p>
</blockquote>

<ol>
  <li>转到“Mcrosoft Teams”窗口，单击左下角的“<strong>应用</strong>”图标。这将打开“<strong>应用</strong>”窗格。</li>
  <li>在 <strong>“应用”</strong> 窗格上的 <strong>“搜索所有应用”</strong> 文本框中键入 <strong>“Azure Pipelines”</strong>，然后在应用列表中单击 <strong>“Azure Pipelines”</strong>。</li>
  <li>在 <strong>Azure Pipelines</strong> 面板上，单击 <strong>“打开”</strong> 按钮右侧的向下箭头，然后在下拉列表中单击 <strong>“添加到团队”</strong> 项。</li>
  <li>在 <strong>“为团队设置 Azure Pipelines”</strong> 面板上的 <strong>“搜索”</strong> 文本框中，键入 <strong>“Tailwind Traders”</strong>，在结果列表中选择 <strong>“Tailwind Traders”&gt;“常规”</strong> 项，然后单击 <strong>“设置机器人”</strong>。将自动重定向到 <strong>“Tailwind Traders”</strong> 团队 <strong>“常规”</strong> 频道中的帖子视图。</li>
  <li>
    <p>在“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道的帖子列表中，打开“<strong>新对话</strong>”并键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Pipelines</strong>”并按 <strong>Enter</strong> 键，以查看机器人发布的其他消息，如下所示：</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock2" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock2" class="mt-0"><code class="hljs sql">Here are some of the things you can <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>:
subscribe [pipeline <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>/ <span class="hljs-keyword"><span class="hljs-keyword">project</span></span> <span class="hljs-keyword"><span class="hljs-keyword">url</span></span>] - Subscribe <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> a pipeline <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> all pipelines <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">project</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> receive notifications
subscriptions - <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> remove subscriptions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> this channel
feedback - Report a problem <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> suggest a feature
signin - <span class="hljs-keyword"><span class="hljs-keyword">Sign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> your Azure Pipelines <span class="hljs-keyword"><span class="hljs-keyword">account</span></span>
signout - <span class="hljs-keyword"><span class="hljs-keyword">Sign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> your Azure Pipelines <span class="hljs-keyword"><span class="hljs-keyword">account</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">To</span></span> know more see documentation.
</code></pre>
  </li>
</ol>

<h4 id="任务-2在-microsoft-teams-中订阅-azure-pipelines-通知">任务 2：在 Microsoft Teams 中订阅 Azure Pipelines 通知</h4>

<p>在此任务中，你将在 Microsoft Teams 中订阅 Azure Pipelines 通知</p>

<blockquote>
  <p><strong>备注</strong>：可以使用 <code>@Azure Pipelines</code> 句柄开始与该应用交互。</p>
</blockquote>

<ol>
  <li>选中“<strong>帖子</strong>”选项卡后，在“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道中键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Pipelines</strong>”，然后在命令面板中选择“<strong>登录</strong>”并按 <strong>Enter</strong>。</li>
  <li>在 <strong>“Azure Pipelines 登录”</strong> 窗格中，单击 <strong>“登录”</strong>。</li>
  <li>
    <p>如果提示授予 <strong>“服务挂钩(读取和写入)”</strong>、<strong>“生成(生成和执行)”</strong>、<strong>“发布(读取、写入、执行和管理)”</strong>、<strong>“项目和团队(读取)”</strong>、<strong>“标识选取器(读取)”</strong> 和 <strong>“Teams 集成”</strong> 权限，单击 <strong>“接受”</strong>，然后单击 <strong>“关闭”</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>：现在，可以运行 <code>@azure pipelines subscribe [pipeline url]</code> 命令以订阅 Azure DevOps 管道。</p>
    </blockquote>
  </li>
  <li>
    <p>切换到在 Azure DevOps 门户中显示“<strong>Tailwind Traders</strong>”项目的 Web 浏览器，在 Azure DevOps 门户最左侧的垂直菜单栏中单击“<strong>Pipelines</strong>”，在“<strong>Pipelines</strong>”窗格中单击“<strong>Website-CI</strong>”条目，然后在“<strong>Website-CI</strong>”窗格中的 Web 浏览器窗口中，将其 URL 复制到剪贴板。</p>

    <blockquote>
      <p><strong>备注</strong>：该 URL 的格式为 <code>https://dev.azure.com/&lt;organization_name&gt;/Tailwind%20Traders/_build?definitionId=&lt;number&gt;</code>，其中 <code>&lt;organization_name&gt;</code> 是代表 DevOps 组织名称的占位符。</p>
    </blockquote>

    <blockquote>
      <p><strong>备注</strong>：管道 URL 可以指向你的管道中任意页面，只要 URL 中有该管道的 <em>definitionId</em> 或 <em>buildId/releaseId</em>。</p>
    </blockquote>
  </li>
  <li>回到“Teams”，在选中“<strong>帖子</strong>”选项卡后，在“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道中键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Pipelines</strong>”，然后在命令面板中选择“<strong>订阅</strong>”。此时，粘贴已复制的管道 URL。你的帖子应如下所示：<code>@Azure Pipelines subscribe https://dev.azure.com/&lt;organization_name&gt;/Tailwind%20Traders/_build?definitionId=&lt;number&gt;</code>（确保将 <code>&lt;organization_name&gt;</code> 占位符替换为你的 DevOps 组织的名称）。按 <strong>Enter</strong>。</li>
  <li>
    <p>等待已成功创建订阅的确认消息。</p>

    <blockquote>
      <p><strong>备注</strong>：对于生成管道，频道订阅 <strong>“运行阶段状态更改”</strong> 和 <strong>“运行阶段等待批准”</strong> 通知。</p>
    </blockquote>
  </li>
  <li>
    <p>切换到在 Azure DevOps 门户中显示“<strong>Tailwind Traders</strong>”项目的 Web 浏览器，在 Azure DevOps 门户最左侧的垂直菜单栏中单击“<strong>Pipelines</strong>”，在“<strong>Pipelines</strong>”部分中单击“<strong>发布</strong>”，在发布列表中单击“<strong>Website-CD</strong>”条目，在选中“<strong>Website-CD</strong>”条目后，在 Web 浏览器窗口中将其 URL 复制到剪贴板。</p>

    <blockquote>
      <p><strong>备注</strong>：该 URL 的格式将会是 <code>https://dev.azure.com/&lt;organization_name&gt;/Tailwind%20Traders/_release?_a=releases&amp;view=mine&amp;definitionId=2</code>，其中 <code>&lt;organization_name&gt;</code> 是代表你的 DevOps 组织名称的占位符。</p>
    </blockquote>
  </li>
  <li>
    <p>选中“<strong>帖子</strong>”选项卡后，在“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道中键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Pipelines</strong>”，然后在命令面板中选择“<strong>订阅</strong>”。此时，粘贴已复制的发布 URL。你的帖子应如下所示：<code>@Azure Pipelines subscribe https://dev.azure.com/&lt;organization_name&gt;/Tailwind%20Traders/_release?_a=releases&amp;view=mine&amp;definitionId=2</code>，以订阅发布管道（确保将 <code>&lt;organization_name&gt;</code> 占位符替换为你的 DevOps 组织的名称）。按 <strong>Enter</strong>。</p>

    <blockquote>
      <p><strong>备注</strong>：对于发布管道，频道订阅 <strong>“部署开始”</strong>、<strong>“部署完成”</strong> 和 <strong>“部署准等待通知”</strong>。</p>
    </blockquote>
  </li>
</ol>

<h4 id="任务-3使用筛选器自定义-microsoft-teams-中对-azure-pipelines-的订阅">任务 3：使用筛选器自定义 Microsoft Teams 中对 Azure Pipelines 的订阅</h4>

<p>在此任务中，你将自定义 Microsoft Teams 中对 Azure Pipelines 的订阅。</p>

<blockquote>
  <p><strong>备注</strong>：当用户订阅任何管道时，会在不应用任何筛选器的情况下默认创建几个订阅。通常，用户需要自定义这些订阅。例如，用户可能希望仅在生成失败或将部署推送到生产环境时获得通知。Azure Pipelines 应用支持通过筛选器自定义频道中显示的内容。</p>
</blockquote>

<blockquote>
  <p><strong>备注</strong>：可使用 <code>@Azure Pipelines subscriptions</code> 命令列出和管理订阅。此命令会列出该频道的所有当前订阅。</p>
</blockquote>

<ol>
  <li>选中“<strong>帖子</strong>”选项卡后，在“<strong>Tailwind Traders</strong>”团队的“<strong>常规</strong>”频道中键入“<strong>@</strong>”，在你键入“<strong>Azure</strong>”时，系统会提示结果，请选择“<strong>Azure Pipelines</strong>”，然后选择“<strong>订阅</strong>”并按 <strong>Enter</strong>。从“<strong>Azure Pipelines</strong>”机器人的回复中，选择“<strong>添加订阅</strong>”。</li>
  <li>在 <strong>Azure Pipelines</strong> <strong>“添加订阅”</strong> 面板上的 <strong>“选择事件”</strong> 下拉列表中，确保选择 <strong>“生成完成”</strong> 并单击 <strong>“下一步”</strong>。</li>
  <li>在 <strong>Azure Pipelines</strong> <strong>“添加订阅”</strong> 面板上的 <strong>“选择管道”</strong> 下拉列表中，确保选择 <strong>“Website-CI”</strong> 并单击 <strong>“下一步”</strong>。</li>
  <li>在 <strong>Azure Pipelines</strong> <strong>“添加订阅”</strong> 面板上的 <strong>“生成状态”</strong> 拉列表中，确保选择 <strong>“[Any]”</strong> 并单击 <strong>“提交”</strong>。</li>
  <li>在 <strong>Azure Pipelines</strong> <strong>“添加订阅”</strong> 面板上，单击 <strong>“确定”</strong> 以确认通知消息。</li>
  <li>在 <strong>Azure Pipelines</strong> <strong>“查看订阅”</strong> 面板上，查看订阅列表并关闭面板。</li>
  <li>切换到在 Azure DevOps 门户中显示“<strong>Tailwind Traders</strong>”项目的 Web 浏览器，在 Azure DevOps 门户最左侧的垂直菜单栏中单击“<strong>Pipelines</strong>”，在“Pipelines”窗格中，单击“<strong>Website-CI</strong>”条目，然后在“Website-CI”窗格中，单击“<strong>运行管道”&gt;“运行</strong>”。</li>
  <li>Teams 频道将发布关于管道执行失败的通知，这是预期的行为（管道缺少设置）。</li>
</ol>

<h2 id="回顾">回顾</h2>

<p>在本实验室中，你实现了 Azure DevOps 服务和 Microsoft Teams 之间的集成方案。</p>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-400ZH-Designing-and-Implementing-Microsoft-DevOps-solutions" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-400ZH-Designing-and-Implementing-Microsoft-DevOps-solutions
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D.js"></script>



</body></html>