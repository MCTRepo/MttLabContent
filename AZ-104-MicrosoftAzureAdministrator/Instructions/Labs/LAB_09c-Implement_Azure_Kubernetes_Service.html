<!DOCTYPE html><html lang="en"><head>
        <title>
            AZ-104-MicrosoftAzureAdministrator
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <link rel="stylesheet" href="../../assets/css/style_v%3D907526b117000ffdbc71b1bcc102e524d83415a3.css">
    </head>
    <body data-spy="scroll" data-target="#linksMenu">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <div class="container d-flex justify-content-between">
            <a class="my-1 title text-azure text-uppercase" href="../../">
                AZ-104-MicrosoftAzureAdministrator
            </a>
            <a href="https://github.com/MicrosoftLearning/AZ-104-MicrosoftAzureAdministrator" target="_blank" class="btn btn-sm btn-outline-secondary text-light">
                <i class="fa fa-github" aria-hidden="true"></i>
                <span class="ml-2">GitHub</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <main class="row extra-padding">
            <aside class="col-sm-2">       
                <nav id="linksMenu" class="toc sticky-top">
                    <ul class="nav navbar-nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#exercise-1">Exercise 1</a></li></ul>
                </nav>         
            </aside>
            <hr class>
            <article class="col-sm-10 mb-5">
                <h1 id="lab-09c---implement-azure-kubernetes-service">Lab 09c - Implement Azure Kubernetes Service</h1>
<h1 id="student-lab-manual">Student lab manual</h1>

<h2 id="lab-scenario">Lab scenario</h2>

<p>Contoso has a number of multi-tier applications that are not suitable to run by using Azure Container Instances. In order to determine whether they can be run as containerized workloads, you want to evaluate using Kubernetes as the container orchestrator. To further minimize management overhead, you want to test Azure Kubernetes Service, including its simplified deployment experience and scaling capabilities.</p>

<h2 id="objectives">Objectives</h2>

<p>In this lab, you will:</p>

<ul>
  <li>Task 1: Register the Microsoft.Kubernetes and Microsoft.KubernetesConfiguration resource providers.</li>
  <li>Task 2: Deploy an Azure Kubernetes Service cluster</li>
  <li>Task 3: Deploy pods into the Azure Kubernetes Service cluster</li>
  <li>Task 4: Scale containerized workloads in the Azure Kubernetes service cluster</li>
</ul>

<h2 id="estimated-timing-40-minutes">Estimated timing: 40 minutes</h2>

<h2 id="architecture-diagram">Architecture diagram</h2>

<p><a href="../media/lab09c.png" target="_blank"><img src="../media/lab09c.png" alt="image"></a></p>

<h2 id="instructions">Instructions</h2>

<h3 id="exercise-1">Exercise 1</h3>

<h4 id="task-1-register-the-microsoftkubernetes-and-microsoftkubernetesconfiguration-resource-providers">Task 1: Register the Microsoft.Kubernetes and Microsoft.KubernetesConfiguration resource providers.</h4>

<p>In this task, you will register resource providers necessary to deploy an Azure Kubernetes Services cluster.</p>

<ol>
  <li>
    <p>Sign in to the <a href="https://portal.azure.com">Azure portal</a>.</p>
  </li>
  <li>
    <p>In the Azure portal, open the <strong>Azure Cloud Shell</strong> by clicking on the icon in the top right of the Azure Portal.</p>
  </li>
  <li>
    <p>If prompted to select either <strong>Bash</strong> or <strong>PowerShell</strong>, select <strong>PowerShell</strong>.</p>

    <blockquote>
      <p><strong>Note</strong>: If this is the first time you are starting <strong>Cloud Shell</strong> and you are presented with the <strong>You have no storage mounted</strong> message, select the subscription you are using in this lab, and click <strong>Create storage</strong>.</p>
    </blockquote>
  </li>
  <li>
    <p>From the Cloud Shell pane, run the following to register the Microsoft.Kubernetes and Microsoft.KubernetesConfiguration resource providers.</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">code</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock0" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock0" class="mt-0"><code class="language-powershell">Register-AzResourceProvider -ProviderNamespace Microsoft.Kubernetes

Register-AzResourceProvider -ProviderNamespace Microsoft.KubernetesConfiguration
</code></pre>
  </li>
  <li>
    <p>Close the Cloud Shell pane.</p>
  </li>
</ol>

<h4 id="task-2-deploy-an-azure-kubernetes-service-cluster">Task 2: Deploy an Azure Kubernetes Service cluster</h4>

<p>In this task, you will deploy an Azure Kubernetes Services cluster by using the Azure portal.</p>

<ol>
  <li>
    <p>In the Azure portal, search for locate <strong>Kubernetes services</strong> and then, on the <strong>Kubernetes services</strong> blade, click <strong>+ Create</strong>, and then click <strong>+ Create a Kubernetes cluster</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Basics</strong> tab of the <strong>Create Kubernetes cluster</strong> blade, specify the following settings (leave others with their default values):</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Subscription</td>
          <td>the name of the Azure subscription you are using in this lab</td>
        </tr>
        <tr>
          <td>Resource group</td>
          <td>the name of a new resource group <strong>az104-09c-rg1</strong></td>
        </tr>
        <tr>
          <td>Kubernetes cluster name</td>
          <td><strong>az104-9c-aks1</strong></td>
        </tr>
        <tr>
          <td>Region</td>
          <td>the name of a region where you can provision a Kubernetes cluster</td>
        </tr>
        <tr>
          <td>Availability zones</td>
          <td><strong>None</strong> (uncheck all boxes)</td>
        </tr>
        <tr>
          <td>Kubernetes version</td>
          <td>accept the default</td>
        </tr>
        <tr>
          <td>Node size</td>
          <td>accept the default</td>
        </tr>
        <tr>
          <td>Node count</td>
          <td><strong>1</strong></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Click <strong>Next: Node Pools &gt;</strong> and, on the <strong>Node Pools</strong> tab of the <strong>Create Kubernetes cluster</strong> blade, specify the following settings (leave others with their default values):</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Enable virtual nodes</td>
          <td><strong>Disabled</strong> (default)</td>
        </tr>
        <tr>
          <td>Enable virtual machine scale sets</td>
          <td><strong>Enabled</strong> (default)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Click <strong>Next: Authentication &gt;</strong> and, on the <strong>Authentication</strong> tab of the <strong>Create Kubernetes cluster</strong> blade, specify the following settings (leave others with their default values):</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Authentication method</td>
          <td><strong>System-assigned managed identity</strong> (default)</td>
        </tr>
        <tr>
          <td>Role-based access control (RBAC)</td>
          <td><strong>Enabled</strong></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Click <strong>Next: Networking &gt;</strong> and, on the <strong>Networking</strong> tab of the <strong>Create Kubernetes cluster</strong> blade, specify the following settings (leave others with their default values):</p>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Network configuration</td>
          <td><strong>kubenet</strong></td>
        </tr>
        <tr>
          <td>DNS name prefix</td>
          <td>any valid, globally unique DNS host name</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Click <strong>Next: Integrations &gt;</strong>, on the <strong>Integrations</strong> tab of the <strong>Create Kubernetes cluster</strong> blade, set <strong>Container monitoring</strong> to <strong>Disabled</strong>, click <strong>Review + create</strong>, ensure that the validation passed and click Create.</p>

    <blockquote>
      <p><strong>Note</strong>: In production scenarios, you would want to enable monitoring. Monitoring is disabled in this case since it is not covered in the lab.</p>
    </blockquote>

    <blockquote>
      <p><strong>Note</strong>: Wait for the deployment to complete. This should take about 10 minutes.</p>
    </blockquote>
  </li>
</ol>

<h4 id="task-3-deploy-pods-into-the-azure-kubernetes-service-cluster">Task 3: Deploy pods into the Azure Kubernetes Service cluster</h4>

<p>In this task, you will deploy a pod into the Azure Kubernetes Service cluster.</p>

<ol>
  <li>
    <p>On the deployment blade, click the <strong>Go to resource</strong> link.</p>
  </li>
  <li>
    <p>On the <strong>az104-9c-aks1</strong> Kubernetes service blade, in the <strong>Settings</strong> section, click <strong>Node pools</strong>.</p>
  </li>
  <li>
    <p>On the <strong>az104-9c-aks1 - Node pools</strong> blade, verify that the cluster consists of a single pool with one node.</p>
  </li>
  <li>
    <p>In the Azure portal, open the <strong>Azure Cloud Shell</strong> by clicking on the icon in the top right of the Azure Portal.</p>
  </li>
  <li>
    <p>Switch the <strong>Azure Cloud Shell</strong> to <strong>Bash</strong> (black background).</p>
  </li>
  <li>
    <p>From the Cloud Shell pane, run the following to retrieve the credentials to access the AKS cluster:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock1" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock1" class="mt-0"><code class="language-sh hljs bash"> RESOURCE_GROUP=<span class="hljs-string"><span class="hljs-string">'az104-09c-rg1'</span></span>

 AKS_CLUSTER=<span class="hljs-string"><span class="hljs-string">'az104-9c-aks1'</span></span>

 az aks get-credentials --resource-group <span class="hljs-variable"><span class="hljs-variable">$RESOURCE_GROUP</span></span> --name <span class="hljs-variable"><span class="hljs-variable">$AKS_CLUSTER</span></span>
</code></pre>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to verify connectivity to the AKS cluster:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock2" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock2" class="mt-0"><code class="language-sh hljs bash"> kubectl get nodes
</code></pre>
  </li>
  <li>
    <p>In the <strong>Cloud Shell</strong> pane, review the output and verify that the one node which the cluster consists of at this point is reporting the <strong>Ready</strong> status.</p>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to deploy the <strong>nginx</strong> image from the Docker Hub:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock3" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock3" class="mt-0"><code class="language-sh hljs bash"> kubectl create deployment nginx-deployment --image=nginx
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Make sure to use lower case letters when typing the name of the deployment (nginx-deployment)</p>
    </blockquote>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to verify that a Kubernetes pod has been created:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock4" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock4" class="mt-0"><code class="language-sh hljs bash"> kubectl get pods
</code></pre>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to identify the state of the deployment:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock5" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock5" class="mt-0"><code class="language-sh hljs bash"> kubectl get deployment
</code></pre>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to make the pod available from Internet:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock6" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock6" class="mt-0"><code class="language-sh hljs bash"> kubectl expose deployment nginx-deployment --port=80 --<span class="hljs-built_in"><span class="hljs-built_in">type</span></span>=LoadBalancer
</code></pre>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to identify whether a public IP address has been provisioned:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock7" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock7" class="mt-0"><code class="language-sh hljs bash"> kubectl get service
</code></pre>
  </li>
  <li>
    <p>Re-run the command until the value in the <strong>EXTERNAL-IP</strong> column for the <strong>nginx-deployment</strong> entry changes from <strong>&lt;pending&gt;</strong> to a public IP address. Note the public IP address in the <strong>EXTERNAL-IP</strong> column for <strong>nginx-deployment</strong>.</p>
  </li>
  <li>
    <p>Open a browser window and navigate to the IP address you obtained in the previous step. Verify that the browser page displays the <strong>Welcome to nginx!</strong> message.</p>
  </li>
</ol>

<h4 id="task-4-scale-containerized-workloads-in-the-azure-kubernetes-service-cluster">Task 4: Scale containerized workloads in the Azure Kubernetes service cluster</h4>

<p>In this task, you will scale horizontally the number of pods and then number of cluster nodes.</p>

<ol>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, and run the following to scale the deployment by increasing of the number of pods to 2:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock8" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock8" class="mt-0"><code class="language-sh hljs bash">
 RESOURCE_GROUP=<span class="hljs-string"><span class="hljs-string">'az104-09c-rg1'</span></span>

 AKS_CLUSTER=<span class="hljs-string"><span class="hljs-string">'az104-9c-aks1'</span></span>

 kubectl scale --replicas=2 deployment/nginx-deployment
</code></pre>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to verify the outcome of scaling the deployment:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock9" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock9" class="mt-0"><code class="language-sh hljs bash"> kubectl get pods
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Review the output of the command and verify that the number of pods increased to 2.</p>
    </blockquote>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to scale out the cluster by increasing the number of nodes to 2:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock10" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock10" class="mt-0"><code class="language-sh hljs bash"> az aks scale --resource-group <span class="hljs-variable"><span class="hljs-variable">$RESOURCE_GROUP</span></span> --name <span class="hljs-variable"><span class="hljs-variable">$AKS_CLUSTER</span></span> --node-count 2
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Wait for the provisioning of the additional node to complete. This might take about 3 minutes. If it fails, rerun the <code>az aks scale</code> command.</p>
    </blockquote>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to verify the outcome of scaling the cluster:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock11" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock11" class="mt-0"><code class="language-sh hljs bash"> kubectl get nodes
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Review the output of the command and verify that the number of nodes increased to 2.</p>
    </blockquote>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to scale the deployment:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock12" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock12" class="mt-0"><code class="language-sh hljs bash"> kubectl scale --replicas=10 deployment/nginx-deployment
</code></pre>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to verify the outcome of scaling the deployment:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock13" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock13" class="mt-0"><code class="language-sh hljs bash"> kubectl get pods
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Review the output of the command and verify that the number of pods increased to 10.</p>
    </blockquote>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to review the pods distribution across cluster nodes:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock14" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock14" class="mt-0"><code class="language-sh hljs bash"> kubectl get pod -o=custom-columns=NODE:.spec.nodeName,POD:.metadata.name
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: Review the output of the command and verify that the pods are distributed across both nodes.</p>
    </blockquote>
  </li>
  <li>
    <p>From the <strong>Cloud Shell</strong> pane, run the following to delete the deployment:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock15" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock15" class="mt-0"><code class="language-sh hljs bash"> kubectl delete deployment nginx-deployment
</code></pre>
  </li>
  <li>
    <p>Close the <strong>Cloud Shell</strong> pane.</p>
  </li>
</ol>

<h4 id="clean-up-resources">Clean up resources</h4>

<blockquote>
  <p><strong>Note</strong>: Remember to remove any newly created Azure resources that you no longer use. Removing unused resources ensures you will not see unexpected charges.</p>
</blockquote>

<ol>
  <li>
    <p>In the Azure portal, open the <strong>Bash</strong> shell session within the <strong>Cloud Shell</strong> pane.</p>
  </li>
  <li>
    <p>List all resource groups created throughout the labs of this module by running the following command:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock16" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock16" class="mt-0"><code class="language-sh hljs bash">az group list --query <span class="hljs-string"><span class="hljs-string">"[?starts_with(name,'az104-09c')].name"</span></span> --output tsv
</code></pre>
  </li>
  <li>
    <p>Delete all resource groups you created throughout the labs of this module by running the following command:</p>

    <div class="code-header mt-3 mb-0 bg-light d-flex justify-content-between border"><span class="mx-2 text-muted text-capitalize font-weight-light">shell</span><button class="m-0 btn btn-code btn-sm btn-light codeBtn rounded-0 border-left text-muted font-weight-light" data-clipboard-target="#codeBlock17" type="button"><i class="fa fa-files-o mr-2" aria-hidden="true"></i>Copy</button></div><pre id="codeBlock17" class="mt-0"><code class="language-sh hljs bash">az group list --query <span class="hljs-string"><span class="hljs-string">"[?starts_with(name,'az104-09c')].[name]"</span></span> --output tsv | xargs -L1 bash -c <span class="hljs-string"><span class="hljs-string">'az group delete --name $0 --no-wait --yes'</span></span>
</code></pre>

    <blockquote>
      <p><strong>Note</strong>: The command executes asynchronously (as determined by the –nowait parameter), so while you will be able to run another Azure CLI command immediately afterwards within the same Bash session, it will take a few minutes before the resource groups are actually removed.</p>
    </blockquote>
  </li>
</ol>

<h4 id="review">Review</h4>

<p>In this lab, you have:</p>

<ul>
  <li>Deployed an Azure Kubernetes Service cluster</li>
  <li>Deployed pods into the Azure Kubernetes Service cluster</li>
  <li>Scaled containerized workloads in the Azure Kubernetes service cluster</li>
</ul>

            </article>
        </main>
    </div>
    <footer class="fixed-bottom d-print-none">
        <nav class="navbar navbar-light bg-light d-flex justify-content-around">
            <span class="navbar-text">
                <i class="fa fa-github" aria-hidden="true"></i>
                <a href="https://github.com/MicrosoftLearning/AZ-104-MicrosoftAzureAdministrator" target="_blank" class="ml-2">
                    MicrosoftLearning/AZ-104-MicrosoftAzureAdministrator
                </a>
            </span>
        </nav>
    </footer>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="../../assets/js/script_v%3D907526b117000ffdbc71b1bcc102e524d83415a3.js"></script>



</body></html>