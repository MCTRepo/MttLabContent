<!DOCTYPE html><html lang="en-US"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>实验室 5：创建自定义 QnA Maker 机器人 | AI-100ZH-Design-Implement-Azure-AISol</title>
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="实验室 5：创建自定义 QnA Maker 机器人">
<meta property="og:locale" content="en_US">
<meta name="description" content="AI100T01A ILT 课程的实验文件">
<meta property="og:description" content="AI100T01A ILT 课程的实验文件">
<link rel="canonical" href="https://microsoftlearning.github.io/AI-100ZH-Design-Implement-Azure-AISol/Lab5-QnA/02-QnAMaker_Setup.html">
<meta property="og:url" content="https://microsoftlearning.github.io/AI-100ZH-Design-Implement-Azure-AISol/Lab5-QnA/02-QnAMaker_Setup.html">
<meta property="og:site_name" content="AI-100ZH-Design-Implement-Azure-AISol">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="实验室 5：创建自定义 QnA Maker 机器人">
<script type="application/ld+json">
{"description":"AI100T01A ILT 课程的实验文件","url":"https://microsoftlearning.github.io/AI-100ZH-Design-Implement-Azure-AISol/Lab5-QnA/02-QnAMaker_Setup.html","@type":"WebPage","headline":"实验室 5：创建自定义 QnA Maker 机器人","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <style class="anchorjs"></style><link rel="stylesheet" href="../assets/css/style_v%3D3a0ab1c74f6d3ca7c17e819da8185129fa5047f9.css">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/AI-100ZH-Design-Implement-Azure-AISol/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="../">AI-100ZH-Design-Implement-Azure-AISol</a></h1>
      

      <h1 id="实验室-5创建自定义-qna-maker-机器人">实验室 5：创建自定义 QnA Maker 机器人</h1>

<h2 id="简介">简介<a class="anchorjs-link " href="#简介" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<p>在本实验中，我们将探索 QnA Maker，了解如何使用它创建连接到预先训练的知识库的机器人。  使用 QnAMaker 可以上传文档或指向网页，并让它预先填充知识库，以便为常规用途（例如常见问题解答）的简单机器人提供信息。</p>

<h2 id="实验-51qna-maker-设置">实验 5.1：QnA Maker 设置<a class="anchorjs-link " href="#实验-51qna-maker-设置" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<ol>
  <li>
    <p>切换到 <a href="https://portal.azure.com">Azure 门户</a>和实验室资源组。</p>
  </li>
  <li>
    <p>在区域边栏选项卡中，选择 <strong>“+ 添加”</strong></p>
  </li>
  <li>
    <p>键入 <strong>“QnA Maker”</strong>，然后选择 <strong>“QnA Maker”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“创建”</strong></p>
  </li>
  <li>
    <p>确保已选中你的实验室订阅和资源组</p>
  </li>
  <li>
    <p>提供服务的<strong>名称</strong>，例如“<strong>ai100QnAgo</strong>”，将“<strong>go</strong>”替换为自己姓名的首字母缩写，以创建唯一的名称</p>
  </li>
  <li>
    <p>对于资源定价层，选择“<strong>标准 S0</strong>”。  我们不使用免费层，因为稍后我们将上传大于 1MB 的文件。</p>
  </li>
  <li>
    <p>选择与所有资源所在位置相同的位置，然后在搜索定价层处，选择“<strong>免费 F</strong>”层</p>
  </li>
  <li>
    <p>在“<strong>应用名称</strong>”字段中，应填充在前面步骤的“<strong>名称</strong>”中使用的值。  如果没有，则输入应用名称，该值必须是唯一的</p>
  </li>
  <li>
    <p>禁用 <strong>App Insights</strong></p>
  </li>
  <li>
    <p>选择“<strong>查看 + 创建</strong>”，然后选择“<strong>创建</strong>”。这会在资源组中创建以下资源：</p>

    <ul>
      <li>应用服务计划</li>
      <li>应用服务</li>
      <li>Application Insights</li>
      <li>搜索服务</li>
      <li>QnAMaker 类型的认知服务实例</li>
    </ul>
  </li>
</ol>

<h2 id="实验-52创建知识库">实验 5.2：创建知识库<a class="anchorjs-link " href="#实验-52创建知识库" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<ol>
  <li>
    <p>打开 <a href="https://qnamaker.ai">QnA Maker 站点</a></p>
  </li>
  <li>
    <p>在右上角，选择 <strong>“登录”</strong>。使用新 QnA Maker 资源的 Azure 凭据登录</p>
  </li>
  <li>
    <p>在顶部导航区，选择 <strong>“创建知识库”</strong></p>
  </li>
  <li>
    <p>跳过步骤 <strong>1</strong>，因为你已创建资源</p>
  </li>
  <li>
    <p>选择绑定到 QnA Maker 资源的 Azure AD 和订阅，然后选择新建的 QnA Maker 资源和你的目标语言。</p>
  </li>
  <li>
    <p>对于名称，键入 <strong>“Microsoft FAQ”</strong></p>
  </li>
  <li>
    <p>对于文件，选择 <strong>“添加文件”</strong>，浏览至 <strong>code/surface-pro-4-user-guide-EN.pdf</strong> 文件</p>
  </li>
  <li>
    <p>对于文件，选择 <strong>“添加文件”</strong>，浏览至 <strong>code/Manage Azure Blob Storage</strong> 文件</p>

    <blockquote>
      <p><strong>注意：</strong><a href="https://docs.microsoft.com/zh-cn/azure/cognitive-services/qnamaker/concepts/data-sources-supported">此处</a>提供有关支持的文件类型和数据源的详细信息</p>
    </blockquote>
  </li>
  <li>
    <p>对于 <strong>“闲聊”</strong>，选择 <strong>“风趣”</strong></p>
  </li>
  <li>
    <p>选择 <strong>“创建 KB”</strong></p>

    <blockquote>
      <p><strong>注意</strong>，此过程可能需要几分钟时间。</p>
    </blockquote>
  </li>
</ol>

<h2 id="实验室-53发布和测试知识库">实验室 5.3：发布和测试知识库<a class="anchorjs-link " href="#实验室-53发布和测试知识库" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<ol>
  <li>
    <p>查看知识库 QnA 对，根据我们提供的两个文档，你应该能看到约 200 个不同的对</p>
  </li>
  <li>
    <p>在顶部菜单中，选择 <strong>“发布”</strong>。</p>
  </li>
  <li>
    <p>在“发布”页面上，选择 <strong>“发布”</strong>。  服务发布后，选择“成功”页面上的 <strong>“创建机器人”</strong> 按钮</p>
  </li>
  <li>
    <p>如果出现提示，请使用与实验室资源组绑定的帐户登录。</p>
  </li>
  <li>
    <p>在“机器人服务创建”页面上，修复所有命名错误，然后选择 <strong>“创建”</strong>。</p>

    <blockquote>
      <p><strong>注意：</strong> Azure 的最新更改要求从某些资源名称中删除破折号 (“-“)</p>
    </blockquote>
  </li>
  <li>
    <p>创建机器人资源后，导航至新的 <strong>“Web 应用机器人”</strong>，然后选择 <strong>“在网上聊天中测试”</strong></p>
  </li>
  <li>
    <p>向机器人询问与 Surface Pro 4 或管理 Azure Blob 存储相关的任何问题：</p>

    <ul>
      <li>如何增加内存？</li>
      <li>电池充电需要多长时间？</li>
      <li>如何进行硬重置？</li>
      <li>什么是 blob？</li>
    </ul>
  </li>
  <li>
    <p>向机器人询问一些它不了解的问题，例如：</p>

    <ul>
      <li>如何才能在打保龄球时一击全中？</li>
    </ul>
  </li>
</ol>

<h2 id="实验室-54下载机器人源代码">实验室 5.4：下载机器人源代码<a class="anchorjs-link " href="#实验室-54下载机器人源代码" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<ol>
  <li>
    <p>在 <strong>“机器人管理”</strong> 下，选择 <strong>“生成”</strong> 选项卡</p>
  </li>
  <li>
    <p>选择 <strong>“下载机器人源代码”</strong>，出现提示时选择 <strong>“是”</strong>。</p>
  </li>
  <li>
    <p>Azure 将生成源代码，完成后，选择 <strong>“下载机器人源代码”</strong>，出现提示时，选择 <strong>“是”</strong></p>
  </li>
  <li>
    <p>将压缩文件解压缩到本地计算机</p>
  </li>
  <li>
    <p>使用 Visual Studio 2019 打开 .sln 解决方案文件</p>
  </li>
  <li>
    <p>打开 <strong>Startup.cs</strong>文件，你会发现此处未添加任何特殊内容</p>
  </li>
  <li>
    <p>打开 <strong>Bots/{BotName}.cs</strong> 文件并查看为此文件生成的代码</p>
  </li>
  <li>
    <p>打开 <strong>BotService.cs</strong> 文件并查看为此文件生成的代码。</p>

    <p>[!注意]对于在本实验室创作过程中下载的解决方案，前面用于检查生成代码的步骤是正确的。  解决方案文件可能会根据对框架和 SDK 的更新而不时更改，因此解决方案文件可能会有所不同。  这里的关键是让你检查一下从该工具自动生成的代码。</p>
  </li>
</ol>

<h2 id="延伸阅读">延伸阅读<a class="anchorjs-link " href="#延伸阅读" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<p>如何将 QnAMaker 代码集成到图片机器人中？</p>

<h2 id="资源">资源<a class="anchorjs-link " href="#资源" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<ul>
  <li><a href="https://docs.microsoft.com/zh-cn/azure/cognitive-services/qnamaker/overview/overview">什么是 QnA Maker 服务？</a></li>
</ul>

<h2 id="后续步骤">后续步骤<a class="anchorjs-link " href="#后续步骤" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<ul>
  <li><a href="../Lab6-Implement_LUIS/01-Introduction.html">实验 06-01：实现 LUIS</a></li>
</ul>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  

</body></html>